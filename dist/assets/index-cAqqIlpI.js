var QC=n=>{throw TypeError(n)};var x_=(n,e,t)=>e.has(n)||QC("Cannot "+t);var Ge=(n,e,t)=>(x_(n,e,"read from private field"),t?t.call(n):e.get(n)),rn=(n,e,t)=>e.has(n)?QC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Bt=(n,e,t,i)=>(x_(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Fi=(n,e,t)=>(x_(n,e,"access private method"),t);var Ug=(n,e,t,i)=>({set _(r){Bt(n,e,r,t)},get _(){return Ge(n,e,i)}});function e5(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function NM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var WD={exports:{}},dx={},jD={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm=Symbol.for("react.element"),t5=Symbol.for("react.portal"),n5=Symbol.for("react.fragment"),i5=Symbol.for("react.strict_mode"),r5=Symbol.for("react.profiler"),s5=Symbol.for("react.provider"),o5=Symbol.for("react.context"),a5=Symbol.for("react.forward_ref"),l5=Symbol.for("react.suspense"),c5=Symbol.for("react.memo"),u5=Symbol.for("react.lazy"),JC=Symbol.iterator;function d5(n){return n===null||typeof n!="object"?null:(n=JC&&n[JC]||n["@@iterator"],typeof n=="function"?n:null)}var XD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YD=Object.assign,qD={};function Cf(n,e,t){this.props=n,this.context=e,this.refs=qD,this.updater=t||XD}Cf.prototype.isReactComponent={};Cf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Cf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function KD(){}KD.prototype=Cf.prototype;function OM(n,e,t){this.props=n,this.context=e,this.refs=qD,this.updater=t||XD}var UM=OM.prototype=new KD;UM.constructor=OM;YD(UM,Cf.prototype);UM.isPureReactComponent=!0;var eA=Array.isArray,$D=Object.prototype.hasOwnProperty,FM={current:null},ZD={key:!0,ref:!0,__self:!0,__source:!0};function QD(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$D.call(e,i)&&!ZD.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Mm,type:n,key:s,ref:o,props:r,_owner:FM.current}}function f5(n,e){return{$$typeof:Mm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function zM(n){return typeof n=="object"&&n!==null&&n.$$typeof===Mm}function h5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var tA=/\/+/g;function __(n,e){return typeof n=="object"&&n!==null&&n.key!=null?h5(""+n.key):e.toString(36)}function oy(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Mm:case t5:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+__(o,0):i,eA(r)?(t="",n!=null&&(t=n.replace(tA,"$&/")+"/"),oy(r,e,t,"",function(c){return c})):r!=null&&(zM(r)&&(r=f5(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(tA,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",eA(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+__(s,a);o+=oy(s,e,t,l,r)}else if(l=d5(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+__(s,a++),o+=oy(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fg(n,e,t){if(n==null)return n;var i=[],r=0;return oy(n,i,"","",function(s){return e.call(t,s,r++)}),i}function p5(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var gr={current:null},ay={transition:null},m5={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:ay,ReactCurrentOwner:FM};function JD(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:Fg,forEach:function(n,e,t){Fg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Fg(n,function(){e++}),e},toArray:function(n){return Fg(n,function(e){return e})||[]},only:function(n){if(!zM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Xt.Component=Cf;Xt.Fragment=n5;Xt.Profiler=r5;Xt.PureComponent=OM;Xt.StrictMode=i5;Xt.Suspense=l5;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m5;Xt.act=JD;Xt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=YD({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=FM.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)$D.call(e,l)&&!ZD.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Mm,type:n.type,key:r,ref:s,props:i,_owner:o}};Xt.createContext=function(n){return n={$$typeof:o5,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:s5,_context:n},n.Consumer=n};Xt.createElement=QD;Xt.createFactory=function(n){var e=QD.bind(null,n);return e.type=n,e};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(n){return{$$typeof:a5,render:n}};Xt.isValidElement=zM;Xt.lazy=function(n){return{$$typeof:u5,_payload:{_status:-1,_result:n},_init:p5}};Xt.memo=function(n,e){return{$$typeof:c5,type:n,compare:e===void 0?null:e}};Xt.startTransition=function(n){var e=ay.transition;ay.transition={};try{n()}finally{ay.transition=e}};Xt.unstable_act=JD;Xt.useCallback=function(n,e){return gr.current.useCallback(n,e)};Xt.useContext=function(n){return gr.current.useContext(n)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(n){return gr.current.useDeferredValue(n)};Xt.useEffect=function(n,e){return gr.current.useEffect(n,e)};Xt.useId=function(){return gr.current.useId()};Xt.useImperativeHandle=function(n,e,t){return gr.current.useImperativeHandle(n,e,t)};Xt.useInsertionEffect=function(n,e){return gr.current.useInsertionEffect(n,e)};Xt.useLayoutEffect=function(n,e){return gr.current.useLayoutEffect(n,e)};Xt.useMemo=function(n,e){return gr.current.useMemo(n,e)};Xt.useReducer=function(n,e,t){return gr.current.useReducer(n,e,t)};Xt.useRef=function(n){return gr.current.useRef(n)};Xt.useState=function(n){return gr.current.useState(n)};Xt.useSyncExternalStore=function(n,e,t){return gr.current.useSyncExternalStore(n,e,t)};Xt.useTransition=function(){return gr.current.useTransition()};Xt.version="18.3.1";jD.exports=Xt;var z=jD.exports;const tt=NM(z),g5=e5({__proto__:null,default:tt},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v5=z,y5=Symbol.for("react.element"),x5=Symbol.for("react.fragment"),_5=Object.prototype.hasOwnProperty,w5=v5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S5={key:!0,ref:!0,__self:!0,__source:!0};function eL(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)_5.call(e,i)&&!S5.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:y5,type:n,key:s,ref:o,props:r,_owner:w5.current}}dx.Fragment=x5;dx.jsx=eL;dx.jsxs=eL;WD.exports=dx;var D=WD.exports,tL={exports:{}},us={},nL={exports:{}},iL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,B){var H=k.length;k.push(B);e:for(;0<H;){var F=H-1>>>1,Y=k[F];if(0<r(Y,B))k[F]=B,k[H]=Y,H=F;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var B=k[0],H=k.pop();if(H!==B){k[0]=H;e:for(var F=0,Y=k.length,ie=Y>>>1;F<ie;){var $=2*(F+1)-1,te=k[$],oe=$+1,se=k[oe];if(0>r(te,H))oe<Y&&0>r(se,te)?(k[F]=se,k[oe]=H,F=oe):(k[F]=te,k[$]=H,F=$);else if(oe<Y&&0>r(se,H))k[F]=se,k[oe]=H,F=oe;else break e}}return B}function r(k,B){var H=k.sortIndex-B.sortIndex;return H!==0?H:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var B=t(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=k)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(c)}}function b(k){if(y=!1,S(k),!v)if(t(l)!==null)v=!0,K(E);else{var B=t(c);B!==null&&ne(b,B.startTime-k)}}function E(k,B){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var H=f;try{for(S(B),d=t(l);d!==null&&(!(d.expirationTime>B)||k&&!O());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var Y=F(d.expirationTime<=B);B=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&i(l),S(B)}else i(l);d=t(l)}if(d!==null)var ie=!0;else{var $=t(c);$!==null&&ne(b,$.startTime-B),ie=!1}return ie}finally{d=null,f=H,m=!1}}var C=!1,P=null,R=-1,I=5,T=-1;function O(){return!(n.unstable_now()-T<I)}function U(){if(P!==null){var k=n.unstable_now();T=k;var B=!0;try{B=P(!0,k)}finally{B?j():(C=!1,P=null)}}else C=!1}var j;if(typeof _=="function")j=function(){_(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=U,j=function(){ee.postMessage(null)}}else j=function(){x(U,0)};function K(k){P=k,C||(C=!0,j())}function ne(k,B){R=x(function(){k(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,K(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return k()}finally{f=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=f;f=k;try{return B()}finally{f=H}},n.unstable_scheduleCallback=function(k,B,H){var F=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,k={id:u++,callback:B,priorityLevel:k,startTime:H,expirationTime:Y,sortIndex:-1},H>F?(k.sortIndex=H,e(c,k),t(l)===null&&k===t(c)&&(y?(g(R),R=-1):y=!0,ne(b,H-F))):(k.sortIndex=Y,e(l,k),v||m||(v=!0,K(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var B=f;return function(){var H=f;f=B;try{return k.apply(this,arguments)}finally{f=H}}}})(iL);nL.exports=iL;var b5=nL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M5=z,ls=b5;function Ze(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rL=new Set,Ep={};function vu(n,e){of(n,e),of(n+"Capture",e)}function of(n,e){for(Ep[n]=e,n=0;n<e.length;n++)rL.add(e[n])}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DS=Object.prototype.hasOwnProperty,E5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nA={},iA={};function T5(n){return DS.call(iA,n)?!0:DS.call(nA,n)?!1:E5.test(n)?iA[n]=!0:(nA[n]=!0,!1)}function C5(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A5(n,e,t,i){if(e===null||typeof e>"u"||C5(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Pi[n]=new vr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Pi[e]=new vr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Pi[n]=new vr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Pi[n]=new vr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Pi[n]=new vr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Pi[n]=new vr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Pi[n]=new vr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Pi[n]=new vr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Pi[n]=new vr(n,5,!1,n.toLowerCase(),null,!1,!1)});var BM=/[\-:]([a-z])/g;function VM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(BM,VM);Pi[e]=new vr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(BM,VM);Pi[e]=new vr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(BM,VM);Pi[e]=new vr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Pi[n]=new vr(n,1,!1,n.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Pi[n]=new vr(n,1,!1,n.toLowerCase(),null,!0,!0)});function HM(n,e,t,i){var r=Pi.hasOwnProperty(e)?Pi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A5(e,t,r,i)&&(t=null),i||r===null?T5(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Ia=M5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zg=Symbol.for("react.element"),md=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),GM=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),sL=Symbol.for("react.provider"),oL=Symbol.for("react.context"),WM=Symbol.for("react.forward_ref"),kS=Symbol.for("react.suspense"),NS=Symbol.for("react.suspense_list"),jM=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),aL=Symbol.for("react.offscreen"),rA=Symbol.iterator;function mh(n){return n===null||typeof n!="object"?null:(n=rA&&n[rA]||n["@@iterator"],typeof n=="function"?n:null)}var Pn=Object.assign,w_;function Vh(n){if(w_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);w_=e&&e[1]||""}return`
`+w_+n}var S_=!1;function b_(n,e){if(!n||S_)return"";S_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{S_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Vh(n):""}function P5(n){switch(n.tag){case 5:return Vh(n.type);case 16:return Vh("Lazy");case 13:return Vh("Suspense");case 19:return Vh("SuspenseList");case 0:case 2:case 15:return n=b_(n.type,!1),n;case 11:return n=b_(n.type.render,!1),n;case 1:return n=b_(n.type,!0),n;default:return""}}function OS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case gd:return"Fragment";case md:return"Portal";case LS:return"Profiler";case GM:return"StrictMode";case kS:return"Suspense";case NS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oL:return(n.displayName||"Context")+".Consumer";case sL:return(n._context.displayName||"Context")+".Provider";case WM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case jM:return e=n.displayName||null,e!==null?e:OS(n.type)||"Memo";case rl:e=n._payload,n=n._init;try{return OS(n(e))}catch{}}return null}function R5(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OS(e);case 8:return e===GM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lL(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I5(n){var e=lL(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Bg(n){n._valueTracker||(n._valueTracker=I5(n))}function cL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=lL(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Ly(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function US(n,e){var t=e.checked;return Pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function sA(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Rl(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uL(n,e){e=e.checked,e!=null&&HM(n,"checked",e,!1)}function FS(n,e){uL(n,e);var t=Rl(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?zS(n,e.type,t):e.hasOwnProperty("defaultValue")&&zS(n,e.type,Rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function oA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function zS(n,e,t){(e!=="number"||Ly(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Hh=Array.isArray;function zd(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Rl(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function BS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ze(91));return Pn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function aA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ze(92));if(Hh(t)){if(1<t.length)throw Error(Ze(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Rl(t)}}function dL(n,e){var t=Rl(e.value),i=Rl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function lA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function fL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?fL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vg,hL=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Vg=Vg||document.createElement("div"),Vg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Tp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D5=["Webkit","ms","Moz","O"];Object.keys($h).forEach(function(n){D5.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$h[e]=$h[n]})});function pL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$h.hasOwnProperty(n)&&$h[n]?(""+e).trim():e+"px"}function mL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=pL(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var L5=Pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HS(n,e){if(e){if(L5[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ze(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ze(62))}}function GS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WS=null;function XM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jS=null,Bd=null,Vd=null;function cA(n){if(n=Cm(n)){if(typeof jS!="function")throw Error(Ze(280));var e=n.stateNode;e&&(e=gx(e),jS(n.stateNode,n.type,e))}}function gL(n){Bd?Vd?Vd.push(n):Vd=[n]:Bd=n}function vL(){if(Bd){var n=Bd,e=Vd;if(Vd=Bd=null,cA(n),e)for(n=0;n<e.length;n++)cA(e[n])}}function yL(n,e){return n(e)}function xL(){}var M_=!1;function _L(n,e,t){if(M_)return n(e,t);M_=!0;try{return yL(n,e,t)}finally{M_=!1,(Bd!==null||Vd!==null)&&(xL(),vL())}}function Cp(n,e){var t=n.stateNode;if(t===null)return null;var i=gx(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ze(231,e,typeof t));return t}var XS=!1;if(xa)try{var gh={};Object.defineProperty(gh,"passive",{get:function(){XS=!0}}),window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{XS=!1}function k5(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Zh=!1,ky=null,Ny=!1,YS=null,N5={onError:function(n){Zh=!0,ky=n}};function O5(n,e,t,i,r,s,o,a,l){Zh=!1,ky=null,k5.apply(N5,arguments)}function U5(n,e,t,i,r,s,o,a,l){if(O5.apply(this,arguments),Zh){if(Zh){var c=ky;Zh=!1,ky=null}else throw Error(Ze(198));Ny||(Ny=!0,YS=c)}}function yu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function wL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function uA(n){if(yu(n)!==n)throw Error(Ze(188))}function F5(n){var e=n.alternate;if(!e){if(e=yu(n),e===null)throw Error(Ze(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return uA(r),n;if(s===i)return uA(r),e;s=s.sibling}throw Error(Ze(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Ze(189))}}if(t.alternate!==i)throw Error(Ze(190))}if(t.tag!==3)throw Error(Ze(188));return t.stateNode.current===t?n:e}function SL(n){return n=F5(n),n!==null?bL(n):null}function bL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=bL(n);if(e!==null)return e;n=n.sibling}return null}var ML=ls.unstable_scheduleCallback,dA=ls.unstable_cancelCallback,z5=ls.unstable_shouldYield,B5=ls.unstable_requestPaint,Vn=ls.unstable_now,V5=ls.unstable_getCurrentPriorityLevel,YM=ls.unstable_ImmediatePriority,EL=ls.unstable_UserBlockingPriority,Oy=ls.unstable_NormalPriority,H5=ls.unstable_LowPriority,TL=ls.unstable_IdlePriority,fx=null,Po=null;function G5(n){if(Po&&typeof Po.onCommitFiberRoot=="function")try{Po.onCommitFiberRoot(fx,n,void 0,(n.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:X5,W5=Math.log,j5=Math.LN2;function X5(n){return n>>>=0,n===0?32:31-(W5(n)/j5|0)|0}var Hg=64,Gg=4194304;function Gh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Uy(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Gh(a):(s&=o,s!==0&&(i=Gh(s)))}else o=t&~r,o!==0?i=Gh(o):s!==0&&(i=Gh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Js(e),r=1<<t,i|=n[t],e&=~r;return i}function Y5(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q5(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Js(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=Y5(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function qS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function CL(){var n=Hg;return Hg<<=1,!(Hg&4194240)&&(Hg=64),n}function E_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Em(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Js(e),n[e]=t}function K5(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Js(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function qM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Js(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var on=0;function AL(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var PL,KM,RL,IL,DL,KS=!1,Wg=[],xl=null,_l=null,wl=null,Ap=new Map,Pp=new Map,ol=[],$5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fA(n,e){switch(n){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":Ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pp.delete(e.pointerId)}}function vh(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Cm(e),e!==null&&KM(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Z5(n,e,t,i,r){switch(e){case"focusin":return xl=vh(xl,n,e,t,i,r),!0;case"dragenter":return _l=vh(_l,n,e,t,i,r),!0;case"mouseover":return wl=vh(wl,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Ap.set(s,vh(Ap.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Pp.set(s,vh(Pp.get(s)||null,n,e,t,i,r)),!0}return!1}function LL(n){var e=Nc(n.target);if(e!==null){var t=yu(e);if(t!==null){if(e=t.tag,e===13){if(e=wL(t),e!==null){n.blockedOn=e,DL(n.priority,function(){RL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ly(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=$S(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);WS=i,t.target.dispatchEvent(i),WS=null}else return e=Cm(t),e!==null&&KM(e),n.blockedOn=t,!1;e.shift()}return!0}function hA(n,e,t){ly(n)&&t.delete(e)}function Q5(){KS=!1,xl!==null&&ly(xl)&&(xl=null),_l!==null&&ly(_l)&&(_l=null),wl!==null&&ly(wl)&&(wl=null),Ap.forEach(hA),Pp.forEach(hA)}function yh(n,e){n.blockedOn===e&&(n.blockedOn=null,KS||(KS=!0,ls.unstable_scheduleCallback(ls.unstable_NormalPriority,Q5)))}function Rp(n){function e(r){return yh(r,n)}if(0<Wg.length){yh(Wg[0],n);for(var t=1;t<Wg.length;t++){var i=Wg[t];i.blockedOn===n&&(i.blockedOn=null)}}for(xl!==null&&yh(xl,n),_l!==null&&yh(_l,n),wl!==null&&yh(wl,n),Ap.forEach(e),Pp.forEach(e),t=0;t<ol.length;t++)i=ol[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ol.length&&(t=ol[0],t.blockedOn===null);)LL(t),t.blockedOn===null&&ol.shift()}var Hd=Ia.ReactCurrentBatchConfig,Fy=!0;function J5(n,e,t,i){var r=on,s=Hd.transition;Hd.transition=null;try{on=1,$M(n,e,t,i)}finally{on=r,Hd.transition=s}}function eV(n,e,t,i){var r=on,s=Hd.transition;Hd.transition=null;try{on=4,$M(n,e,t,i)}finally{on=r,Hd.transition=s}}function $M(n,e,t,i){if(Fy){var r=$S(n,e,t,i);if(r===null)N_(n,e,i,zy,t),fA(n,i);else if(Z5(r,n,e,t,i))i.stopPropagation();else if(fA(n,i),e&4&&-1<$5.indexOf(n)){for(;r!==null;){var s=Cm(r);if(s!==null&&PL(s),s=$S(n,e,t,i),s===null&&N_(n,e,i,zy,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else N_(n,e,i,null,t)}}var zy=null;function $S(n,e,t,i){if(zy=null,n=XM(i),n=Nc(n),n!==null)if(e=yu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=wL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return zy=n,null}function kL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V5()){case YM:return 1;case EL:return 4;case Oy:case H5:return 16;case TL:return 536870912;default:return 16}default:return 16}}var pl=null,ZM=null,cy=null;function NL(){if(cy)return cy;var n,e=ZM,t=e.length,i,r="value"in pl?pl.value:pl.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return cy=r.slice(n,1<i?1-i:void 0)}function uy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jg(){return!0}function pA(){return!1}function ds(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jg:pA,this.isPropagationStopped=pA,this}return Pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jg)},persist:function(){},isPersistent:jg}),e}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QM=ds(Af),Tm=Pn({},Af,{view:0,detail:0}),tV=ds(Tm),T_,C_,xh,hx=Pn({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==xh&&(xh&&n.type==="mousemove"?(T_=n.screenX-xh.screenX,C_=n.screenY-xh.screenY):C_=T_=0,xh=n),T_)},movementY:function(n){return"movementY"in n?n.movementY:C_}}),mA=ds(hx),nV=Pn({},hx,{dataTransfer:0}),iV=ds(nV),rV=Pn({},Tm,{relatedTarget:0}),A_=ds(rV),sV=Pn({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),oV=ds(sV),aV=Pn({},Af,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lV=ds(aV),cV=Pn({},Af,{data:0}),gA=ds(cV),uV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hV(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=fV[n])?!!e[n]:!1}function JM(){return hV}var pV=Pn({},Tm,{key:function(n){if(n.key){var e=uV[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dV[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JM,charCode:function(n){return n.type==="keypress"?uy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mV=ds(pV),gV=Pn({},hx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vA=ds(gV),vV=Pn({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JM}),yV=ds(vV),xV=Pn({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),_V=ds(xV),wV=Pn({},hx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),SV=ds(wV),bV=[9,13,27,32],eE=xa&&"CompositionEvent"in window,Qh=null;xa&&"documentMode"in document&&(Qh=document.documentMode);var MV=xa&&"TextEvent"in window&&!Qh,OL=xa&&(!eE||Qh&&8<Qh&&11>=Qh),yA=" ",xA=!1;function UL(n,e){switch(n){case"keyup":return bV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vd=!1;function EV(n,e){switch(n){case"compositionend":return FL(e);case"keypress":return e.which!==32?null:(xA=!0,yA);case"textInput":return n=e.data,n===yA&&xA?null:n;default:return null}}function TV(n,e){if(vd)return n==="compositionend"||!eE&&UL(n,e)?(n=NL(),cy=ZM=pl=null,vd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OL&&e.locale!=="ko"?null:e.data;default:return null}}var CV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _A(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!CV[n.type]:e==="textarea"}function zL(n,e,t,i){gL(i),e=By(e,"onChange"),0<e.length&&(t=new QM("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Jh=null,Ip=null;function AV(n){$L(n,0)}function px(n){var e=_d(n);if(cL(e))return n}function PV(n,e){if(n==="change")return e}var BL=!1;if(xa){var P_;if(xa){var R_="oninput"in document;if(!R_){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),R_=typeof wA.oninput=="function"}P_=R_}else P_=!1;BL=P_&&(!document.documentMode||9<document.documentMode)}function SA(){Jh&&(Jh.detachEvent("onpropertychange",VL),Ip=Jh=null)}function VL(n){if(n.propertyName==="value"&&px(Ip)){var e=[];zL(e,Ip,n,XM(n)),_L(AV,e)}}function RV(n,e,t){n==="focusin"?(SA(),Jh=e,Ip=t,Jh.attachEvent("onpropertychange",VL)):n==="focusout"&&SA()}function IV(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return px(Ip)}function DV(n,e){if(n==="click")return px(e)}function LV(n,e){if(n==="input"||n==="change")return px(e)}function kV(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ro=typeof Object.is=="function"?Object.is:kV;function Dp(n,e){if(ro(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!DS.call(e,r)||!ro(n[r],e[r]))return!1}return!0}function bA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function MA(n,e){var t=bA(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=bA(t)}}function HL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?HL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function GL(){for(var n=window,e=Ly();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ly(n.document)}return e}function tE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function NV(n){var e=GL(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&HL(t.ownerDocument.documentElement,t)){if(i!==null&&tE(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=MA(t,s);var o=MA(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var OV=xa&&"documentMode"in document&&11>=document.documentMode,yd=null,ZS=null,ep=null,QS=!1;function EA(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;QS||yd==null||yd!==Ly(i)||(i=yd,"selectionStart"in i&&tE(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ep&&Dp(ep,i)||(ep=i,i=By(ZS,"onSelect"),0<i.length&&(e=new QM("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=yd)))}function Xg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var xd={animationend:Xg("Animation","AnimationEnd"),animationiteration:Xg("Animation","AnimationIteration"),animationstart:Xg("Animation","AnimationStart"),transitionend:Xg("Transition","TransitionEnd")},I_={},WL={};xa&&(WL=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function mx(n){if(I_[n])return I_[n];if(!xd[n])return n;var e=xd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in WL)return I_[n]=e[t];return n}var jL=mx("animationend"),XL=mx("animationiteration"),YL=mx("animationstart"),qL=mx("transitionend"),KL=new Map,TA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bl(n,e){KL.set(n,e),vu(e,[n])}for(var D_=0;D_<TA.length;D_++){var L_=TA[D_],UV=L_.toLowerCase(),FV=L_[0].toUpperCase()+L_.slice(1);Bl(UV,"on"+FV)}Bl(jL,"onAnimationEnd");Bl(XL,"onAnimationIteration");Bl(YL,"onAnimationStart");Bl("dblclick","onDoubleClick");Bl("focusin","onFocus");Bl("focusout","onBlur");Bl(qL,"onTransitionEnd");of("onMouseEnter",["mouseout","mouseover"]);of("onMouseLeave",["mouseout","mouseover"]);of("onPointerEnter",["pointerout","pointerover"]);of("onPointerLeave",["pointerout","pointerover"]);vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wh));function CA(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,U5(i,e,void 0,n),n.currentTarget=null}function $L(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;CA(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;CA(r,a,c),s=l}}}if(Ny)throw n=YS,Ny=!1,YS=null,n}function dn(n,e){var t=e[ib];t===void 0&&(t=e[ib]=new Set);var i=n+"__bubble";t.has(i)||(ZL(e,n,2,!1),t.add(i))}function k_(n,e,t){var i=0;e&&(i|=4),ZL(t,n,i,e)}var Yg="_reactListening"+Math.random().toString(36).slice(2);function Lp(n){if(!n[Yg]){n[Yg]=!0,rL.forEach(function(t){t!=="selectionchange"&&(zV.has(t)||k_(t,!1,n),k_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Yg]||(e[Yg]=!0,k_("selectionchange",!1,e))}}function ZL(n,e,t,i){switch(kL(e)){case 1:var r=J5;break;case 4:r=eV;break;default:r=$M}t=r.bind(null,e,t,n),r=void 0,!XS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function N_(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Nc(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}_L(function(){var c=s,u=XM(t),d=[];e:{var f=KL.get(n);if(f!==void 0){var m=QM,v=n;switch(n){case"keypress":if(uy(t)===0)break e;case"keydown":case"keyup":m=mV;break;case"focusin":v="focus",m=A_;break;case"focusout":v="blur",m=A_;break;case"beforeblur":case"afterblur":m=A_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yV;break;case jL:case XL:case YL:m=oV;break;case qL:m=_V;break;case"scroll":m=tV;break;case"wheel":m=SV;break;case"copy":case"cut":case"paste":m=lV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vA}var y=(e&4)!==0,x=!y&&n==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var _=c,S;_!==null;){S=_;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,g!==null&&(b=Cp(_,g),b!=null&&y.push(kp(_,b,S)))),x)break;_=_.return}0<y.length&&(f=new m(f,v,null,t,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==WS&&(v=t.relatedTarget||t.fromElement)&&(Nc(v)||v[_a]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?Nc(v):null,v!==null&&(x=yu(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=mA,b="onMouseLeave",g="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=vA,b="onPointerLeave",g="onPointerEnter",_="pointer"),x=m==null?f:_d(m),S=v==null?f:_d(v),f=new y(b,_+"leave",m,t,u),f.target=x,f.relatedTarget=S,b=null,Nc(u)===c&&(y=new y(g,_+"enter",v,t,u),y.target=S,y.relatedTarget=x,b=y),x=b,m&&v)t:{for(y=m,g=v,_=0,S=y;S;S=Hu(S))_++;for(S=0,b=g;b;b=Hu(b))S++;for(;0<_-S;)y=Hu(y),_--;for(;0<S-_;)g=Hu(g),S--;for(;_--;){if(y===g||g!==null&&y===g.alternate)break t;y=Hu(y),g=Hu(g)}y=null}else y=null;m!==null&&AA(d,f,m,y,!1),v!==null&&x!==null&&AA(d,x,v,y,!0)}}e:{if(f=c?_d(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=PV;else if(_A(f))if(BL)E=LV;else{E=IV;var C=RV}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=DV);if(E&&(E=E(n,c))){zL(d,E,t,u);break e}C&&C(n,f,c),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&zS(f,"number",f.value)}switch(C=c?_d(c):window,n){case"focusin":(_A(C)||C.contentEditable==="true")&&(yd=C,ZS=c,ep=null);break;case"focusout":ep=ZS=yd=null;break;case"mousedown":QS=!0;break;case"contextmenu":case"mouseup":case"dragend":QS=!1,EA(d,t,u);break;case"selectionchange":if(OV)break;case"keydown":case"keyup":EA(d,t,u)}var P;if(eE)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else vd?UL(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(OL&&t.locale!=="ko"&&(vd||R!=="onCompositionStart"?R==="onCompositionEnd"&&vd&&(P=NL()):(pl=u,ZM="value"in pl?pl.value:pl.textContent,vd=!0)),C=By(c,R),0<C.length&&(R=new gA(R,n,null,t,u),d.push({event:R,listeners:C}),P?R.data=P:(P=FL(t),P!==null&&(R.data=P)))),(P=MV?EV(n,t):TV(n,t))&&(c=By(c,"onBeforeInput"),0<c.length&&(u=new gA("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=P))}$L(d,e)})}function kp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function By(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Cp(n,t),s!=null&&i.unshift(kp(n,s,r)),s=Cp(n,e),s!=null&&i.push(kp(n,s,r))),n=n.return}return i}function Hu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function AA(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Cp(t,s),l!=null&&o.unshift(kp(t,l,a))):r||(l=Cp(t,s),l!=null&&o.push(kp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var BV=/\r\n?/g,VV=/\u0000|\uFFFD/g;function PA(n){return(typeof n=="string"?n:""+n).replace(BV,`
`).replace(VV,"")}function qg(n,e,t){if(e=PA(e),PA(n)!==e&&t)throw Error(Ze(425))}function Vy(){}var JS=null,eb=null;function tb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nb=typeof setTimeout=="function"?setTimeout:void 0,HV=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,GV=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(n){return RA.resolve(null).then(n).catch(WV)}:nb;function WV(n){setTimeout(function(){throw n})}function O_(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Rp(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Rp(e)}function Sl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function IA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Pf=Math.random().toString(36).slice(2),To="__reactFiber$"+Pf,Np="__reactProps$"+Pf,_a="__reactContainer$"+Pf,ib="__reactEvents$"+Pf,jV="__reactListeners$"+Pf,XV="__reactHandles$"+Pf;function Nc(n){var e=n[To];if(e)return e;for(var t=n.parentNode;t;){if(e=t[_a]||t[To]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=IA(n);n!==null;){if(t=n[To])return t;n=IA(n)}return e}n=t,t=n.parentNode}return null}function Cm(n){return n=n[To]||n[_a],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _d(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ze(33))}function gx(n){return n[Np]||null}var rb=[],wd=-1;function Vl(n){return{current:n}}function hn(n){0>wd||(n.current=rb[wd],rb[wd]=null,wd--)}function cn(n,e){wd++,rb[wd]=n.current,n.current=e}var Il={},Zi=Vl(Il),Lr=Vl(!1),nu=Il;function af(n,e){var t=n.type.contextTypes;if(!t)return Il;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function kr(n){return n=n.childContextTypes,n!=null}function Hy(){hn(Lr),hn(Zi)}function DA(n,e,t){if(Zi.current!==Il)throw Error(Ze(168));cn(Zi,e),cn(Lr,t)}function QL(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ze(108,R5(n)||"Unknown",r));return Pn({},t,i)}function Gy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Il,nu=Zi.current,cn(Zi,n),cn(Lr,Lr.current),!0}function LA(n,e,t){var i=n.stateNode;if(!i)throw Error(Ze(169));t?(n=QL(n,e,nu),i.__reactInternalMemoizedMergedChildContext=n,hn(Lr),hn(Zi),cn(Zi,n)):hn(Lr),cn(Lr,t)}var la=null,vx=!1,U_=!1;function JL(n){la===null?la=[n]:la.push(n)}function YV(n){vx=!0,JL(n)}function Hl(){if(!U_&&la!==null){U_=!0;var n=0,e=on;try{var t=la;for(on=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}la=null,vx=!1}catch(r){throw la!==null&&(la=la.slice(n+1)),ML(YM,Hl),r}finally{on=e,U_=!1}}return null}var Sd=[],bd=0,Wy=null,jy=0,Es=[],Ts=0,iu=null,fa=1,ha="";function Cc(n,e){Sd[bd++]=jy,Sd[bd++]=Wy,Wy=n,jy=e}function ek(n,e,t){Es[Ts++]=fa,Es[Ts++]=ha,Es[Ts++]=iu,iu=n;var i=fa;n=ha;var r=32-Js(i)-1;i&=~(1<<r),t+=1;var s=32-Js(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,fa=1<<32-Js(e)+r|t<<r|i,ha=s+n}else fa=1<<s|t<<r|i,ha=n}function nE(n){n.return!==null&&(Cc(n,1),ek(n,1,0))}function iE(n){for(;n===Wy;)Wy=Sd[--bd],Sd[bd]=null,jy=Sd[--bd],Sd[bd]=null;for(;n===iu;)iu=Es[--Ts],Es[Ts]=null,ha=Es[--Ts],Es[Ts]=null,fa=Es[--Ts],Es[Ts]=null}var is=null,ts=null,yn=!1,Ks=null;function tk(n,e){var t=Cs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function kA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,is=n,ts=Sl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,is=n,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=iu!==null?{id:fa,overflow:ha}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Cs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,is=n,ts=null,!0):!1;default:return!1}}function sb(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ob(n){if(yn){var e=ts;if(e){var t=e;if(!kA(n,e)){if(sb(n))throw Error(Ze(418));e=Sl(t.nextSibling);var i=is;e&&kA(n,e)?tk(i,t):(n.flags=n.flags&-4097|2,yn=!1,is=n)}}else{if(sb(n))throw Error(Ze(418));n.flags=n.flags&-4097|2,yn=!1,is=n}}}function NA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;is=n}function Kg(n){if(n!==is)return!1;if(!yn)return NA(n),yn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!tb(n.type,n.memoizedProps)),e&&(e=ts)){if(sb(n))throw nk(),Error(Ze(418));for(;e;)tk(n,e),e=Sl(e.nextSibling)}if(NA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ze(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ts=Sl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ts=null}}else ts=is?Sl(n.stateNode.nextSibling):null;return!0}function nk(){for(var n=ts;n;)n=Sl(n.nextSibling)}function lf(){ts=is=null,yn=!1}function rE(n){Ks===null?Ks=[n]:Ks.push(n)}var qV=Ia.ReactCurrentBatchConfig;function _h(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ze(309));var i=t.stateNode}if(!i)throw Error(Ze(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ze(284));if(!t._owner)throw Error(Ze(290,n))}return n}function $g(n,e){throw n=Object.prototype.toString.call(e),Error(Ze(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function OA(n){var e=n._init;return e(n._payload)}function ik(n){function e(g,_){if(n){var S=g.deletions;S===null?(g.deletions=[_],g.flags|=16):S.push(_)}}function t(g,_){if(!n)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function i(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function r(g,_){return g=Tl(g,_),g.index=0,g.sibling=null,g}function s(g,_,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<_?(g.flags|=2,_):S):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,_,S,b){return _===null||_.tag!==6?(_=W_(S,g.mode,b),_.return=g,_):(_=r(_,S),_.return=g,_)}function l(g,_,S,b){var E=S.type;return E===gd?u(g,_,S.props.children,b,S.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rl&&OA(E)===_.type)?(b=r(_,S.props),b.ref=_h(g,_,S),b.return=g,b):(b=vy(S.type,S.key,S.props,null,g.mode,b),b.ref=_h(g,_,S),b.return=g,b)}function c(g,_,S,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=j_(S,g.mode,b),_.return=g,_):(_=r(_,S.children||[]),_.return=g,_)}function u(g,_,S,b,E){return _===null||_.tag!==7?(_=qc(S,g.mode,b,E),_.return=g,_):(_=r(_,S),_.return=g,_)}function d(g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=W_(""+_,g.mode,S),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zg:return S=vy(_.type,_.key,_.props,null,g.mode,S),S.ref=_h(g,null,_),S.return=g,S;case md:return _=j_(_,g.mode,S),_.return=g,_;case rl:var b=_._init;return d(g,b(_._payload),S)}if(Hh(_)||mh(_))return _=qc(_,g.mode,S,null),_.return=g,_;$g(g,_)}return null}function f(g,_,S,b){var E=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(g,_,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zg:return S.key===E?l(g,_,S,b):null;case md:return S.key===E?c(g,_,S,b):null;case rl:return E=S._init,f(g,_,E(S._payload),b)}if(Hh(S)||mh(S))return E!==null?null:u(g,_,S,b,null);$g(g,S)}return null}function m(g,_,S,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(S)||null,a(_,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zg:return g=g.get(b.key===null?S:b.key)||null,l(_,g,b,E);case md:return g=g.get(b.key===null?S:b.key)||null,c(_,g,b,E);case rl:var C=b._init;return m(g,_,S,C(b._payload),E)}if(Hh(b)||mh(b))return g=g.get(S)||null,u(_,g,b,E,null);$g(_,b)}return null}function v(g,_,S,b){for(var E=null,C=null,P=_,R=_=0,I=null;P!==null&&R<S.length;R++){P.index>R?(I=P,P=null):I=P.sibling;var T=f(g,P,S[R],b);if(T===null){P===null&&(P=I);break}n&&P&&T.alternate===null&&e(g,P),_=s(T,_,R),C===null?E=T:C.sibling=T,C=T,P=I}if(R===S.length)return t(g,P),yn&&Cc(g,R),E;if(P===null){for(;R<S.length;R++)P=d(g,S[R],b),P!==null&&(_=s(P,_,R),C===null?E=P:C.sibling=P,C=P);return yn&&Cc(g,R),E}for(P=i(g,P);R<S.length;R++)I=m(P,g,R,S[R],b),I!==null&&(n&&I.alternate!==null&&P.delete(I.key===null?R:I.key),_=s(I,_,R),C===null?E=I:C.sibling=I,C=I);return n&&P.forEach(function(O){return e(g,O)}),yn&&Cc(g,R),E}function y(g,_,S,b){var E=mh(S);if(typeof E!="function")throw Error(Ze(150));if(S=E.call(S),S==null)throw Error(Ze(151));for(var C=E=null,P=_,R=_=0,I=null,T=S.next();P!==null&&!T.done;R++,T=S.next()){P.index>R?(I=P,P=null):I=P.sibling;var O=f(g,P,T.value,b);if(O===null){P===null&&(P=I);break}n&&P&&O.alternate===null&&e(g,P),_=s(O,_,R),C===null?E=O:C.sibling=O,C=O,P=I}if(T.done)return t(g,P),yn&&Cc(g,R),E;if(P===null){for(;!T.done;R++,T=S.next())T=d(g,T.value,b),T!==null&&(_=s(T,_,R),C===null?E=T:C.sibling=T,C=T);return yn&&Cc(g,R),E}for(P=i(g,P);!T.done;R++,T=S.next())T=m(P,g,R,T.value,b),T!==null&&(n&&T.alternate!==null&&P.delete(T.key===null?R:T.key),_=s(T,_,R),C===null?E=T:C.sibling=T,C=T);return n&&P.forEach(function(U){return e(g,U)}),yn&&Cc(g,R),E}function x(g,_,S,b){if(typeof S=="object"&&S!==null&&S.type===gd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zg:e:{for(var E=S.key,C=_;C!==null;){if(C.key===E){if(E=S.type,E===gd){if(C.tag===7){t(g,C.sibling),_=r(C,S.props.children),_.return=g,g=_;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rl&&OA(E)===C.type){t(g,C.sibling),_=r(C,S.props),_.ref=_h(g,C,S),_.return=g,g=_;break e}t(g,C);break}else e(g,C);C=C.sibling}S.type===gd?(_=qc(S.props.children,g.mode,b,S.key),_.return=g,g=_):(b=vy(S.type,S.key,S.props,null,g.mode,b),b.ref=_h(g,_,S),b.return=g,g=b)}return o(g);case md:e:{for(C=S.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(g,_.sibling),_=r(_,S.children||[]),_.return=g,g=_;break e}else{t(g,_);break}else e(g,_);_=_.sibling}_=j_(S,g.mode,b),_.return=g,g=_}return o(g);case rl:return C=S._init,x(g,_,C(S._payload),b)}if(Hh(S))return v(g,_,S,b);if(mh(S))return y(g,_,S,b);$g(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(g,_.sibling),_=r(_,S),_.return=g,g=_):(t(g,_),_=W_(S,g.mode,b),_.return=g,g=_),o(g)):t(g,_)}return x}var cf=ik(!0),rk=ik(!1),Xy=Vl(null),Yy=null,Md=null,sE=null;function oE(){sE=Md=Yy=null}function aE(n){var e=Xy.current;hn(Xy),n._currentValue=e}function ab(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Gd(n,e){Yy=n,sE=Md=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Pr=!0),n.firstContext=null)}function Ds(n){var e=n._currentValue;if(sE!==n)if(n={context:n,memoizedValue:e,next:null},Md===null){if(Yy===null)throw Error(Ze(308));Md=n,Yy.dependencies={lanes:0,firstContext:n}}else Md=Md.next=n;return e}var Oc=null;function lE(n){Oc===null?Oc=[n]:Oc.push(n)}function sk(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,lE(e)):(t.next=r.next,r.next=t),e.interleaved=t,wa(n,i)}function wa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var sl=!1;function cE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ok(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function bl(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Jt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,wa(n,t)}return r=i.interleaved,r===null?(e.next=e,lE(i)):(e.next=r.next,r.next=e),i.interleaved=e,wa(n,t)}function dy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,qM(n,t)}}function UA(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function qy(n,e,t,i){var r=n.updateQueue;sl=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(f=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=Pn({},d,f);break e;case 2:sl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);su|=o,n.lanes=o,n.memoizedState=d}}function FA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ze(191,r));r.call(i)}}}var Am={},Ro=Vl(Am),Op=Vl(Am),Up=Vl(Am);function Uc(n){if(n===Am)throw Error(Ze(174));return n}function uE(n,e){switch(cn(Up,e),cn(Op,n),cn(Ro,Am),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:VS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=VS(e,n)}hn(Ro),cn(Ro,e)}function uf(){hn(Ro),hn(Op),hn(Up)}function ak(n){Uc(Up.current);var e=Uc(Ro.current),t=VS(e,n.type);e!==t&&(cn(Op,n),cn(Ro,t))}function dE(n){Op.current===n&&(hn(Ro),hn(Op))}var bn=Vl(0);function Ky(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F_=[];function fE(){for(var n=0;n<F_.length;n++)F_[n]._workInProgressVersionPrimary=null;F_.length=0}var fy=Ia.ReactCurrentDispatcher,z_=Ia.ReactCurrentBatchConfig,ru=0,Cn=null,si=null,mi=null,$y=!1,tp=!1,Fp=0,KV=0;function zi(){throw Error(Ze(321))}function hE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ro(n[t],e[t]))return!1;return!0}function pE(n,e,t,i,r,s){if(ru=s,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fy.current=n===null||n.memoizedState===null?JV:e6,n=t(i,r),tp){s=0;do{if(tp=!1,Fp=0,25<=s)throw Error(Ze(301));s+=1,mi=si=null,e.updateQueue=null,fy.current=t6,n=t(i,r)}while(tp)}if(fy.current=Zy,e=si!==null&&si.next!==null,ru=0,mi=si=Cn=null,$y=!1,e)throw Error(Ze(300));return n}function mE(){var n=Fp!==0;return Fp=0,n}function So(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Cn.memoizedState=mi=n:mi=mi.next=n,mi}function Ls(){if(si===null){var n=Cn.alternate;n=n!==null?n.memoizedState:null}else n=si.next;var e=mi===null?Cn.memoizedState:mi.next;if(e!==null)mi=e,si=n;else{if(n===null)throw Error(Ze(310));si=n,n={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},mi===null?Cn.memoizedState=mi=n:mi=mi.next=n}return mi}function zp(n,e){return typeof e=="function"?e(n):e}function B_(n){var e=Ls(),t=e.queue;if(t===null)throw Error(Ze(311));t.lastRenderedReducer=n;var i=si,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ru&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Cn.lanes|=u,su|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,ro(i,e.memoizedState)||(Pr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Cn.lanes|=s,su|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function V_(n){var e=Ls(),t=e.queue;if(t===null)throw Error(Ze(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);ro(s,e.memoizedState)||(Pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function lk(){}function ck(n,e){var t=Cn,i=Ls(),r=e(),s=!ro(i.memoizedState,r);if(s&&(i.memoizedState=r,Pr=!0),i=i.queue,gE(fk.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||mi!==null&&mi.memoizedState.tag&1){if(t.flags|=2048,Bp(9,dk.bind(null,t,i,r,e),void 0,null),gi===null)throw Error(Ze(349));ru&30||uk(t,e,r)}return r}function uk(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function dk(n,e,t,i){e.value=t,e.getSnapshot=i,hk(e)&&pk(n)}function fk(n,e,t){return t(function(){hk(e)&&pk(n)})}function hk(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ro(n,t)}catch{return!0}}function pk(n){var e=wa(n,1);e!==null&&eo(e,n,1,-1)}function zA(n){var e=So();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:n},e.queue=n,n=n.dispatch=QV.bind(null,Cn,n),[e.memoizedState,n]}function Bp(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function mk(){return Ls().memoizedState}function hy(n,e,t,i){var r=So();Cn.flags|=n,r.memoizedState=Bp(1|e,t,void 0,i===void 0?null:i)}function yx(n,e,t,i){var r=Ls();i=i===void 0?null:i;var s=void 0;if(si!==null){var o=si.memoizedState;if(s=o.destroy,i!==null&&hE(i,o.deps)){r.memoizedState=Bp(e,t,s,i);return}}Cn.flags|=n,r.memoizedState=Bp(1|e,t,s,i)}function BA(n,e){return hy(8390656,8,n,e)}function gE(n,e){return yx(2048,8,n,e)}function gk(n,e){return yx(4,2,n,e)}function vk(n,e){return yx(4,4,n,e)}function yk(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function xk(n,e,t){return t=t!=null?t.concat([n]):null,yx(4,4,yk.bind(null,e,n),t)}function vE(){}function _k(n,e){var t=Ls();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&hE(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function wk(n,e){var t=Ls();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&hE(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Sk(n,e,t){return ru&21?(ro(t,e)||(t=CL(),Cn.lanes|=t,su|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Pr=!0),n.memoizedState=t)}function $V(n,e){var t=on;on=t!==0&&4>t?t:4,n(!0);var i=z_.transition;z_.transition={};try{n(!1),e()}finally{on=t,z_.transition=i}}function bk(){return Ls().memoizedState}function ZV(n,e,t){var i=El(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Mk(n))Ek(e,t);else if(t=sk(n,e,t,i),t!==null){var r=hr();eo(t,n,i,r),Tk(t,e,i)}}function QV(n,e,t){var i=El(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Mk(n))Ek(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,ro(a,o)){var l=e.interleaved;l===null?(r.next=r,lE(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=sk(n,e,r,i),t!==null&&(r=hr(),eo(t,n,i,r),Tk(t,e,i))}}function Mk(n){var e=n.alternate;return n===Cn||e!==null&&e===Cn}function Ek(n,e){tp=$y=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Tk(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,qM(n,t)}}var Zy={readContext:Ds,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useInsertionEffect:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useMutableSource:zi,useSyncExternalStore:zi,useId:zi,unstable_isNewReconciler:!1},JV={readContext:Ds,useCallback:function(n,e){return So().memoizedState=[n,e===void 0?null:e],n},useContext:Ds,useEffect:BA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,hy(4194308,4,yk.bind(null,e,n),t)},useLayoutEffect:function(n,e){return hy(4194308,4,n,e)},useInsertionEffect:function(n,e){return hy(4,2,n,e)},useMemo:function(n,e){var t=So();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=So();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=ZV.bind(null,Cn,n),[i.memoizedState,n]},useRef:function(n){var e=So();return n={current:n},e.memoizedState=n},useState:zA,useDebugValue:vE,useDeferredValue:function(n){return So().memoizedState=n},useTransition:function(){var n=zA(!1),e=n[0];return n=$V.bind(null,n[1]),So().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Cn,r=So();if(yn){if(t===void 0)throw Error(Ze(407));t=t()}else{if(t=e(),gi===null)throw Error(Ze(349));ru&30||uk(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,BA(fk.bind(null,i,s,n),[n]),i.flags|=2048,Bp(9,dk.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=So(),e=gi.identifierPrefix;if(yn){var t=ha,i=fa;t=(i&~(1<<32-Js(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Fp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=KV++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},e6={readContext:Ds,useCallback:_k,useContext:Ds,useEffect:gE,useImperativeHandle:xk,useInsertionEffect:gk,useLayoutEffect:vk,useMemo:wk,useReducer:B_,useRef:mk,useState:function(){return B_(zp)},useDebugValue:vE,useDeferredValue:function(n){var e=Ls();return Sk(e,si.memoizedState,n)},useTransition:function(){var n=B_(zp)[0],e=Ls().memoizedState;return[n,e]},useMutableSource:lk,useSyncExternalStore:ck,useId:bk,unstable_isNewReconciler:!1},t6={readContext:Ds,useCallback:_k,useContext:Ds,useEffect:gE,useImperativeHandle:xk,useInsertionEffect:gk,useLayoutEffect:vk,useMemo:wk,useReducer:V_,useRef:mk,useState:function(){return V_(zp)},useDebugValue:vE,useDeferredValue:function(n){var e=Ls();return si===null?e.memoizedState=n:Sk(e,si.memoizedState,n)},useTransition:function(){var n=V_(zp)[0],e=Ls().memoizedState;return[n,e]},useMutableSource:lk,useSyncExternalStore:ck,useId:bk,unstable_isNewReconciler:!1};function Ws(n,e){if(n&&n.defaultProps){e=Pn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function lb(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Pn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var xx={isMounted:function(n){return(n=n._reactInternals)?yu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=hr(),r=El(n),s=pa(i,r);s.payload=e,t!=null&&(s.callback=t),e=bl(n,s,r),e!==null&&(eo(e,n,r,i),dy(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=hr(),r=El(n),s=pa(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=bl(n,s,r),e!==null&&(eo(e,n,r,i),dy(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=hr(),i=El(n),r=pa(t,i);r.tag=2,e!=null&&(r.callback=e),e=bl(n,r,i),e!==null&&(eo(e,n,i,t),dy(e,n,i))}};function VA(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dp(t,i)||!Dp(r,s):!0}function Ck(n,e,t){var i=!1,r=Il,s=e.contextType;return typeof s=="object"&&s!==null?s=Ds(s):(r=kr(e)?nu:Zi.current,i=e.contextTypes,s=(i=i!=null)?af(n,r):Il),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xx,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function HA(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&xx.enqueueReplaceState(e,e.state,null)}function cb(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},cE(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Ds(s):(s=kr(e)?nu:Zi.current,r.context=af(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lb(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&xx.enqueueReplaceState(r,r.state,null),qy(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function df(n,e){try{var t="",i=e;do t+=P5(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function H_(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function ub(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var n6=typeof WeakMap=="function"?WeakMap:Map;function Ak(n,e,t){t=pa(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Jy||(Jy=!0,_b=i),ub(n,e)},t}function Pk(n,e,t){t=pa(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){ub(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){ub(n,e),typeof i!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function GA(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new n6;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=g6.bind(null,n,e,t),e.then(n,n))}function WA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function jA(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=pa(-1,1),e.tag=2,bl(t,e,1))),t.lanes|=1),n)}var i6=Ia.ReactCurrentOwner,Pr=!1;function cr(n,e,t,i){e.child=n===null?rk(e,null,t,i):cf(e,n.child,t,i)}function XA(n,e,t,i,r){t=t.render;var s=e.ref;return Gd(e,r),i=pE(n,e,t,i,s,r),t=mE(),n!==null&&!Pr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sa(n,e,r)):(yn&&t&&nE(e),e.flags|=1,cr(n,e,i,r),e.child)}function YA(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!EE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Rk(n,e,s,i,r)):(n=vy(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Dp,t(o,i)&&n.ref===e.ref)return Sa(n,e,r)}return e.flags|=1,n=Tl(s,i),n.ref=e.ref,n.return=e,e.child=n}function Rk(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Dp(s,i)&&n.ref===e.ref)if(Pr=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Pr=!0);else return e.lanes=n.lanes,Sa(n,e,r)}return db(n,e,t,i,r)}function Ik(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(Td,Jr),Jr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,cn(Td,Jr),Jr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,cn(Td,Jr),Jr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,cn(Td,Jr),Jr|=i;return cr(n,e,r,t),e.child}function Dk(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function db(n,e,t,i,r){var s=kr(t)?nu:Zi.current;return s=af(e,s),Gd(e,r),t=pE(n,e,t,i,s,r),i=mE(),n!==null&&!Pr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sa(n,e,r)):(yn&&i&&nE(e),e.flags|=1,cr(n,e,t,r),e.child)}function qA(n,e,t,i,r){if(kr(t)){var s=!0;Gy(e)}else s=!1;if(Gd(e,r),e.stateNode===null)py(n,e),Ck(e,t,i),cb(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ds(c):(c=kr(t)?nu:Zi.current,c=af(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&HA(e,o,i,c),sl=!1;var f=e.memoizedState;o.state=f,qy(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Lr.current||sl?(typeof u=="function"&&(lb(e,t,u,i),l=e.memoizedState),(a=sl||VA(e,t,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,ok(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ws(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ds(l):(l=kr(t)?nu:Zi.current,l=af(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&HA(e,o,i,l),sl=!1,f=e.memoizedState,o.state=f,qy(e,i,o,r);var v=e.memoizedState;a!==d||f!==v||Lr.current||sl?(typeof m=="function"&&(lb(e,t,m,i),v=e.memoizedState),(c=sl||VA(e,t,c,i,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return fb(n,e,t,i,s,r)}function fb(n,e,t,i,r,s){Dk(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&LA(e,t,!1),Sa(n,e,s);i=e.stateNode,i6.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=cf(e,n.child,null,s),e.child=cf(e,null,a,s)):cr(n,e,a,s),e.memoizedState=i.state,r&&LA(e,t,!0),e.child}function Lk(n){var e=n.stateNode;e.pendingContext?DA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&DA(n,e.context,!1),uE(n,e.containerInfo)}function KA(n,e,t,i,r){return lf(),rE(r),e.flags|=256,cr(n,e,t,i),e.child}var hb={dehydrated:null,treeContext:null,retryLane:0};function pb(n){return{baseLanes:n,cachePool:null,transitions:null}}function kk(n,e,t){var i=e.pendingProps,r=bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),cn(bn,r&1),n===null)return ob(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sx(o,i,0,null),n=qc(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=pb(t),e.memoizedState=hb,n):yE(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return r6(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Tl(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Tl(a,s):(s=qc(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?pb(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=hb,i}return s=n.child,n=s.sibling,i=Tl(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function yE(n,e){return e=Sx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Zg(n,e,t,i){return i!==null&&rE(i),cf(e,n.child,null,t),n=yE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function r6(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=H_(Error(Ze(422))),Zg(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Sx({mode:"visible",children:i.children},r,0,null),s=qc(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&cf(e,n.child,null,o),e.child.memoizedState=pb(o),e.memoizedState=hb,s);if(!(e.mode&1))return Zg(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ze(419)),i=H_(s,i,void 0),Zg(n,e,o,i)}if(a=(o&n.childLanes)!==0,Pr||a){if(i=gi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,wa(n,r),eo(i,n,r,-1))}return ME(),i=H_(Error(Ze(421))),Zg(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=v6.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ts=Sl(r.nextSibling),is=e,yn=!0,Ks=null,n!==null&&(Es[Ts++]=fa,Es[Ts++]=ha,Es[Ts++]=iu,fa=n.id,ha=n.overflow,iu=e),e=yE(e,i.children),e.flags|=4096,e)}function $A(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),ab(n.return,e,t)}function G_(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function Nk(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(cr(n,e,i.children,t),i=bn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$A(n,t,e);else if(n.tag===19)$A(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(cn(bn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Ky(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),G_(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Ky(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}G_(e,!0,t,null,s);break;case"together":G_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function py(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Sa(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),su|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ze(153));if(e.child!==null){for(n=e.child,t=Tl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Tl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function s6(n,e,t){switch(e.tag){case 3:Lk(e),lf();break;case 5:ak(e);break;case 1:kr(e.type)&&Gy(e);break;case 4:uE(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;cn(Xy,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(cn(bn,bn.current&1),e.flags|=128,null):t&e.child.childLanes?kk(n,e,t):(cn(bn,bn.current&1),n=Sa(n,e,t),n!==null?n.sibling:null);cn(bn,bn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return Nk(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),cn(bn,bn.current),i)break;return null;case 22:case 23:return e.lanes=0,Ik(n,e,t)}return Sa(n,e,t)}var Ok,mb,Uk,Fk;Ok=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};mb=function(){};Uk=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Uc(Ro.current);var s=null;switch(t){case"input":r=US(n,r),i=US(n,i),s=[];break;case"select":r=Pn({},r,{value:void 0}),i=Pn({},i,{value:void 0}),s=[];break;case"textarea":r=BS(n,r),i=BS(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Vy)}HS(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ep.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Fk=function(n,e,t,i){t!==i&&(e.flags|=4)};function wh(n,e){if(!yn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Bi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function o6(n,e,t){var i=e.pendingProps;switch(iE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(e),null;case 1:return kr(e.type)&&Hy(),Bi(e),null;case 3:return i=e.stateNode,uf(),hn(Lr),hn(Zi),fE(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Kg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ks!==null&&(bb(Ks),Ks=null))),mb(n,e),Bi(e),null;case 5:dE(e);var r=Uc(Up.current);if(t=e.type,n!==null&&e.stateNode!=null)Uk(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ze(166));return Bi(e),null}if(n=Uc(Ro.current),Kg(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[To]=e,i[Np]=s,n=(e.mode&1)!==0,t){case"dialog":dn("cancel",i),dn("close",i);break;case"iframe":case"object":case"embed":dn("load",i);break;case"video":case"audio":for(r=0;r<Wh.length;r++)dn(Wh[r],i);break;case"source":dn("error",i);break;case"img":case"image":case"link":dn("error",i),dn("load",i);break;case"details":dn("toggle",i);break;case"input":sA(i,s),dn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},dn("invalid",i);break;case"textarea":aA(i,s),dn("invalid",i)}HS(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&qg(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qg(i.textContent,a,n),r=["children",""+a]):Ep.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dn("scroll",i)}switch(t){case"input":Bg(i),oA(i,s,!0);break;case"textarea":Bg(i),lA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Vy)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[To]=e,n[Np]=i,Ok(n,e,!1,!1),e.stateNode=n;e:{switch(o=GS(t,i),t){case"dialog":dn("cancel",n),dn("close",n),r=i;break;case"iframe":case"object":case"embed":dn("load",n),r=i;break;case"video":case"audio":for(r=0;r<Wh.length;r++)dn(Wh[r],n);r=i;break;case"source":dn("error",n),r=i;break;case"img":case"image":case"link":dn("error",n),dn("load",n),r=i;break;case"details":dn("toggle",n),r=i;break;case"input":sA(n,i),r=US(n,i),dn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Pn({},i,{value:void 0}),dn("invalid",n);break;case"textarea":aA(n,i),r=BS(n,i),dn("invalid",n);break;default:r=i}HS(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mL(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hL(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Tp(n,l):typeof l=="number"&&Tp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ep.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dn("scroll",n):l!=null&&HM(n,s,l,o))}switch(t){case"input":Bg(n),oA(n,i,!1);break;case"textarea":Bg(n),lA(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Rl(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?zd(n,!!i.multiple,s,!1):i.defaultValue!=null&&zd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Vy)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bi(e),null;case 6:if(n&&e.stateNode!=null)Fk(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ze(166));if(t=Uc(Up.current),Uc(Ro.current),Kg(e)){if(i=e.stateNode,t=e.memoizedProps,i[To]=e,(s=i.nodeValue!==t)&&(n=is,n!==null))switch(n.tag){case 3:qg(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&qg(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[To]=e,e.stateNode=i}return Bi(e),null;case 13:if(hn(bn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(yn&&ts!==null&&e.mode&1&&!(e.flags&128))nk(),lf(),e.flags|=98560,s=!1;else if(s=Kg(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ze(317));s[To]=e}else lf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bi(e),s=!1}else Ks!==null&&(bb(Ks),Ks=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||bn.current&1?ai===0&&(ai=3):ME())),e.updateQueue!==null&&(e.flags|=4),Bi(e),null);case 4:return uf(),mb(n,e),n===null&&Lp(e.stateNode.containerInfo),Bi(e),null;case 10:return aE(e.type._context),Bi(e),null;case 17:return kr(e.type)&&Hy(),Bi(e),null;case 19:if(hn(bn),s=e.memoizedState,s===null)return Bi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)wh(s,!1);else{if(ai!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ky(n),o!==null){for(e.flags|=128,wh(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return cn(bn,bn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Vn()>ff&&(e.flags|=128,i=!0,wh(s,!1),e.lanes=4194304)}else{if(!i)if(n=Ky(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),wh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yn)return Bi(e),null}else 2*Vn()-s.renderingStartTime>ff&&t!==1073741824&&(e.flags|=128,i=!0,wh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vn(),e.sibling=null,t=bn.current,cn(bn,i?t&1|2:t&1),e):(Bi(e),null);case 22:case 23:return bE(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Jr&1073741824&&(Bi(e),e.subtreeFlags&6&&(e.flags|=8192)):Bi(e),null;case 24:return null;case 25:return null}throw Error(Ze(156,e.tag))}function a6(n,e){switch(iE(e),e.tag){case 1:return kr(e.type)&&Hy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return uf(),hn(Lr),hn(Zi),fE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return dE(e),null;case 13:if(hn(bn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ze(340));lf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return hn(bn),null;case 4:return uf(),null;case 10:return aE(e.type._context),null;case 22:case 23:return bE(),null;case 24:return null;default:return null}}var Qg=!1,ji=!1,l6=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Ed(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Nn(n,e,i)}else t.current=null}function gb(n,e,t){try{t()}catch(i){Nn(n,e,i)}}var ZA=!1;function c6(n,e){if(JS=Fy,n=GL(),tE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,f=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(eb={focusedElem:n,selectionRange:t},Fy=!1,ft=e;ft!==null;)if(e=ft,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ft=n;else for(;ft!==null;){e=ft;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ws(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ze(163))}}catch(b){Nn(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,ft=n;break}ft=e.return}return v=ZA,ZA=!1,v}function np(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&gb(e,t,s)}r=r.next}while(r!==i)}}function _x(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function vb(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function zk(n){var e=n.alternate;e!==null&&(n.alternate=null,zk(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[To],delete e[Np],delete e[ib],delete e[jV],delete e[XV])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Bk(n){return n.tag===5||n.tag===3||n.tag===4}function QA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Bk(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yb(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Vy));else if(i!==4&&(n=n.child,n!==null))for(yb(n,e,t),n=n.sibling;n!==null;)yb(n,e,t),n=n.sibling}function xb(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(xb(n,e,t),n=n.sibling;n!==null;)xb(n,e,t),n=n.sibling}var Ei=null,qs=!1;function Xa(n,e,t){for(t=t.child;t!==null;)Vk(n,e,t),t=t.sibling}function Vk(n,e,t){if(Po&&typeof Po.onCommitFiberUnmount=="function")try{Po.onCommitFiberUnmount(fx,t)}catch{}switch(t.tag){case 5:ji||Ed(t,e);case 6:var i=Ei,r=qs;Ei=null,Xa(n,e,t),Ei=i,qs=r,Ei!==null&&(qs?(n=Ei,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ei.removeChild(t.stateNode));break;case 18:Ei!==null&&(qs?(n=Ei,t=t.stateNode,n.nodeType===8?O_(n.parentNode,t):n.nodeType===1&&O_(n,t),Rp(n)):O_(Ei,t.stateNode));break;case 4:i=Ei,r=qs,Ei=t.stateNode.containerInfo,qs=!0,Xa(n,e,t),Ei=i,qs=r;break;case 0:case 11:case 14:case 15:if(!ji&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gb(t,e,o),r=r.next}while(r!==i)}Xa(n,e,t);break;case 1:if(!ji&&(Ed(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Nn(t,e,a)}Xa(n,e,t);break;case 21:Xa(n,e,t);break;case 22:t.mode&1?(ji=(i=ji)||t.memoizedState!==null,Xa(n,e,t),ji=i):Xa(n,e,t);break;default:Xa(n,e,t)}}function JA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new l6),e.forEach(function(i){var r=y6.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function zs(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ei=a.stateNode,qs=!1;break e;case 3:Ei=a.stateNode.containerInfo,qs=!0;break e;case 4:Ei=a.stateNode.containerInfo,qs=!0;break e}a=a.return}if(Ei===null)throw Error(Ze(160));Vk(s,o,r),Ei=null,qs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Nn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hk(e,n),e=e.sibling}function Hk(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(zs(e,n),xo(n),i&4){try{np(3,n,n.return),_x(3,n)}catch(y){Nn(n,n.return,y)}try{np(5,n,n.return)}catch(y){Nn(n,n.return,y)}}break;case 1:zs(e,n),xo(n),i&512&&t!==null&&Ed(t,t.return);break;case 5:if(zs(e,n),xo(n),i&512&&t!==null&&Ed(t,t.return),n.flags&32){var r=n.stateNode;try{Tp(r,"")}catch(y){Nn(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uL(r,s),GS(a,o);var c=GS(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?mL(r,d):u==="dangerouslySetInnerHTML"?hL(r,d):u==="children"?Tp(r,d):HM(r,u,d,c)}switch(a){case"input":FS(r,s);break;case"textarea":dL(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?zd(r,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?zd(r,!!s.multiple,s.defaultValue,!0):zd(r,!!s.multiple,s.multiple?[]:"",!1))}r[Np]=s}catch(y){Nn(n,n.return,y)}}break;case 6:if(zs(e,n),xo(n),i&4){if(n.stateNode===null)throw Error(Ze(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){Nn(n,n.return,y)}}break;case 3:if(zs(e,n),xo(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Rp(e.containerInfo)}catch(y){Nn(n,n.return,y)}break;case 4:zs(e,n),xo(n);break;case 13:zs(e,n),xo(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(wE=Vn())),i&4&&JA(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ji=(c=ji)||u,zs(e,n),ji=c):zs(e,n),xo(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ft=n,u=n.child;u!==null;){for(d=ft=u;ft!==null;){switch(f=ft,m=f.child,f.tag){case 0:case 11:case 14:case 15:np(4,f,f.return);break;case 1:Ed(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Nn(i,t,y)}}break;case 5:Ed(f,f.return);break;case 22:if(f.memoizedState!==null){tP(d);continue}}m!==null?(m.return=f,ft=m):tP(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pL("display",o))}catch(y){Nn(n,n.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Nn(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zs(e,n),xo(n),i&4&&JA(n);break;case 21:break;default:zs(e,n),xo(n)}}function xo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Bk(t)){var i=t;break e}t=t.return}throw Error(Ze(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Tp(r,""),i.flags&=-33);var s=QA(n);xb(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=QA(n);yb(n,a,o);break;default:throw Error(Ze(161))}}catch(l){Nn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function u6(n,e,t){ft=n,Gk(n)}function Gk(n,e,t){for(var i=(n.mode&1)!==0;ft!==null;){var r=ft,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Qg;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ji;a=Qg;var c=ji;if(Qg=o,(ji=l)&&!c)for(ft=r;ft!==null;)o=ft,l=o.child,o.tag===22&&o.memoizedState!==null?nP(r):l!==null?(l.return=o,ft=l):nP(r);for(;s!==null;)ft=s,Gk(s),s=s.sibling;ft=r,Qg=a,ji=c}eP(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ft=s):eP(n)}}function eP(n){for(;ft!==null;){var e=ft;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ji||_x(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ji)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ws(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FA(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}FA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Rp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ze(163))}ji||e.flags&512&&vb(e)}catch(f){Nn(e,e.return,f)}}if(e===n){ft=null;break}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}}function tP(n){for(;ft!==null;){var e=ft;if(e===n){ft=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ft=t;break}ft=e.return}}function nP(n){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{_x(4,e)}catch(l){Nn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Nn(e,r,l)}}var s=e.return;try{vb(e)}catch(l){Nn(e,s,l)}break;case 5:var o=e.return;try{vb(e)}catch(l){Nn(e,o,l)}}}catch(l){Nn(e,e.return,l)}if(e===n){ft=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ft=a;break}ft=e.return}}var d6=Math.ceil,Qy=Ia.ReactCurrentDispatcher,xE=Ia.ReactCurrentOwner,Rs=Ia.ReactCurrentBatchConfig,Jt=0,gi=null,Jn=null,Ci=0,Jr=0,Td=Vl(0),ai=0,Vp=null,su=0,wx=0,_E=0,ip=null,Cr=null,wE=0,ff=1/0,aa=null,Jy=!1,_b=null,Ml=null,Jg=!1,ml=null,e0=0,rp=0,wb=null,my=-1,gy=0;function hr(){return Jt&6?Vn():my!==-1?my:my=Vn()}function El(n){return n.mode&1?Jt&2&&Ci!==0?Ci&-Ci:qV.transition!==null?(gy===0&&(gy=CL()),gy):(n=on,n!==0||(n=window.event,n=n===void 0?16:kL(n.type)),n):1}function eo(n,e,t,i){if(50<rp)throw rp=0,wb=null,Error(Ze(185));Em(n,t,i),(!(Jt&2)||n!==gi)&&(n===gi&&(!(Jt&2)&&(wx|=t),ai===4&&al(n,Ci)),Nr(n,i),t===1&&Jt===0&&!(e.mode&1)&&(ff=Vn()+500,vx&&Hl()))}function Nr(n,e){var t=n.callbackNode;q5(n,e);var i=Uy(n,n===gi?Ci:0);if(i===0)t!==null&&dA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&dA(t),e===1)n.tag===0?YV(iP.bind(null,n)):JL(iP.bind(null,n)),GV(function(){!(Jt&6)&&Hl()}),t=null;else{switch(AL(i)){case 1:t=YM;break;case 4:t=EL;break;case 16:t=Oy;break;case 536870912:t=TL;break;default:t=Oy}t=Zk(t,Wk.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Wk(n,e){if(my=-1,gy=0,Jt&6)throw Error(Ze(327));var t=n.callbackNode;if(Wd()&&n.callbackNode!==t)return null;var i=Uy(n,n===gi?Ci:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=t0(n,i);else{e=i;var r=Jt;Jt|=2;var s=Xk();(gi!==n||Ci!==e)&&(aa=null,ff=Vn()+500,Yc(n,e));do try{p6();break}catch(a){jk(n,a)}while(!0);oE(),Qy.current=s,Jt=r,Jn!==null?e=0:(gi=null,Ci=0,e=ai)}if(e!==0){if(e===2&&(r=qS(n),r!==0&&(i=r,e=Sb(n,r))),e===1)throw t=Vp,Yc(n,0),al(n,i),Nr(n,Vn()),t;if(e===6)al(n,i);else{if(r=n.current.alternate,!(i&30)&&!f6(r)&&(e=t0(n,i),e===2&&(s=qS(n),s!==0&&(i=s,e=Sb(n,s))),e===1))throw t=Vp,Yc(n,0),al(n,i),Nr(n,Vn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ze(345));case 2:Ac(n,Cr,aa);break;case 3:if(al(n,i),(i&130023424)===i&&(e=wE+500-Vn(),10<e)){if(Uy(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){hr(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=nb(Ac.bind(null,n,Cr,aa),e);break}Ac(n,Cr,aa);break;case 4:if(al(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Js(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Vn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*d6(i/1960))-i,10<i){n.timeoutHandle=nb(Ac.bind(null,n,Cr,aa),i);break}Ac(n,Cr,aa);break;case 5:Ac(n,Cr,aa);break;default:throw Error(Ze(329))}}}return Nr(n,Vn()),n.callbackNode===t?Wk.bind(null,n):null}function Sb(n,e){var t=ip;return n.current.memoizedState.isDehydrated&&(Yc(n,e).flags|=256),n=t0(n,e),n!==2&&(e=Cr,Cr=t,e!==null&&bb(e)),n}function bb(n){Cr===null?Cr=n:Cr.push.apply(Cr,n)}function f6(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!ro(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function al(n,e){for(e&=~_E,e&=~wx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Js(e),i=1<<t;n[t]=-1,e&=~i}}function iP(n){if(Jt&6)throw Error(Ze(327));Wd();var e=Uy(n,0);if(!(e&1))return Nr(n,Vn()),null;var t=t0(n,e);if(n.tag!==0&&t===2){var i=qS(n);i!==0&&(e=i,t=Sb(n,i))}if(t===1)throw t=Vp,Yc(n,0),al(n,e),Nr(n,Vn()),t;if(t===6)throw Error(Ze(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ac(n,Cr,aa),Nr(n,Vn()),null}function SE(n,e){var t=Jt;Jt|=1;try{return n(e)}finally{Jt=t,Jt===0&&(ff=Vn()+500,vx&&Hl())}}function ou(n){ml!==null&&ml.tag===0&&!(Jt&6)&&Wd();var e=Jt;Jt|=1;var t=Rs.transition,i=on;try{if(Rs.transition=null,on=1,n)return n()}finally{on=i,Rs.transition=t,Jt=e,!(Jt&6)&&Hl()}}function bE(){Jr=Td.current,hn(Td)}function Yc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,HV(t)),Jn!==null)for(t=Jn.return;t!==null;){var i=t;switch(iE(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Hy();break;case 3:uf(),hn(Lr),hn(Zi),fE();break;case 5:dE(i);break;case 4:uf();break;case 13:hn(bn);break;case 19:hn(bn);break;case 10:aE(i.type._context);break;case 22:case 23:bE()}t=t.return}if(gi=n,Jn=n=Tl(n.current,null),Ci=Jr=e,ai=0,Vp=null,_E=wx=su=0,Cr=ip=null,Oc!==null){for(e=0;e<Oc.length;e++)if(t=Oc[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Oc=null}return n}function jk(n,e){do{var t=Jn;try{if(oE(),fy.current=Zy,$y){for(var i=Cn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$y=!1}if(ru=0,mi=si=Cn=null,tp=!1,Fp=0,xE.current=null,t===null||t.return===null){ai=1,Vp=e,Jn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Ci,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=WA(o);if(m!==null){m.flags&=-257,jA(m,o,a,s,e),m.mode&1&&GA(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){GA(s,c,e),ME();break e}l=Error(Ze(426))}}else if(yn&&a.mode&1){var x=WA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jA(x,o,a,s,e),rE(df(l,a));break e}}s=l=df(l,a),ai!==4&&(ai=2),ip===null?ip=[s]:ip.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Ak(s,l,e);UA(s,g);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ml===null||!Ml.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=Pk(s,a,e);UA(s,b);break e}}s=s.return}while(s!==null)}qk(t)}catch(E){e=E,Jn===t&&t!==null&&(Jn=t=t.return);continue}break}while(!0)}function Xk(){var n=Qy.current;return Qy.current=Zy,n===null?Zy:n}function ME(){(ai===0||ai===3||ai===2)&&(ai=4),gi===null||!(su&268435455)&&!(wx&268435455)||al(gi,Ci)}function t0(n,e){var t=Jt;Jt|=2;var i=Xk();(gi!==n||Ci!==e)&&(aa=null,Yc(n,e));do try{h6();break}catch(r){jk(n,r)}while(!0);if(oE(),Jt=t,Qy.current=i,Jn!==null)throw Error(Ze(261));return gi=null,Ci=0,ai}function h6(){for(;Jn!==null;)Yk(Jn)}function p6(){for(;Jn!==null&&!z5();)Yk(Jn)}function Yk(n){var e=$k(n.alternate,n,Jr);n.memoizedProps=n.pendingProps,e===null?qk(n):Jn=e,xE.current=null}function qk(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=a6(t,e),t!==null){t.flags&=32767,Jn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ai=6,Jn=null;return}}else if(t=o6(t,e,Jr),t!==null){Jn=t;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=n}while(e!==null);ai===0&&(ai=5)}function Ac(n,e,t){var i=on,r=Rs.transition;try{Rs.transition=null,on=1,m6(n,e,t,i)}finally{Rs.transition=r,on=i}return null}function m6(n,e,t,i){do Wd();while(ml!==null);if(Jt&6)throw Error(Ze(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ze(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(K5(n,s),n===gi&&(Jn=gi=null,Ci=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Jg||(Jg=!0,Zk(Oy,function(){return Wd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Rs.transition,Rs.transition=null;var o=on;on=1;var a=Jt;Jt|=4,xE.current=null,c6(n,t),Hk(t,n),NV(eb),Fy=!!JS,eb=JS=null,n.current=t,u6(t),B5(),Jt=a,on=o,Rs.transition=s}else n.current=t;if(Jg&&(Jg=!1,ml=n,e0=r),s=n.pendingLanes,s===0&&(Ml=null),G5(t.stateNode),Nr(n,Vn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Jy)throw Jy=!1,n=_b,_b=null,n;return e0&1&&n.tag!==0&&Wd(),s=n.pendingLanes,s&1?n===wb?rp++:(rp=0,wb=n):rp=0,Hl(),null}function Wd(){if(ml!==null){var n=AL(e0),e=Rs.transition,t=on;try{if(Rs.transition=null,on=16>n?16:n,ml===null)var i=!1;else{if(n=ml,ml=null,e0=0,Jt&6)throw Error(Ze(331));var r=Jt;for(Jt|=4,ft=n.current;ft!==null;){var s=ft,o=s.child;if(ft.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ft=c;ft!==null;){var u=ft;switch(u.tag){case 0:case 11:case 15:np(8,u,s)}var d=u.child;if(d!==null)d.return=u,ft=d;else for(;ft!==null;){u=ft;var f=u.sibling,m=u.return;if(zk(u),u===c){ft=null;break}if(f!==null){f.return=m,ft=f;break}ft=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ft=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ft=o;else e:for(;ft!==null;){if(s=ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:np(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ft=g;break e}ft=s.return}}var _=n.current;for(ft=_;ft!==null;){o=ft;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ft=S;else e:for(o=_;ft!==null;){if(a=ft,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_x(9,a)}}catch(E){Nn(a,a.return,E)}if(a===o){ft=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ft=b;break e}ft=a.return}}if(Jt=r,Hl(),Po&&typeof Po.onPostCommitFiberRoot=="function")try{Po.onPostCommitFiberRoot(fx,n)}catch{}i=!0}return i}finally{on=t,Rs.transition=e}}return!1}function rP(n,e,t){e=df(t,e),e=Ak(n,e,1),n=bl(n,e,1),e=hr(),n!==null&&(Em(n,1,e),Nr(n,e))}function Nn(n,e,t){if(n.tag===3)rP(n,n,t);else for(;e!==null;){if(e.tag===3){rP(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ml===null||!Ml.has(i))){n=df(t,n),n=Pk(e,n,1),e=bl(e,n,1),n=hr(),e!==null&&(Em(e,1,n),Nr(e,n));break}}e=e.return}}function g6(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=hr(),n.pingedLanes|=n.suspendedLanes&t,gi===n&&(Ci&t)===t&&(ai===4||ai===3&&(Ci&130023424)===Ci&&500>Vn()-wE?Yc(n,0):_E|=t),Nr(n,e)}function Kk(n,e){e===0&&(n.mode&1?(e=Gg,Gg<<=1,!(Gg&130023424)&&(Gg=4194304)):e=1);var t=hr();n=wa(n,e),n!==null&&(Em(n,e,t),Nr(n,t))}function v6(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Kk(n,t)}function y6(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ze(314))}i!==null&&i.delete(e),Kk(n,t)}var $k;$k=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Lr.current)Pr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Pr=!1,s6(n,e,t);Pr=!!(n.flags&131072)}else Pr=!1,yn&&e.flags&1048576&&ek(e,jy,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;py(n,e),n=e.pendingProps;var r=af(e,Zi.current);Gd(e,t),r=pE(null,e,i,n,r,t);var s=mE();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(i)?(s=!0,Gy(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,cE(e),r.updater=xx,e.stateNode=r,r._reactInternals=e,cb(e,i,n,t),e=fb(null,e,i,!0,s,t)):(e.tag=0,yn&&s&&nE(e),cr(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(py(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=_6(i),n=Ws(i,n),r){case 0:e=db(null,e,i,n,t);break e;case 1:e=qA(null,e,i,n,t);break e;case 11:e=XA(null,e,i,n,t);break e;case 14:e=YA(null,e,i,Ws(i.type,n),t);break e}throw Error(Ze(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ws(i,r),db(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ws(i,r),qA(n,e,i,r,t);case 3:e:{if(Lk(e),n===null)throw Error(Ze(387));i=e.pendingProps,s=e.memoizedState,r=s.element,ok(n,e),qy(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=df(Error(Ze(423)),e),e=KA(n,e,i,t,r);break e}else if(i!==r){r=df(Error(Ze(424)),e),e=KA(n,e,i,t,r);break e}else for(ts=Sl(e.stateNode.containerInfo.firstChild),is=e,yn=!0,Ks=null,t=rk(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lf(),i===r){e=Sa(n,e,t);break e}cr(n,e,i,t)}e=e.child}return e;case 5:return ak(e),n===null&&ob(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,tb(i,r)?o=null:s!==null&&tb(i,s)&&(e.flags|=32),Dk(n,e),cr(n,e,o,t),e.child;case 6:return n===null&&ob(e),null;case 13:return kk(n,e,t);case 4:return uE(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=cf(e,null,i,t):cr(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ws(i,r),XA(n,e,i,r,t);case 7:return cr(n,e,e.pendingProps,t),e.child;case 8:return cr(n,e,e.pendingProps.children,t),e.child;case 12:return cr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,cn(Xy,i._currentValue),i._currentValue=o,s!==null)if(ro(s.value,o)){if(s.children===r.children&&!Lr.current){e=Sa(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=pa(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),ab(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ze(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),ab(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cr(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Gd(e,t),r=Ds(r),i=i(r),e.flags|=1,cr(n,e,i,t),e.child;case 14:return i=e.type,r=Ws(i,e.pendingProps),r=Ws(i.type,r),YA(n,e,i,r,t);case 15:return Rk(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ws(i,r),py(n,e),e.tag=1,kr(i)?(n=!0,Gy(e)):n=!1,Gd(e,t),Ck(e,i,r),cb(e,i,r,t),fb(null,e,i,!0,n,t);case 19:return Nk(n,e,t);case 22:return Ik(n,e,t)}throw Error(Ze(156,e.tag))};function Zk(n,e){return ML(n,e)}function x6(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(n,e,t,i){return new x6(n,e,t,i)}function EE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _6(n){if(typeof n=="function")return EE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===WM)return 11;if(n===jM)return 14}return 2}function Tl(n,e){var t=n.alternate;return t===null?(t=Cs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vy(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")EE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case gd:return qc(t.children,r,s,e);case GM:o=8,r|=8;break;case LS:return n=Cs(12,t,e,r|2),n.elementType=LS,n.lanes=s,n;case kS:return n=Cs(13,t,e,r),n.elementType=kS,n.lanes=s,n;case NS:return n=Cs(19,t,e,r),n.elementType=NS,n.lanes=s,n;case aL:return Sx(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case sL:o=10;break e;case oL:o=9;break e;case WM:o=11;break e;case jM:o=14;break e;case rl:o=16,i=null;break e}throw Error(Ze(130,n==null?n:typeof n,""))}return e=Cs(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function qc(n,e,t,i){return n=Cs(7,n,i,e),n.lanes=t,n}function Sx(n,e,t,i){return n=Cs(22,n,i,e),n.elementType=aL,n.lanes=t,n.stateNode={isHidden:!1},n}function W_(n,e,t){return n=Cs(6,n,null,e),n.lanes=t,n}function j_(n,e,t){return e=Cs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function w6(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E_(0),this.expirationTimes=E_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E_(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function TE(n,e,t,i,r,s,o,a,l){return n=new w6(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},cE(s),n}function S6(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:md,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function Qk(n){if(!n)return Il;n=n._reactInternals;e:{if(yu(n)!==n||n.tag!==1)throw Error(Ze(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ze(171))}if(n.tag===1){var t=n.type;if(kr(t))return QL(n,t,e)}return e}function Jk(n,e,t,i,r,s,o,a,l){return n=TE(t,i,!0,n,r,s,o,a,l),n.context=Qk(null),t=n.current,i=hr(),r=El(t),s=pa(i,r),s.callback=e??null,bl(t,s,r),n.current.lanes=r,Em(n,r,i),Nr(n,i),n}function bx(n,e,t,i){var r=e.current,s=hr(),o=El(r);return t=Qk(t),e.context===null?e.context=t:e.pendingContext=t,e=pa(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=bl(r,e,o),n!==null&&(eo(n,r,o,s),dy(n,r,o)),o}function n0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function sP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function CE(n,e){sP(n,e),(n=n.alternate)&&sP(n,e)}function b6(){return null}var eN=typeof reportError=="function"?reportError:function(n){console.error(n)};function AE(n){this._internalRoot=n}Mx.prototype.render=AE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ze(409));bx(n,e,null,null)};Mx.prototype.unmount=AE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ou(function(){bx(null,n,null,null)}),e[_a]=null}};function Mx(n){this._internalRoot=n}Mx.prototype.unstable_scheduleHydration=function(n){if(n){var e=IL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ol.length&&e!==0&&e<ol[t].priority;t++);ol.splice(t,0,n),t===0&&LL(n)}};function PE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ex(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function oP(){}function M6(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=n0(o);s.call(c)}}var o=Jk(e,i,n,0,null,!1,!1,"",oP);return n._reactRootContainer=o,n[_a]=o.current,Lp(n.nodeType===8?n.parentNode:n),ou(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=n0(l);a.call(c)}}var l=TE(n,0,!1,null,null,!1,!1,"",oP);return n._reactRootContainer=l,n[_a]=l.current,Lp(n.nodeType===8?n.parentNode:n),ou(function(){bx(e,l,t,i)}),l}function Tx(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=n0(o);a.call(l)}}bx(e,o,n,r)}else o=M6(t,e,n,r,i);return n0(o)}PL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gh(e.pendingLanes);t!==0&&(qM(e,t|1),Nr(e,Vn()),!(Jt&6)&&(ff=Vn()+500,Hl()))}break;case 13:ou(function(){var i=wa(n,1);if(i!==null){var r=hr();eo(i,n,1,r)}}),CE(n,1)}};KM=function(n){if(n.tag===13){var e=wa(n,134217728);if(e!==null){var t=hr();eo(e,n,134217728,t)}CE(n,134217728)}};RL=function(n){if(n.tag===13){var e=El(n),t=wa(n,e);if(t!==null){var i=hr();eo(t,n,e,i)}CE(n,e)}};IL=function(){return on};DL=function(n,e){var t=on;try{return on=n,e()}finally{on=t}};jS=function(n,e,t){switch(e){case"input":if(FS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=gx(i);if(!r)throw Error(Ze(90));cL(i),FS(i,r)}}}break;case"textarea":dL(n,t);break;case"select":e=t.value,e!=null&&zd(n,!!t.multiple,e,!1)}};yL=SE;xL=ou;var E6={usingClientEntryPoint:!1,Events:[Cm,_d,gx,gL,vL,SE]},Sh={findFiberByHostInstance:Nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T6={bundleType:Sh.bundleType,version:Sh.version,rendererPackageName:Sh.rendererPackageName,rendererConfig:Sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=SL(n),n===null?null:n.stateNode},findFiberByHostInstance:Sh.findFiberByHostInstance||b6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ev=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ev.isDisabled&&ev.supportsFiber)try{fx=ev.inject(T6),Po=ev}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;us.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PE(e))throw Error(Ze(200));return S6(n,e,null,t)};us.createRoot=function(n,e){if(!PE(n))throw Error(Ze(299));var t=!1,i="",r=eN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=TE(n,1,!1,null,null,t,!1,i,r),n[_a]=e.current,Lp(n.nodeType===8?n.parentNode:n),new AE(e)};us.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ze(188)):(n=Object.keys(n).join(","),Error(Ze(268,n)));return n=SL(e),n=n===null?null:n.stateNode,n};us.flushSync=function(n){return ou(n)};us.hydrate=function(n,e,t){if(!Ex(e))throw Error(Ze(200));return Tx(null,n,e,!0,t)};us.hydrateRoot=function(n,e,t){if(!PE(n))throw Error(Ze(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=eN;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Jk(e,null,n,1,t??null,r,!1,s,o),n[_a]=e.current,Lp(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Mx(e)};us.render=function(n,e,t){if(!Ex(e))throw Error(Ze(200));return Tx(null,n,e,!1,t)};us.unmountComponentAtNode=function(n){if(!Ex(n))throw Error(Ze(40));return n._reactRootContainer?(ou(function(){Tx(null,null,n,!1,function(){n._reactRootContainer=null,n[_a]=null})}),!0):!1};us.unstable_batchedUpdates=SE;us.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Ex(t))throw Error(Ze(200));if(n==null||n._reactInternals===void 0)throw Error(Ze(38));return Tx(n,e,t,!1,i)};us.version="18.3.1-next-f1338f8080-20240426";function tN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tN)}catch(n){console.error(n)}}tN(),tL.exports=us;var Pm=tL.exports;const nN=NM(Pm);var iN,aP=Pm;iN=aP.createRoot,aP.hydrateRoot;const C6=1,A6=1e6;let X_=0;function P6(){return X_=(X_+1)%Number.MAX_SAFE_INTEGER,X_.toString()}const Y_=new Map,lP=n=>{if(Y_.has(n))return;const e=setTimeout(()=>{Y_.delete(n),sp({type:"REMOVE_TOAST",toastId:n})},A6);Y_.set(n,e)},R6=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,C6)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?lP(t):n.toasts.forEach(i=>{lP(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},yy=[];let xy={toasts:[]};function sp(n){xy=R6(xy,n),yy.forEach(e=>{e(xy)})}function I6({...n}){const e=P6(),t=r=>sp({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>sp({type:"DISMISS_TOAST",toastId:e});return sp({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:t}}function rN(){const[n,e]=z.useState(xy);return z.useEffect(()=>(yy.push(e),()=>{const t=yy.indexOf(e);t>-1&&yy.splice(t,1)}),[n]),{...n,toast:I6,dismiss:t=>sp({type:"DISMISS_TOAST",toastId:t})}}function oi(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function D6(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function sN(...n){return e=>n.forEach(t=>D6(t,e))}function so(...n){return z.useCallback(sN(...n),n)}function L6(n,e=[]){let t=[];function i(s,o){const a=z.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:f,children:m,...v}=d,y=(f==null?void 0:f[n][l])||a,x=z.useMemo(()=>v,Object.values(v));return D.jsx(y.Provider,{value:x,children:m})}function u(d,f){const m=(f==null?void 0:f[n][l])||a,v=z.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const r=()=>{const s=t.map(o=>z.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return z.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,k6(r,...e)]}function k6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Hp=z.forwardRef((n,e)=>{const{children:t,...i}=n,r=z.Children.toArray(t),s=r.find(N6);if(s){const o=s.props.children,a=r.map(l=>l===s?z.Children.count(o)>1?z.Children.only(null):z.isValidElement(o)?o.props.children:null:l);return D.jsx(Mb,{...i,ref:e,children:z.isValidElement(o)?z.cloneElement(o,void 0,a):null})}return D.jsx(Mb,{...i,ref:e,children:t})});Hp.displayName="Slot";var Mb=z.forwardRef((n,e)=>{const{children:t,...i}=n;if(z.isValidElement(t)){const r=U6(t);return z.cloneElement(t,{...O6(i,t.props),ref:e?sN(e,r):r})}return z.Children.count(t)>1?z.Children.only(null):null});Mb.displayName="SlotClone";var oN=({children:n})=>D.jsx(D.Fragment,{children:n});function N6(n){return z.isValidElement(n)&&n.type===oN}function O6(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{s(...a),r(...a)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function U6(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function F6(n){const e=n+"CollectionProvider",[t,i]=L6(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,x=tt.useRef(null),g=tt.useRef(new Map).current;return D.jsx(r,{scope:v,itemMap:g,collectionRef:x,children:y})};o.displayName=e;const a=n+"CollectionSlot",l=tt.forwardRef((m,v)=>{const{scope:y,children:x}=m,g=s(a,y),_=so(v,g.collectionRef);return D.jsx(Hp,{ref:_,children:x})});l.displayName=a;const c=n+"CollectionItemSlot",u="data-radix-collection-item",d=tt.forwardRef((m,v)=>{const{scope:y,children:x,...g}=m,_=tt.useRef(null),S=so(v,_),b=s(c,y);return tt.useEffect(()=>(b.itemMap.set(_,{ref:_,...g}),()=>void b.itemMap.delete(_))),D.jsx(Hp,{[u]:"",ref:S,children:x})});d.displayName=c;function f(m){const v=s(n+"CollectionConsumer",m);return tt.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const g=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((b,E)=>g.indexOf(b.ref.current)-g.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,i]}function aN(n,e=[]){let t=[];function i(s,o){const a=z.createContext(o),l=t.length;t=[...t,o];const c=d=>{var g;const{scope:f,children:m,...v}=d,y=((g=f==null?void 0:f[n])==null?void 0:g[l])||a,x=z.useMemo(()=>v,Object.values(v));return D.jsx(y.Provider,{value:x,children:m})};c.displayName=s+"Provider";function u(d,f){var y;const m=((y=f==null?void 0:f[n])==null?void 0:y[l])||a,v=z.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=t.map(o=>z.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return z.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,z6(r,...e)]}function z6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var B6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Or=B6.reduce((n,e)=>{const t=z.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?Hp:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),D.jsx(a,{...o,ref:r})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function lN(n,e){n&&Pm.flushSync(()=>n.dispatchEvent(e))}function Oo(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n}),z.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function V6(n,e=globalThis==null?void 0:globalThis.document){const t=Oo(n);z.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var H6="DismissableLayer",Eb="dismissableLayer.update",G6="dismissableLayer.pointerDownOutside",W6="dismissableLayer.focusOutside",cP,cN=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RE=z.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=z.useContext(cN),[u,d]=z.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=z.useState({}),v=so(e,P=>d(P)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(x),_=u?y.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,b=_>=g,E=X6(P=>{const R=P.target,I=[...c.branches].some(T=>T.contains(R));!b||I||(r==null||r(P),o==null||o(P),P.defaultPrevented||a==null||a())},f),C=Y6(P=>{const R=P.target;[...c.branches].some(T=>T.contains(R))||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},f);return V6(P=>{_===c.layers.size-1&&(i==null||i(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},f),z.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(cP=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),uP(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=cP)}},[u,f,t,c]),z.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),uP())},[u,c]),z.useEffect(()=>{const P=()=>m({});return document.addEventListener(Eb,P),()=>document.removeEventListener(Eb,P)},[]),D.jsx(Or.div,{...l,ref:v,style:{pointerEvents:S?b?"auto":"none":void 0,...n.style},onFocusCapture:oi(n.onFocusCapture,C.onFocusCapture),onBlurCapture:oi(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:oi(n.onPointerDownCapture,E.onPointerDownCapture)})});RE.displayName=H6;var j6="DismissableLayerBranch",uN=z.forwardRef((n,e)=>{const t=z.useContext(cN),i=z.useRef(null),r=so(e,i);return z.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),D.jsx(Or.div,{...n,ref:r})});uN.displayName=j6;function X6(n,e=globalThis==null?void 0:globalThis.document){const t=Oo(n),i=z.useRef(!1),r=z.useRef(()=>{});return z.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){dN(G6,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Y6(n,e=globalThis==null?void 0:globalThis.document){const t=Oo(n),i=z.useRef(!1);return z.useEffect(()=>{const r=s=>{s.target&&!i.current&&dN(W6,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function uP(){const n=new CustomEvent(Eb);document.dispatchEvent(n)}function dN(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?lN(r,s):r.dispatchEvent(s)}var q6=RE,K6=uN,au=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{},$6="Portal",fN=z.forwardRef((n,e)=>{var a;const{container:t,...i}=n,[r,s]=z.useState(!1);au(()=>s(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?nN.createPortal(D.jsx(Or.div,{...i,ref:e}),o):null});fN.displayName=$6;function Z6(n,e){return z.useReducer((t,i)=>e[t][i]??t,n)}var IE=n=>{const{present:e,children:t}=n,i=Q6(e),r=typeof t=="function"?t({present:i.isPresent}):z.Children.only(t),s=so(i.ref,J6(r));return typeof t=="function"||i.isPresent?z.cloneElement(r,{ref:s}):null};IE.displayName="Presence";function Q6(n){const[e,t]=z.useState(),i=z.useRef({}),r=z.useRef(n),s=z.useRef("none"),o=n?"mounted":"unmounted",[a,l]=Z6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const c=tv(i.current);s.current=a==="mounted"?c:"none"},[a]),au(()=>{const c=i.current,u=r.current;if(u!==n){const f=s.current,m=tv(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),au(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=m=>{const y=tv(i.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(s.current=tv(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:z.useCallback(c=>{c&&(i.current=getComputedStyle(c)),t(c)},[])}}function tv(n){return(n==null?void 0:n.animationName)||"none"}function J6(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function eH({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=tH({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,a=Oo(t),l=z.useCallback(c=>{if(s){const d=typeof c=="function"?c(n):c;d!==n&&a(d)}else r(c)},[s,n,r,a]);return[o,l]}function tH({defaultProp:n,onChange:e}){const t=z.useState(n),[i]=t,r=z.useRef(i),s=Oo(e);return z.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}var nH="VisuallyHidden",Cx=z.forwardRef((n,e)=>D.jsx(Or.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Cx.displayName=nH;var iH=Cx,DE="ToastProvider",[LE,rH,sH]=F6("Toast"),[hN,Pce]=aN("Toast",[sH]),[oH,Ax]=hN(DE),pN=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=n,[a,l]=z.useState(null),[c,u]=z.useState(0),d=z.useRef(!1),f=z.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${DE}\`. Expected non-empty \`string\`.`),D.jsx(LE.Provider,{scope:e,children:D.jsx(oH,{scope:e,label:t,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:z.useCallback(()=>u(m=>m+1),[]),onToastRemove:z.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};pN.displayName=DE;var mN="ToastViewport",aH=["F8"],Tb="toast.viewportPause",Cb="toast.viewportResume",gN=z.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=aH,label:r="Notifications ({hotkey})",...s}=n,o=Ax(mN,t),a=rH(t),l=z.useRef(null),c=z.useRef(null),u=z.useRef(null),d=z.useRef(null),f=so(e,d,o.onViewportChange),m=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;z.useEffect(()=>{const x=g=>{var S;i.length!==0&&i.every(b=>g[b]||g.code===b)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[i]),z.useEffect(()=>{const x=l.current,g=d.current;if(v&&x&&g){const _=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Tb);g.dispatchEvent(C),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Cb);g.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!x.contains(C.relatedTarget)&&S()},E=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",_),x.addEventListener("focusout",b),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",E),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",E),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const y=z.useCallback(({tabbingDirection:x})=>{const _=a().map(S=>{const b=S.ref.current,E=[b,..._H(b)];return x==="forwards"?E:E.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return z.useEffect(()=>{const x=d.current;if(x){const g=_=>{var E,C,P;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const R=document.activeElement,I=_.shiftKey;if(_.target===x&&I){(E=c.current)==null||E.focus();return}const U=y({tabbingDirection:I?"backwards":"forwards"}),j=U.findIndex(W=>W===R);q_(U.slice(j+1))?_.preventDefault():I?(C=c.current)==null||C.focus():(P=u.current)==null||P.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[a,y]),D.jsxs(K6,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&D.jsx(Ab,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});q_(x)}}),D.jsx(LE.Slot,{scope:t,children:D.jsx(Or.ol,{tabIndex:-1,...s,ref:f})}),v&&D.jsx(Ab,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});q_(x)}})]})});gN.displayName=mN;var vN="ToastFocusProxy",Ab=z.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=Ax(vN,t);return D.jsx(Cx,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});Ab.displayName=vN;var Px="Toast",lH="toast.swipeStart",cH="toast.swipeMove",uH="toast.swipeCancel",dH="toast.swipeEnd",yN=z.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[a=!0,l]=eH({prop:i,defaultProp:r,onChange:s});return D.jsx(IE,{present:t||a,children:D.jsx(pH,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Oo(n.onPause),onResume:Oo(n.onResume),onSwipeStart:oi(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oi(n.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:oi(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oi(n.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});yN.displayName=Px;var[fH,hH]=hN(Px,{onClose(){}}),pH=z.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:m,...v}=n,y=Ax(Px,t),[x,g]=z.useState(null),_=so(e,W=>g(W)),S=z.useRef(null),b=z.useRef(null),E=r||y.duration,C=z.useRef(0),P=z.useRef(E),R=z.useRef(0),{onToastAdd:I,onToastRemove:T}=y,O=Oo(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=y.viewport)==null||ee.focus()),o()}),U=z.useCallback(W=>{!W||W===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(O,W))},[O]);z.useEffect(()=>{const W=y.viewport;if(W){const ee=()=>{U(P.current),c==null||c()},K=()=>{const ne=new Date().getTime()-C.current;P.current=P.current-ne,window.clearTimeout(R.current),l==null||l()};return W.addEventListener(Tb,K),W.addEventListener(Cb,ee),()=>{W.removeEventListener(Tb,K),W.removeEventListener(Cb,ee)}}},[y.viewport,E,l,c,U]),z.useEffect(()=>{s&&!y.isClosePausedRef.current&&U(E)},[s,E,y.isClosePausedRef,U]),z.useEffect(()=>(I(),()=>T()),[I,T]);const j=z.useMemo(()=>x?EN(x):null,[x]);return y.viewport?D.jsxs(D.Fragment,{children:[j&&D.jsx(mH,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),D.jsx(fH,{scope:t,onClose:O,children:Pm.createPortal(D.jsx(LE.ItemSlot,{scope:t,children:D.jsx(q6,{asChild:!0,onEscapeKeyDown:oi(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||O(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:D.jsx(Or.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:oi(n.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:oi(n.onPointerDown,W=>{W.button===0&&(S.current={x:W.clientX,y:W.clientY})}),onPointerMove:oi(n.onPointerMove,W=>{if(!S.current)return;const ee=W.clientX-S.current.x,K=W.clientY-S.current.y,ne=!!b.current,k=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,H=k?B(0,ee):0,F=k?0:B(0,K),Y=W.pointerType==="touch"?10:2,ie={x:H,y:F},$={originalEvent:W,delta:ie};ne?(b.current=ie,nv(cH,d,$,{discrete:!1})):dP(ie,y.swipeDirection,Y)?(b.current=ie,nv(lH,u,$,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ee)>Y||Math.abs(K)>Y)&&(S.current=null)}),onPointerUp:oi(n.onPointerUp,W=>{const ee=b.current,K=W.target;if(K.hasPointerCapture(W.pointerId)&&K.releasePointerCapture(W.pointerId),b.current=null,S.current=null,ee){const ne=W.currentTarget,k={originalEvent:W,delta:ee};dP(ee,y.swipeDirection,y.swipeThreshold)?nv(dH,m,k,{discrete:!0}):nv(uH,f,k,{discrete:!0}),ne.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),mH=n=>{const{__scopeToast:e,children:t,...i}=n,r=Ax(Px,e),[s,o]=z.useState(!1),[a,l]=z.useState(!1);return yH(()=>o(!0)),z.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:D.jsx(fN,{asChild:!0,children:D.jsx(Cx,{...i,children:s&&D.jsxs(D.Fragment,{children:[r.label," ",t]})})})},gH="ToastTitle",xN=z.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return D.jsx(Or.div,{...i,ref:e})});xN.displayName=gH;var vH="ToastDescription",_N=z.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return D.jsx(Or.div,{...i,ref:e})});_N.displayName=vH;var wN="ToastAction",SN=z.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?D.jsx(MN,{altText:t,asChild:!0,children:D.jsx(kE,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wN}\`. Expected non-empty \`string\`.`),null)});SN.displayName=wN;var bN="ToastClose",kE=z.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=hH(bN,t);return D.jsx(MN,{asChild:!0,children:D.jsx(Or.button,{type:"button",...i,ref:e,onClick:oi(n.onClick,r.onClose)})})});kE.displayName=bN;var MN=z.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return D.jsx(Or.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function EN(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),xH(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...EN(i))}}),e}function nv(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?lN(r,s):r.dispatchEvent(s)}var dP=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function yH(n=()=>{}){const e=Oo(n);au(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function xH(n){return n.nodeType===n.ELEMENT_NODE}function _H(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function q_(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var wH=pN,TN=gN,CN=yN,AN=xN,PN=_N,RN=SN,IN=kE;function DN(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=DN(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function LN(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=DN(n))&&(i&&(i+=" "),i+=e);return i}const fP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,hP=LN,kN=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return hP(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const u=t==null?void 0:t[c],d=s==null?void 0:s[c];if(u===null)return null;const f=fP(u)||fP(d);return r[c][f]}),a=t&&Object.entries(t).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,u)=>{let{class:d,className:f,...m}=u;return Object.entries(m).every(v=>{let[y,x]=v;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,d,f]:c},[]);return hP(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NN=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>z.createElement("svg",{ref:l,...bH,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:NN("lucide",r),...a},[...o.map(([c,u])=>z.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(n,e)=>{const t=z.forwardRef(({className:i,...r},s)=>z.createElement(MH,{ref:s,iconNode:e,className:NN(`lucide-${SH(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=qt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=qt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=qt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=qt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=qt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=qt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=qt("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=qt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=qt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=qt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=qt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=qt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=qt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=qt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=qt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=qt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=qt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=qt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=qt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=qt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=qt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=qt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=qt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=qt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=qt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=qt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=qt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=qt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=qt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=qt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=qt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=qt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=qt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=qt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),UE="-",YH=n=>{const e=KH(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(UE);return a[0]===""&&a.length!==1&&a.shift(),BN(a,e)||qH(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},BN=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?BN(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(UE);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},xP=/^\[(.+)\]$/,qH=n=>{if(xP.test(n)){const e=xP.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},KH=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return ZH(Object.entries(n.classGroups),t).forEach(([s,o])=>{Rb(o,i,s,e)}),i},Rb=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:_P(e,r);s.classGroupId=t;return}if(typeof r=="function"){if($H(r)){Rb(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{Rb(o,_P(e,s),t,i)})})},_P=(n,e)=>{let t=n;return e.split(UE).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},$H=n=>n.isThemeGetter,ZH=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,r]}):n,QH=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},VN="!",JH=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let g=a[x];if(c===0){if(g===r&&(i||a.slice(x,x+s)===e)){l.push(a.slice(u,x)),u=x+s;continue}if(g==="/"){d=x;continue}}g==="["?c++:g==="]"&&c--}const f=l.length===0?a:a.substring(u),m=f.startsWith(VN),v=m?f.substring(1):f,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},e8=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},t8=n=>({cache:QH(n.cacheSize),parseClassName:JH(n),...YH(n)}),n8=/\s+/,i8=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=n.trim().split(n8);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=t(c);let v=!!m,y=i(v?f.substring(0,m):f);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=i(f),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=e8(u).join(":"),g=d?x+VN:x,_=g+y;if(s.includes(_))continue;s.push(_);const S=r(y,v);for(let b=0;b<S.length;++b){const E=S[b];s.push(g+E)}a=c+(a.length>0?" "+a:a)}return a};function r8(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=HN(e))&&(i&&(i+=" "),i+=t);return i}const HN=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=HN(n[i]))&&(t&&(t+=" "),t+=e);return t};function s8(n,...e){let t,i,r,s=o;function o(l){const c=e.reduce((u,d)=>d(u),n());return t=t8(c),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const u=i8(l,t);return r(l,u),u}return function(){return s(r8.apply(null,arguments))}}const un=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},GN=/^\[(?:([a-z-]+):)?(.+)\]$/i,o8=/^\d+\/\d+$/,a8=new Set(["px","full","screen"]),l8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=n=>jd(n)||a8.has(n)||o8.test(n),Ya=n=>Rf(n,"length",_8),jd=n=>!!n&&!Number.isNaN(Number(n)),K_=n=>Rf(n,"number",jd),bh=n=>!!n&&Number.isInteger(Number(n)),h8=n=>n.endsWith("%")&&jd(n.slice(0,-1)),Ft=n=>GN.test(n),qa=n=>l8.test(n),p8=new Set(["length","size","percentage"]),m8=n=>Rf(n,p8,WN),g8=n=>Rf(n,"position",WN),v8=new Set(["image","url"]),y8=n=>Rf(n,v8,S8),x8=n=>Rf(n,"",w8),Mh=()=>!0,Rf=(n,e,t)=>{const i=GN.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},_8=n=>c8.test(n)&&!u8.test(n),WN=()=>!1,w8=n=>d8.test(n),S8=n=>f8.test(n),b8=()=>{const n=un("colors"),e=un("spacing"),t=un("blur"),i=un("brightness"),r=un("borderColor"),s=un("borderRadius"),o=un("borderSpacing"),a=un("borderWidth"),l=un("contrast"),c=un("grayscale"),u=un("hueRotate"),d=un("invert"),f=un("gap"),m=un("gradientColorStops"),v=un("gradientColorStopPositions"),y=un("inset"),x=un("margin"),g=un("opacity"),_=un("padding"),S=un("saturate"),b=un("scale"),E=un("sepia"),C=un("skew"),P=un("space"),R=un("translate"),I=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ft,e],U=()=>[Ft,e],j=()=>["",Qo,Ya],W=()=>["auto",jd,Ft],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ft],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[jd,Ft];return{cacheSize:500,separator:":",theme:{colors:[Mh],spacing:[Qo,Ya],blur:["none","",qa,Ft],brightness:F(),borderColor:[n],borderRadius:["none","","full",qa,Ft],borderSpacing:U(),borderWidth:j(),contrast:F(),grayscale:B(),hueRotate:F(),invert:B(),gap:U(),gradientColorStops:[n],gradientColorStopPositions:[h8,Ya],inset:O(),margin:O(),opacity:F(),padding:U(),saturate:F(),scale:F(),sepia:B(),skew:F(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[qa]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Ft]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bh,Ft]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",bh,Ft]}],"grid-cols":[{"grid-cols":[Mh]}],"col-start-end":[{col:["auto",{span:["full",bh,Ft]},Ft]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Mh]}],"row-start-end":[{row:["auto",{span:[bh,Ft]},Ft]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,e]}],"min-w":[{"min-w":[Ft,e,"min","max","fit"]}],"max-w":[{"max-w":[Ft,e,"none","full","min","max","fit","prose",{screen:[qa]},qa]}],h:[{h:[Ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qa,Ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",K_]}],"font-family":[{font:[Mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",jd,K_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qo,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qo,Ya]}],"underline-offset":[{"underline-offset":["auto",Qo,Ft]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),g8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y8]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:K()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Qo,Ft]}],"outline-w":[{outline:[Qo,Ya]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Qo,Ya]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",qa,x8]}],"shadow-color":[{shadow:[Mh]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qa,Ft]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[bh,Ft]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Qo,Ya,K_]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},M8=s8(b8);function zo(...n){return M8(LN(n))}const E8=wH,jN=z.forwardRef(({className:n,...e},t)=>D.jsx(TN,{ref:t,className:zo("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));jN.displayName=TN.displayName;const T8=kN("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XN=z.forwardRef(({className:n,variant:e,...t},i)=>D.jsx(CN,{ref:i,className:zo(T8({variant:e}),n),...t}));XN.displayName=CN.displayName;const C8=z.forwardRef(({className:n,...e},t)=>D.jsx(RN,{ref:t,className:zo("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));C8.displayName=RN.displayName;const YN=z.forwardRef(({className:n,...e},t)=>D.jsx(IN,{ref:t,className:zo("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:D.jsx(FN,{className:"h-4 w-4"})}));YN.displayName=IN.displayName;const qN=z.forwardRef(({className:n,...e},t)=>D.jsx(AN,{ref:t,className:zo("text-sm font-semibold",n),...e}));qN.displayName=AN.displayName;const KN=z.forwardRef(({className:n,...e},t)=>D.jsx(PN,{ref:t,className:zo("text-sm opacity-90",n),...e}));KN.displayName=PN.displayName;function A8(){const{toasts:n}=rN();return D.jsxs(E8,{children:[n.map(function({id:e,title:t,description:i,action:r,...s}){return D.jsxs(XN,{...s,children:[D.jsxs("div",{className:"grid gap-1",children:[t&&D.jsx(qN,{children:t}),i&&D.jsx(KN,{children:i})]}),r,D.jsx(YN,{})]},e)}),D.jsx(jN,{})]})}var wP=["light","dark"],P8="(prefers-color-scheme: dark)",R8=z.createContext(void 0),I8={setTheme:n=>{},themes:[]},D8=()=>{var n;return(n=z.useContext(R8))!=null?n:I8};z.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,d=r?wP.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,y=!1,x=!0)=>{let g=o?o[v]:v,_=y?v+"|| ''":`'${g}'`,S="";return r&&x&&!y&&wP.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),t==="class"?y||g?S+=`c.add(${_})`:S+="null":g&&(S+=`d[s](n,${_})`),S},m=n?`!function(){${u}${f(n)}}()`:i?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${P8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${d}}catch(t){}}();`;return z.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var L8=n=>{switch(n){case"success":return O8;case"info":return F8;case"warning":return U8;case"error":return z8;default:return null}},k8=Array(12).fill(0),N8=({visible:n})=>tt.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},tt.createElement("div",{className:"sonner-spinner"},k8.map((e,t)=>tt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),O8=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),U8=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F8=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),z8=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),B8=()=>{let[n,e]=tt.useState(document.hidden);return tt.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Ib=1,V8=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...i}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:Ib++,s=this.toasts.find(a=>a.id===r),o=n.dismissible===void 0?!0:n.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...n,id:r,title:t}),{...a,...n,id:r,dismissible:o,title:t}):a):this.addToast({title:t,...i,dismissible:o,id:r}),r},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=n instanceof Promise?n:n(),r=t!==void 0;return i.then(async s=>{if(G8(s)&&!s.ok){r=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:t,type:"error",message:o,description:a})}else if(e.success!==void 0){r=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){r=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"error",message:o,description:a})}}).finally(()=>{var s;r&&(this.dismiss(t),t=void 0),(s=e.finally)==null||s.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||Ib++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},Zr=new V8,H8=(n,e)=>{let t=(e==null?void 0:e.id)||Ib++;return Zr.addToast({title:n,...e,id:t}),t},G8=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",W8=H8,j8=()=>Zr.toasts;Object.assign(W8,{success:Zr.success,info:Zr.info,warning:Zr.warning,error:Zr.error,custom:Zr.custom,message:Zr.message,promise:Zr.promise,dismiss:Zr.dismiss,loading:Zr.loading},{getHistory:j8});function X8(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}X8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function iv(n){return n.label!==void 0}var Y8=3,q8="32px",K8=4e3,$8=356,Z8=14,Q8=20,J8=200;function eG(...n){return n.filter(Boolean).join(" ")}var tG=n=>{var e,t,i,r,s,o,a,l,c,u;let{invert:d,toast:f,unstyled:m,interacting:v,setHeights:y,visibleToasts:x,heights:g,index:_,toasts:S,expanded:b,removeToast:E,defaultRichColors:C,closeButton:P,style:R,cancelButtonStyle:I,actionButtonStyle:T,className:O="",descriptionClassName:U="",duration:j,position:W,gap:ee,loadingIcon:K,expandByDefault:ne,classNames:k,icons:B,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:F,cn:Y}=n,[ie,$]=tt.useState(!1),[te,oe]=tt.useState(!1),[se,ve]=tt.useState(!1),[Ue,Ne]=tt.useState(!1),[Oe,Pe]=tt.useState(0),[We,G]=tt.useState(0),Re=tt.useRef(null),we=tt.useRef(null),De=_===0,ae=_+1<=x,Ae=f.type,ye=f.dismissible!==!1,ue=f.className||"",je=f.descriptionClassName||"",V=tt.useMemo(()=>g.findIndex(Ee=>Ee.toastId===f.id)||0,[g,f.id]),N=tt.useMemo(()=>{var Ee;return(Ee=f.closeButton)!=null?Ee:P},[f.closeButton,P]),re=tt.useMemo(()=>f.duration||j||K8,[f.duration,j]),_e=tt.useRef(0),ge=tt.useRef(0),fe=tt.useRef(0),ze=tt.useRef(null),[Be,Xe]=W.split("-"),Ye=tt.useMemo(()=>g.reduce((Ee,Z,xe)=>xe>=V?Ee:Ee+Z.height,0),[g,V]),be=B8(),Ve=f.invert||d,He=Ae==="loading";ge.current=tt.useMemo(()=>V*ee+Ye,[V,Ye]),tt.useEffect(()=>{$(!0)},[]),tt.useLayoutEffect(()=>{if(!ie)return;let Ee=we.current,Z=Ee.style.height;Ee.style.height="auto";let xe=Ee.getBoundingClientRect().height;Ee.style.height=Z,G(xe),y(Te=>Te.find($e=>$e.toastId===f.id)?Te.map($e=>$e.toastId===f.id?{...$e,height:xe}:$e):[{toastId:f.id,height:xe,position:f.position},...Te])},[ie,f.title,f.description,y,f.id]);let Q=tt.useCallback(()=>{oe(!0),Pe(ge.current),y(Ee=>Ee.filter(Z=>Z.toastId!==f.id)),setTimeout(()=>{E(f)},J8)},[f,E,y,ge]);tt.useEffect(()=>{if(f.promise&&Ae==="loading"||f.duration===1/0||f.type==="loading")return;let Ee,Z=re;return b||v||F&&be?(()=>{if(fe.current<_e.current){let xe=new Date().getTime()-_e.current;Z=Z-xe}fe.current=new Date().getTime()})():Z!==1/0&&(_e.current=new Date().getTime(),Ee=setTimeout(()=>{var xe;(xe=f.onAutoClose)==null||xe.call(f,f),Q()},Z)),()=>clearTimeout(Ee)},[b,v,ne,f,re,Q,f.promise,Ae,F,be]),tt.useEffect(()=>{let Ee=we.current;if(Ee){let Z=Ee.getBoundingClientRect().height;return G(Z),y(xe=>[{toastId:f.id,height:Z,position:f.position},...xe]),()=>y(xe=>xe.filter(Te=>Te.toastId!==f.id))}},[y,f.id]),tt.useEffect(()=>{f.delete&&Q()},[Q,f.delete]);function de(){return B!=null&&B.loading?tt.createElement("div",{className:"sonner-loader","data-visible":Ae==="loading"},B.loading):K?tt.createElement("div",{className:"sonner-loader","data-visible":Ae==="loading"},K):tt.createElement(N8,{visible:Ae==="loading"})}return tt.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:we,className:Y(O,ue,k==null?void 0:k.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[Ae],(t=f==null?void 0:f.classNames)==null?void 0:t[Ae]),"data-sonner-toast":"","data-rich-colors":(i=f.richColors)!=null?i:C,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ie,"data-promise":!!f.promise,"data-removed":te,"data-visible":ae,"data-y-position":Be,"data-x-position":Xe,"data-index":_,"data-front":De,"data-swiping":se,"data-dismissible":ye,"data-type":Ae,"data-invert":Ve,"data-swipe-out":Ue,"data-expanded":!!(b||ne&&ie),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${te?Oe:ge.current}px`,"--initial-height":ne?"auto":`${We}px`,...R,...f.style},onPointerDown:Ee=>{He||!ye||(Re.current=new Date,Pe(ge.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(ve(!0),ze.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Z,xe,Te;if(Ue||!ye)return;ze.current=null;let $e=Number(((Ee=we.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ke=new Date().getTime()-((Z=Re.current)==null?void 0:Z.getTime()),Se=Math.abs($e)/ke;if(Math.abs($e)>=Q8||Se>.11){Pe(ge.current),(xe=f.onDismiss)==null||xe.call(f,f),Q(),Ne(!0);return}(Te=we.current)==null||Te.style.setProperty("--swipe-amount","0px"),ve(!1)},onPointerMove:Ee=>{var Z;if(!ze.current||!ye)return;let xe=Ee.clientY-ze.current.y,Te=Ee.clientX-ze.current.x,$e=(Be==="top"?Math.min:Math.max)(0,xe),ke=Ee.pointerType==="touch"?10:2;Math.abs($e)>ke?(Z=we.current)==null||Z.style.setProperty("--swipe-amount",`${xe}px`):Math.abs(Te)>ke&&(ze.current=null)}},N&&!f.jsx?tt.createElement("button",{"aria-label":H,"data-disabled":He,"data-close-button":!0,onClick:He||!ye?()=>{}:()=>{var Ee;Q(),(Ee=f.onDismiss)==null||Ee.call(f,f)},className:Y(k==null?void 0:k.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},tt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),tt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||tt.isValidElement(f.title)?f.jsx||f.title:tt.createElement(tt.Fragment,null,Ae||f.icon||f.promise?tt.createElement("div",{"data-icon":"",className:Y(k==null?void 0:k.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||de():null,f.type!=="loading"?f.icon||(B==null?void 0:B[Ae])||L8(Ae):null):null,tt.createElement("div",{"data-content":"",className:Y(k==null?void 0:k.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},tt.createElement("div",{"data-title":"",className:Y(k==null?void 0:k.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?tt.createElement("div",{"data-description":"",className:Y(U,je,k==null?void 0:k.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),tt.isValidElement(f.cancel)?f.cancel:f.cancel&&iv(f.cancel)?tt.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:Ee=>{var Z,xe;iv(f.cancel)&&ye&&((xe=(Z=f.cancel).onClick)==null||xe.call(Z,Ee),Q())},className:Y(k==null?void 0:k.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,tt.isValidElement(f.action)?f.action:f.action&&iv(f.action)?tt.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Ee=>{var Z,xe;iv(f.action)&&(Ee.defaultPrevented||((xe=(Z=f.action).onClick)==null||xe.call(Z,Ee),Q()))},className:Y(k==null?void 0:k.actionButton,(u=f==null?void 0:f.classNames)==null?void 0:u.actionButton)},f.action.label):null))};function SP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var nG=n=>{let{invert:e,position:t="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:d,visibleToasts:f=Y8,toastOptions:m,dir:v=SP(),gap:y=Z8,loadingIcon:x,icons:g,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S,cn:b=eG}=n,[E,C]=tt.useState([]),P=tt.useMemo(()=>Array.from(new Set([t].concat(E.filter(F=>F.position).map(F=>F.position)))),[E,t]),[R,I]=tt.useState([]),[T,O]=tt.useState(!1),[U,j]=tt.useState(!1),[W,ee]=tt.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=tt.useRef(null),ne=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=tt.useRef(null),B=tt.useRef(!1),H=tt.useCallback(F=>{var Y;(Y=E.find(ie=>ie.id===F.id))!=null&&Y.delete||Zr.dismiss(F.id),C(ie=>ie.filter(({id:$})=>$!==F.id))},[E]);return tt.useEffect(()=>Zr.subscribe(F=>{if(F.dismiss){C(Y=>Y.map(ie=>ie.id===F.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{nN.flushSync(()=>{C(Y=>{let ie=Y.findIndex($=>$.id===F.id);return ie!==-1?[...Y.slice(0,ie),{...Y[ie],...F},...Y.slice(ie+1)]:[F,...Y]})})})}),[]),tt.useEffect(()=>{if(l!=="system"){ee(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:F})=>{ee(F?"dark":"light")})},[l]),tt.useEffect(()=>{E.length<=1&&O(!1)},[E]),tt.useEffect(()=>{let F=Y=>{var ie,$;i.every(te=>Y[te]||Y.code===te)&&(O(!0),(ie=K.current)==null||ie.focus()),Y.code==="Escape"&&(document.activeElement===K.current||($=K.current)!=null&&$.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),tt.useEffect(()=>{if(K.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,B.current=!1)}},[K.current]),E.length?tt.createElement("section",{"aria-label":`${_} ${ne}`,tabIndex:-1},P.map((F,Y)=>{var ie;let[$,te]=F.split("-");return tt.createElement("ol",{key:F,dir:v==="auto"?SP():v,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":$,"data-x-position":te,style:{"--front-toast-height":`${((ie=R[0])==null?void 0:ie.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||q8,"--width":`${$8}px`,"--gap":`${y}px`,...d},onBlur:oe=>{B.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(B.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||B.current||(B.current=!0,k.current=oe.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},E.filter(oe=>!oe.position&&Y===0||oe.position===F).map((oe,se)=>{var ve,Ue;return tt.createElement(tG,{key:oe.id,icons:g,index:se,toast:oe,defaultRichColors:c,duration:(ve=m==null?void 0:m.duration)!=null?ve:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ue=m==null?void 0:m.closeButton)!=null?Ue:s,interacting:U,position:F,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:H,toasts:E.filter(Ne=>Ne.position==oe.position),heights:R.filter(Ne=>Ne.position==oe.position),setHeights:I,expandByDefault:r,gap:y,loadingIcon:x,expanded:T,pauseWhenPageIsHidden:S,cn:b})}))})):null};const iG=({...n})=>{const{theme:e="system"}=D8();return D.jsx(nG,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},rG=["top","right","bottom","left"],Dl=Math.min,es=Math.max,s0=Math.round,rv=Math.floor,Ll=n=>({x:n,y:n}),sG={left:"right",right:"left",bottom:"top",top:"bottom"},oG={start:"end",end:"start"};function Db(n,e,t){return es(n,Dl(e,t))}function ba(n,e){return typeof n=="function"?n(e):n}function Ma(n){return n.split("-")[0]}function If(n){return n.split("-")[1]}function FE(n){return n==="x"?"y":"x"}function zE(n){return n==="y"?"height":"width"}function kl(n){return["top","bottom"].includes(Ma(n))?"y":"x"}function BE(n){return FE(kl(n))}function aG(n,e,t){t===void 0&&(t=!1);const i=If(n),r=BE(n),s=zE(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=o0(o)),[o,o0(o)]}function lG(n){const e=o0(n);return[Lb(n),e,Lb(e)]}function Lb(n){return n.replace(/start|end/g,e=>oG[e])}function cG(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function uG(n,e,t,i){const r=If(n);let s=cG(Ma(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Lb)))),s}function o0(n){return n.replace(/left|right|bottom|top/g,e=>sG[e])}function dG(n){return{top:0,right:0,bottom:0,left:0,...n}}function $N(n){return typeof n!="number"?dG(n):{top:n,right:n,bottom:n,left:n}}function a0(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function bP(n,e,t){let{reference:i,floating:r}=n;const s=kl(e),o=BE(e),a=zE(o),l=Ma(e),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,f=i[a]/2-r[a]/2;let m;switch(l){case"top":m={x:u,y:i.y-r.height};break;case"bottom":m={x:u,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:d};break;case"left":m={x:i.x-r.width,y:d};break;default:m={x:i.x,y:i.y}}switch(If(e)){case"start":m[o]-=f*(t&&c?-1:1);break;case"end":m[o]+=f*(t&&c?-1:1);break}return m}const fG=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:u,y:d}=bP(c,i,l),f=i,m={},v=0;for(let y=0;y<a.length;y++){const{name:x,fn:g}=a[y],{x:_,y:S,data:b,reset:E}=await g({x:u,y:d,initialPlacement:i,placement:f,strategy:r,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=_??u,d=S??d,m={...m,[x]:{...m[x],...b}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):E.rects),{x:u,y:d}=bP(c,f,l)),y=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:m}};async function Gp(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=ba(e,n),v=$N(m),x=a[f?d==="floating"?"reference":"floating":d],g=a0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=a0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:l}):_);return{top:(g.top-E.top+v.top)/b.y,bottom:(E.bottom-g.bottom+v.bottom)/b.y,left:(g.left-E.left+v.left)/b.x,right:(E.right-g.right+v.right)/b.x}}const hG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ba(n,e)||{};if(c==null)return{};const d=$N(u),f={x:t,y:i},m=BE(r),v=zE(m),y=await o.getDimensions(c),x=m==="y",g=x?"top":"left",_=x?"bottom":"right",S=x?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[m]-f[m]-s.floating[v],E=f[m]-s.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let P=C?C[S]:0;(!P||!await(o.isElement==null?void 0:o.isElement(C)))&&(P=a.floating[S]||s.floating[v]);const R=b/2-E/2,I=P/2-y[v]/2-1,T=Dl(d[g],I),O=Dl(d[_],I),U=T,j=P-y[v]-O,W=P/2-y[v]/2+R,ee=Db(U,W,j),K=!l.arrow&&If(r)!=null&&W!==ee&&s.reference[v]/2-(W<U?T:O)-y[v]/2<0,ne=K?W<U?W-U:W-j:0;return{[m]:f[m]+ne,data:{[m]:ee,centerOffset:W-ee-ne,...K&&{alignmentOffset:ne}},reset:K}}}),pG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=ba(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Ma(r),_=kl(a),S=Ma(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(S||!y?[o0(a)]:lG(a)),C=v!=="none";!f&&C&&E.push(...uG(a,y,v,b));const P=[a,...E],R=await Gp(e,x),I=[];let T=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&I.push(R[g]),d){const W=aG(r,o,b);I.push(R[W[0]],R[W[1]])}if(T=[...T,{placement:r,overflows:I}],!I.every(W=>W<=0)){var O,U;const W=(((O=s.flip)==null?void 0:O.index)||0)+1,ee=P[W];if(ee)return{data:{index:W,overflows:T},reset:{placement:ee}};let K=(U=T.filter(ne=>ne.overflows[0]<=0).sort((ne,k)=>ne.overflows[1]-k.overflows[1])[0])==null?void 0:U.placement;if(!K)switch(m){case"bestFit":{var j;const ne=(j=T.filter(k=>{if(C){const B=kl(k.placement);return B===_||B==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(B=>B>0).reduce((B,H)=>B+H,0)]).sort((k,B)=>k[1]-B[1])[0])==null?void 0:j[0];ne&&(K=ne);break}case"initialPlacement":K=a;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function MP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function EP(n){return rG.some(e=>n[e]>=0)}const mG=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=ba(n,e);switch(i){case"referenceHidden":{const s=await Gp(e,{...r,elementContext:"reference"}),o=MP(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:EP(o)}}}case"escaped":{const s=await Gp(e,{...r,altBoundary:!0}),o=MP(s,t.floating);return{data:{escapedOffsets:o,escaped:EP(o)}}}default:return{}}}}};async function gG(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Ma(t),a=If(t),l=kl(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=ba(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const vG=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await gG(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},yG=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:g,y:_}=x;return{x:g,y:_}}},...l}=ba(n,e),c={x:t,y:i},u=await Gp(e,l),d=kl(Ma(r)),f=FE(d);let m=c[f],v=c[d];if(s){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",_=m+u[x],S=m-u[g];m=Db(_,m,S)}if(o){const x=d==="y"?"top":"left",g=d==="y"?"bottom":"right",_=v+u[x],S=v-u[g];v=Db(_,v,S)}const y=a.fn({...e,[f]:m,[d]:v});return{...y,data:{x:y.x-t,y:y.y-i,enabled:{[f]:s,[d]:o}}}}}},xG=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ba(n,e),u={x:t,y:i},d=kl(r),f=FE(d);let m=u[f],v=u[d];const y=ba(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=f==="y"?"height":"width",b=s.reference[f]-s.floating[S]+x.mainAxis,E=s.reference[f]+s.reference[S]-x.mainAxis;m<b?m=b:m>E&&(m=E)}if(c){var g,_;const S=f==="y"?"width":"height",b=["top","left"].includes(Ma(r)),E=s.reference[d]-s.floating[S]+(b&&((g=o.offset)==null?void 0:g[d])||0)+(b?0:x.crossAxis),C=s.reference[d]+s.reference[S]+(b?0:((_=o.offset)==null?void 0:_[d])||0)-(b?x.crossAxis:0);v<E?v=E:v>C&&(v=C)}return{[f]:m,[d]:v}}}},_G=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ba(n,e),u=await Gp(e,c),d=Ma(r),f=If(r),m=kl(r)==="y",{width:v,height:y}=s.floating;let x,g;d==="top"||d==="bottom"?(x=d,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,x=f==="end"?"top":"bottom");const _=y-u.top-u.bottom,S=v-u.left-u.right,b=Dl(y-u[x],_),E=Dl(v-u[g],S),C=!e.middlewareData.shift;let P=b,R=E;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=S),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(P=_),C&&!f){const T=es(u.left,0),O=es(u.right,0),U=es(u.top,0),j=es(u.bottom,0);m?R=v-2*(T!==0||O!==0?T+O:es(u.left,u.right)):P=y-2*(U!==0||j!==0?U+j:es(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:P});const I=await o.getDimensions(a.floating);return v!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Rx(){return typeof window<"u"}function Df(n){return ZN(n)?(n.nodeName||"").toLowerCase():"#document"}function rs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Bo(n){var e;return(e=(ZN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function ZN(n){return Rx()?n instanceof Node||n instanceof rs(n).Node:!1}function oo(n){return Rx()?n instanceof Element||n instanceof rs(n).Element:!1}function Uo(n){return Rx()?n instanceof HTMLElement||n instanceof rs(n).HTMLElement:!1}function TP(n){return!Rx()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof rs(n).ShadowRoot}function Rm(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=ao(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function wG(n){return["table","td","th"].includes(Df(n))}function Ix(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function VE(n){const e=HE(),t=oo(n)?ao(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function SG(n){let e=Nl(n);for(;Uo(e)&&!hf(e);){if(VE(e))return e;if(Ix(e))return null;e=Nl(e)}return null}function HE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hf(n){return["html","body","#document"].includes(Df(n))}function ao(n){return rs(n).getComputedStyle(n)}function Dx(n){return oo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Nl(n){if(Df(n)==="html")return n;const e=n.assignedSlot||n.parentNode||TP(n)&&n.host||Bo(n);return TP(e)?e.host:e}function QN(n){const e=Nl(n);return hf(e)?n.ownerDocument?n.ownerDocument.body:n.body:Uo(e)&&Rm(e)?e:QN(e)}function Wp(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=QN(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=rs(r);if(s){const a=kb(o);return e.concat(o,o.visualViewport||[],Rm(r)?r:[],a&&t?Wp(a):[])}return e.concat(r,Wp(r,[],t))}function kb(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function JN(n){const e=ao(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Uo(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=s0(t)!==s||s0(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function GE(n){return oo(n)?n:n.contextElement}function Xd(n){const e=GE(n);if(!Uo(e))return Ll(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=JN(e);let o=(s?s0(t.width):t.width)/i,a=(s?s0(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bG=Ll(0);function eO(n){const e=rs(n);return!HE()||!e.visualViewport?bG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MG(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==rs(n)?!1:e}function lu(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=GE(n);let o=Ll(1);e&&(i?oo(i)&&(o=Xd(i)):o=Xd(n));const a=MG(s,t,i)?eO(s):Ll(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const f=rs(s),m=i&&oo(i)?rs(i):i;let v=f,y=kb(v);for(;y&&i&&m!==v;){const x=Xd(y),g=y.getBoundingClientRect(),_=ao(y),S=g.left+(y.clientLeft+parseFloat(_.paddingLeft))*x.x,b=g.top+(y.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=S,c+=b,v=rs(y),y=kb(v)}}return a0({width:u,height:d,x:l,y:c})}function EG(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=Bo(i),a=e?Ix(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Ll(1);const u=Ll(0),d=Uo(i);if((d||!d&&!s)&&((Df(i)!=="body"||Rm(o))&&(l=Dx(i)),Uo(i))){const f=lu(i);c=Xd(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}}function TG(n){return Array.from(n.getClientRects())}function Nb(n,e){const t=Dx(n).scrollLeft;return e?e.left+t:lu(Bo(n)).left+t}function CG(n){const e=Bo(n),t=Dx(n),i=n.ownerDocument.body,r=es(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=es(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+Nb(n);const a=-t.scrollTop;return ao(i).direction==="rtl"&&(o+=es(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function AG(n,e){const t=rs(n),i=Bo(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=HE();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function PG(n,e){const t=lu(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=Uo(n)?Xd(n):Ll(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function CP(n,e,t){let i;if(e==="viewport")i=AG(n,t);else if(e==="document")i=CG(Bo(n));else if(oo(e))i=PG(e,t);else{const r=eO(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return a0(i)}function tO(n,e){const t=Nl(n);return t===e||!oo(t)||hf(t)?!1:ao(t).position==="fixed"||tO(t,e)}function RG(n,e){const t=e.get(n);if(t)return t;let i=Wp(n,[],!1).filter(a=>oo(a)&&Df(a)!=="body"),r=null;const s=ao(n).position==="fixed";let o=s?Nl(n):n;for(;oo(o)&&!hf(o);){const a=ao(o),l=VE(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Rm(o)&&!l&&tO(n,o))?i=i.filter(u=>u!==o):r=a,o=Nl(o)}return e.set(n,i),i}function IG(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?Ix(e)?[]:RG(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,u)=>{const d=CP(e,u,r);return c.top=es(d.top,c.top),c.right=Dl(d.right,c.right),c.bottom=Dl(d.bottom,c.bottom),c.left=es(d.left,c.left),c},CP(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function DG(n){const{width:e,height:t}=JN(n);return{width:e,height:t}}function LG(n,e,t){const i=Uo(e),r=Bo(e),s=t==="fixed",o=lu(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ll(0);if(i||!i&&!s)if((Df(e)!=="body"||Rm(r))&&(a=Dx(e)),i){const m=lu(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&(l.x=Nb(r));let c=0,u=0;if(r&&!i&&!s){const m=r.getBoundingClientRect();u=m.top+a.scrollTop,c=m.left+a.scrollLeft-Nb(r,m)}const d=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-u;return{x:d,y:f,width:o.width,height:o.height}}function $_(n){return ao(n).position==="static"}function AP(n,e){if(!Uo(n)||ao(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Bo(n)===t&&(t=t.ownerDocument.body),t}function nO(n,e){const t=rs(n);if(Ix(n))return t;if(!Uo(n)){let r=Nl(n);for(;r&&!hf(r);){if(oo(r)&&!$_(r))return r;r=Nl(r)}return t}let i=AP(n,e);for(;i&&wG(i)&&$_(i);)i=AP(i,e);return i&&hf(i)&&$_(i)&&!VE(i)?t:i||SG(n)||t}const kG=async function(n){const e=this.getOffsetParent||nO,t=this.getDimensions,i=await t(n.floating);return{reference:LG(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function NG(n){return ao(n).direction==="rtl"}const OG={convertOffsetParentRelativeRectToViewportRelativeRect:EG,getDocumentElement:Bo,getClippingRect:IG,getOffsetParent:nO,getElementRects:kG,getClientRects:TG,getDimensions:DG,getScale:Xd,isElement:oo,isRTL:NG};function UG(n,e){let t=null,i;const r=Bo(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=n.getBoundingClientRect();if(a||e(),!d||!f)return;const m=rv(u),v=rv(r.clientWidth-(c+d)),y=rv(r.clientHeight-(u+f)),x=rv(c),_={rootMargin:-m+"px "+-v+"px "+-y+"px "+-x+"px",threshold:es(0,Dl(1,l))||1};let S=!0;function b(E){const C=E[0].intersectionRatio;if(C!==l){if(!S)return o();C?o(!1,C):i=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{t=new IntersectionObserver(b,{..._,root:r.ownerDocument})}catch{t=new IntersectionObserver(b,_)}t.observe(n)}return o(!0),s}function FG(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=GE(n),u=r||s?[...c?Wp(c):[],...Wp(e)]:[];u.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const d=c&&a?UG(c,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,y=l?lu(n):null;l&&x();function x(){const g=lu(n);y&&(g.x!==y.x||g.y!==y.y||g.width!==y.width||g.height!==y.height)&&t(),y=g,v=requestAnimationFrame(x)}return t(),()=>{var g;u.forEach(_=>{r&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const zG=vG,BG=yG,VG=pG,HG=_G,GG=mG,PP=hG,WG=xG,jG=(n,e,t)=>{const i=new Map,r={platform:OG,...t},s={...r.platform,_c:i};return fG(n,e,{...r,platform:s})};var _y=typeof document<"u"?z.useLayoutEffect:z.useEffect;function l0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!l0(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!l0(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function iO(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function RP(n,e){const t=iO(n);return Math.round(e*t)/t}function Z_(n){const e=z.useRef(n);return _y(()=>{e.current=n}),e}function XG(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=z.useState(i);l0(f,i)||m(i);const[v,y]=z.useState(null),[x,g]=z.useState(null),_=z.useCallback(k=>{k!==C.current&&(C.current=k,y(k))},[]),S=z.useCallback(k=>{k!==P.current&&(P.current=k,g(k))},[]),b=s||v,E=o||x,C=z.useRef(null),P=z.useRef(null),R=z.useRef(u),I=l!=null,T=Z_(l),O=Z_(r),U=Z_(c),j=z.useCallback(()=>{if(!C.current||!P.current)return;const k={placement:e,strategy:t,middleware:f};O.current&&(k.platform=O.current),jG(C.current,P.current,k).then(B=>{const H={...B,isPositioned:U.current!==!1};W.current&&!l0(R.current,H)&&(R.current=H,Pm.flushSync(()=>{d(H)}))})},[f,e,t,O,U]);_y(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[c]);const W=z.useRef(!1);_y(()=>(W.current=!0,()=>{W.current=!1}),[]),_y(()=>{if(b&&(C.current=b),E&&(P.current=E),b&&E){if(T.current)return T.current(b,E,j);j()}},[b,E,j,T,I]);const ee=z.useMemo(()=>({reference:C,floating:P,setReference:_,setFloating:S}),[_,S]),K=z.useMemo(()=>({reference:b,floating:E}),[b,E]),ne=z.useMemo(()=>{const k={position:t,left:0,top:0};if(!K.floating)return k;const B=RP(K.floating,u.x),H=RP(K.floating,u.y);return a?{...k,transform:"translate("+B+"px, "+H+"px)",...iO(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:B,top:H}},[t,a,K.floating,u.x,u.y]);return z.useMemo(()=>({...u,update:j,refs:ee,elements:K,floatingStyles:ne}),[u,j,ee,K,ne])}const YG=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?PP({element:i.current,padding:r}).fn(t):{}:i?PP({element:i,padding:r}).fn(t):{}}}},qG=(n,e)=>({...zG(n),options:[n,e]}),KG=(n,e)=>({...BG(n),options:[n,e]}),$G=(n,e)=>({...WG(n),options:[n,e]}),ZG=(n,e)=>({...VG(n),options:[n,e]}),QG=(n,e)=>({...HG(n),options:[n,e]}),JG=(n,e)=>({...GG(n),options:[n,e]}),eW=(n,e)=>({...YG(n),options:[n,e]});var tW="Arrow",rO=z.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return D.jsx(Or.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:D.jsx("polygon",{points:"0,0 30,0 15,10"})})});rO.displayName=tW;var nW=rO;function iW(n,e=[]){let t=[];function i(s,o){const a=z.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:f,children:m,...v}=d,y=(f==null?void 0:f[n][l])||a,x=z.useMemo(()=>v,Object.values(v));return D.jsx(y.Provider,{value:x,children:m})}function u(d,f){const m=(f==null?void 0:f[n][l])||a,v=z.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const r=()=>{const s=t.map(o=>z.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return z.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,rW(r,...e)]}function rW(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function sW(n){const[e,t]=z.useState(void 0);return au(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var sO="Popper",[oO,aO]=iW(sO),[Rce,lO]=oO(sO),cO="PopperAnchor",uO=z.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=lO(cO,t),o=z.useRef(null),a=so(e,o);return z.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:D.jsx(Or.div,{...r,ref:a})});uO.displayName=cO;var WE="PopperContent",[oW,aW]=oO(WE),dO=z.forwardRef((n,e)=>{var se,ve,Ue,Ne,Oe,Pe;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...y}=n,x=lO(WE,t),[g,_]=z.useState(null),S=so(e,We=>_(We)),[b,E]=z.useState(null),C=sW(b),P=(C==null?void 0:C.width)??0,R=(C==null?void 0:C.height)??0,I=i+(s!=="center"?"-"+s:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],U=O.length>0,j={padding:T,boundary:O.filter(cW),altBoundary:U},{refs:W,floatingStyles:ee,placement:K,isPositioned:ne,middlewareData:k}=XG({strategy:"fixed",placement:I,whileElementsMounted:(...We)=>FG(...We,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[qG({mainAxis:r+R,alignmentAxis:o}),l&&KG({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?$G():void 0,...j}),l&&ZG({...j}),QG({...j,apply:({elements:We,rects:G,availableWidth:Re,availableHeight:we})=>{const{width:De,height:ae}=G.reference,Ae=We.floating.style;Ae.setProperty("--radix-popper-available-width",`${Re}px`),Ae.setProperty("--radix-popper-available-height",`${we}px`),Ae.setProperty("--radix-popper-anchor-width",`${De}px`),Ae.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),b&&eW({element:b,padding:a}),uW({arrowWidth:P,arrowHeight:R}),f&&JG({strategy:"referenceHidden",...j})]}),[B,H]=pO(K),F=Oo(v);au(()=>{ne&&(F==null||F())},[ne,F]);const Y=(se=k.arrow)==null?void 0:se.x,ie=(ve=k.arrow)==null?void 0:ve.y,$=((Ue=k.arrow)==null?void 0:Ue.centerOffset)!==0,[te,oe]=z.useState();return au(()=>{g&&oe(window.getComputedStyle(g).zIndex)},[g]),D.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:ne?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Ne=k.transformOrigin)==null?void 0:Ne.x,(Oe=k.transformOrigin)==null?void 0:Oe.y].join(" "),...((Pe=k.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:D.jsx(oW,{scope:t,placedSide:B,onArrowChange:E,arrowX:Y,arrowY:ie,shouldHideArrow:$,children:D.jsx(Or.div,{"data-side":B,"data-align":H,...y,ref:S,style:{...y.style,animation:ne?void 0:"none"}})})})});dO.displayName=WE;var fO="PopperArrow",lW={top:"bottom",right:"left",bottom:"top",left:"right"},hO=z.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=aW(fO,i),o=lW[s.placedSide];return D.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:D.jsx(nW,{...r,ref:t,style:{...r.style,display:"block"}})})});hO.displayName=fO;function cW(n){return n!==null}var uW=n=>({name:"transformOrigin",options:n,fn(e){var x,g,_;const{placement:t,rects:i,middlewareData:r}=e,o=((x=r.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=pO(t),d={start:"0%",center:"50%",end:"100%"}[u],f=(((g=r.arrow)==null?void 0:g.x)??0)+a/2,m=(((_=r.arrow)==null?void 0:_.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?d:`${f}px`,y=`${-l}px`):c==="top"?(v=o?d:`${f}px`,y=`${i.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?d:`${m}px`):c==="left"&&(v=`${i.floating.width+l}px`,y=o?d:`${m}px`),{data:{x:v,y}}}});function pO(n){const[e,t="center"]=n.split("-");return[e,t]}var dW=uO,fW=dO,hW=hO,[Lx,Ice]=aN("Tooltip",[aO]),jE=aO(),mO="TooltipProvider",pW=700,IP="tooltip.open",[mW,gO]=Lx(mO),vO=n=>{const{__scopeTooltip:e,delayDuration:t=pW,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,[o,a]=z.useState(!0),l=z.useRef(!1),c=z.useRef(0);return z.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),D.jsx(mW,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:z.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:z.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:z.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:s})};vO.displayName=mO;var yO="Tooltip",[Dce,kx]=Lx(yO),Ob="TooltipTrigger",gW=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=kx(Ob,t),s=gO(Ob,t),o=jE(t),a=z.useRef(null),l=so(e,a,r.onTriggerChange),c=z.useRef(!1),u=z.useRef(!1),d=z.useCallback(()=>c.current=!1,[]);return z.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),D.jsx(dW,{asChild:!0,...o,children:D.jsx(Or.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:oi(n.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:oi(n.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:oi(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:oi(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:oi(n.onBlur,r.onClose),onClick:oi(n.onClick,r.onClose)})})});gW.displayName=Ob;var vW="TooltipPortal",[Lce,yW]=Lx(vW,{forceMount:void 0}),pf="TooltipContent",xO=z.forwardRef((n,e)=>{const t=yW(pf,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=kx(pf,n.__scopeTooltip);return D.jsx(IE,{present:i||o.open,children:o.disableHoverableContent?D.jsx(_O,{side:r,...s,ref:e}):D.jsx(xW,{side:r,...s,ref:e})})}),xW=z.forwardRef((n,e)=>{const t=kx(pf,n.__scopeTooltip),i=gO(pf,n.__scopeTooltip),r=z.useRef(null),s=so(e,r),[o,a]=z.useState(null),{trigger:l,onClose:c}=t,u=r.current,{onPointerInTransitChange:d}=i,f=z.useCallback(()=>{a(null),d(!1)},[d]),m=z.useCallback((v,y)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},_=bW(g,x.getBoundingClientRect()),S=MW(g,_),b=EW(y.getBoundingClientRect()),E=CW([...S,...b]);a(E),d(!0)},[d]);return z.useEffect(()=>()=>f(),[f]),z.useEffect(()=>{if(l&&u){const v=x=>m(x,u),y=x=>m(x,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",y)}}},[l,u,m,f]),z.useEffect(()=>{if(o){const v=y=>{const x=y.target,g={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),S=!TW(g,o);_?f():S&&(f(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,f]),D.jsx(_O,{...n,ref:s})}),[_W,wW]=Lx(yO,{isInside:!1}),_O=z.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=kx(pf,t),c=jE(t),{onClose:u}=l;return z.useEffect(()=>(document.addEventListener(IP,u),()=>document.removeEventListener(IP,u)),[u]),z.useEffect(()=>{if(l.trigger){const d=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),D.jsx(RE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:D.jsxs(fW,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[D.jsx(oN,{children:i}),D.jsx(_W,{scope:t,isInside:!0,children:D.jsx(iH,{id:l.contentId,role:"tooltip",children:r||i})})]})})});xO.displayName=pf;var wO="TooltipArrow",SW=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=jE(t);return wW(wO,t).isInside?null:D.jsx(hW,{...r,...i,ref:e})});SW.displayName=wO;function bW(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function MW(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function EW(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function TW(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>i!=u>i&&t<(c-a)*(i-l)/(u-l)+a&&(r=!r)}return r}function CW(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),AW(e)}function AW(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var PW=vO,SO=xO;const RW=PW,IW=z.forwardRef(({className:n,sideOffset:e=4,...t},i)=>D.jsx(SO,{ref:i,sideOffset:e,className:zo("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));IW.displayName=SO.displayName;var Nx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ox=typeof window>"u"||"Deno"in globalThis;function js(){}function DW(n,e){return typeof n=="function"?n(e):n}function LW(n){return typeof n=="number"&&n>=0&&n!==1/0}function kW(n,e){return Math.max(n+(e||0)-Date.now(),0)}function DP(n,e){return typeof n=="function"?n(e):n}function NW(n,e){return typeof n=="function"?n(e):n}function LP(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=n;if(o){if(i){if(e.queryHash!==XE(o,e.options))return!1}else if(!Xp(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function kP(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(jp(e.options.mutationKey)!==jp(s))return!1}else if(!Xp(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function XE(n,e){return((e==null?void 0:e.queryKeyHashFn)||jp)(n)}function jp(n){return JSON.stringify(n,(e,t)=>Ub(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function Xp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Xp(n[t],e[t])):!1}function bO(n,e){if(n===e)return n;const t=NP(n)&&NP(e);if(t||Ub(n)&&Ub(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:s[c];(!t&&i.includes(u)||t)&&n[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=bO(n[u],e[u]),a[u]===n[u]&&n[u]!==void 0&&l++)}return r===o&&l===r?n:a}return e}function NP(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Ub(n){if(!OP(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!OP(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function OP(n){return Object.prototype.toString.call(n)==="[object Object]"}function OW(n){return new Promise(e=>{setTimeout(e,n)})}function UW(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?bO(n,e):e}function FW(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function zW(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var YE=Symbol();function MO(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===YE?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Gc,cl,$d,OD,BW=(OD=class extends Nx{constructor(){super();rn(this,Gc);rn(this,cl);rn(this,$d);Bt(this,$d,e=>{if(!Ox&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Ge(this,cl)||this.setEventListener(Ge(this,$d))}onUnsubscribe(){var e;this.hasListeners()||((e=Ge(this,cl))==null||e.call(this),Bt(this,cl,void 0))}setEventListener(e){var t;Bt(this,$d,e),(t=Ge(this,cl))==null||t.call(this),Bt(this,cl,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){Ge(this,Gc)!==e&&(Bt(this,Gc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Ge(this,Gc)=="boolean"?Ge(this,Gc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gc=new WeakMap,cl=new WeakMap,$d=new WeakMap,OD),EO=new BW,Zd,ul,Qd,UD,VW=(UD=class extends Nx{constructor(){super();rn(this,Zd,!0);rn(this,ul);rn(this,Qd);Bt(this,Qd,e=>{if(!Ox&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){Ge(this,ul)||this.setEventListener(Ge(this,Qd))}onUnsubscribe(){var e;this.hasListeners()||((e=Ge(this,ul))==null||e.call(this),Bt(this,ul,void 0))}setEventListener(e){var t;Bt(this,Qd,e),(t=Ge(this,ul))==null||t.call(this),Bt(this,ul,e(this.setOnline.bind(this)))}setOnline(e){Ge(this,Zd)!==e&&(Bt(this,Zd,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return Ge(this,Zd)}},Zd=new WeakMap,ul=new WeakMap,Qd=new WeakMap,UD),c0=new VW;function HW(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function GW(n){return Math.min(1e3*2**n,3e4)}function TO(n){return(n??"online")==="online"?c0.isOnline():!0}var CO=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Q_(n){return n instanceof CO}function AO(n){let e=!1,t=0,i=!1,r;const s=HW(),o=y=>{var x;i||(f(new CO(y)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>EO.isFocused()&&(n.networkMode==="always"||c0.isOnline())&&n.canRun(),u=()=>TO(n.networkMode)&&n.canRun(),d=y=>{var x;i||(i=!0,(x=n.onSuccess)==null||x.call(n,y),r==null||r(),s.resolve(y))},f=y=>{var x;i||(i=!0,(x=n.onError)==null||x.call(n,y),r==null||r(),s.reject(y))},m=()=>new Promise(y=>{var x;r=g=>{(i||c())&&y(g)},(x=n.onPause)==null||x.call(n)}).then(()=>{var y;r=void 0,i||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(i)return;let y;const x=t===0?n.initialPromise:void 0;try{y=x??n.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(d).catch(g=>{var C;if(i)return;const _=n.retry??(Ox?0:3),S=n.retryDelay??GW,b=typeof S=="function"?S(t,g):S,E=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,g);if(e||!E){f(g);return}t++,(C=n.onFail)==null||C.call(n,t,g),OW(b).then(()=>c()?void 0:m()).then(()=>{e?f(g):v()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),s)}}function WW(){let n=[],e=0,t=a=>{a()},i=a=>{a()},r=a=>setTimeout(a,0);const s=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var ur=WW(),Wc,FD,PO=(FD=class{constructor(){rn(this,Wc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LW(this.gcTime)&&Bt(this,Wc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ox?1/0:5*60*1e3))}clearGcTimeout(){Ge(this,Wc)&&(clearTimeout(Ge(this,Wc)),Bt(this,Wc,void 0))}},Wc=new WeakMap,FD),Jd,ef,Ms,Wi,Sm,jc,Ys,sa,zD,jW=(zD=class extends PO{constructor(e){super();rn(this,Ys);rn(this,Jd);rn(this,ef);rn(this,Ms);rn(this,Wi);rn(this,Sm);rn(this,jc);Bt(this,jc,!1),Bt(this,Sm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Bt(this,Ms,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Bt(this,Jd,YW(this.options)),this.state=e.state??Ge(this,Jd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ge(this,Wi))==null?void 0:e.promise}setOptions(e){this.options={...Ge(this,Sm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ge(this,Ms).remove(this)}setData(e,t){const i=UW(this.state.data,e,this.options);return Fi(this,Ys,sa).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){Fi(this,Ys,sa).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=Ge(this,Wi))==null?void 0:i.promise;return(r=Ge(this,Wi))==null||r.cancel(e),t?t.then(js).catch(js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ge(this,Jd))}isActive(){return this.observers.some(e=>NW(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===YE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!kW(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Ge(this,Wi))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Ge(this,Wi))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ge(this,Ms).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Ge(this,Wi)&&(Ge(this,jc)?Ge(this,Wi).cancel({revert:!0}):Ge(this,Wi).cancelRetry()),this.scheduleGc()),Ge(this,Ms).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fi(this,Ys,sa).call(this,{type:"invalidate"})}fetch(e,t){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Ge(this,Wi))return Ge(this,Wi).continueRetry(),Ge(this,Wi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Bt(this,jc,!0),i.signal)})},s=()=>{const d=MO(this.options,t),f={queryKey:this.queryKey,meta:this.meta};return r(f),Bt(this,jc,!1),this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(o),(l=this.options.behavior)==null||l.onFetch(o,this),Bt(this,ef,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Fi(this,Ys,sa).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,m,v,y;Q_(d)&&d.silent||Fi(this,Ys,sa).call(this,{type:"error",error:d}),Q_(d)||((m=(f=Ge(this,Ms).config).onError)==null||m.call(f,d,this),(y=(v=Ge(this,Ms).config).onSettled)==null||y.call(v,this.state.data,d,this)),this.scheduleGc()};return Bt(this,Wi,AO({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var f,m,v,y;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(x){a(x);return}(m=(f=Ge(this,Ms).config).onSuccess)==null||m.call(f,d,this),(y=(v=Ge(this,Ms).config).onSettled)==null||y.call(v,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{Fi(this,Ys,sa).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Fi(this,Ys,sa).call(this,{type:"pause"})},onContinue:()=>{Fi(this,Ys,sa).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ge(this,Wi).start()}},Jd=new WeakMap,ef=new WeakMap,Ms=new WeakMap,Wi=new WeakMap,Sm=new WeakMap,jc=new WeakMap,Ys=new WeakSet,sa=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...XW(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Q_(r)&&r.revert&&Ge(this,ef)?{...Ge(this,ef),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),ur.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Ge(this,Ms).notify({query:this,type:"updated",action:e})})},zD);function XW(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TO(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function YW(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var bo,BD,qW=(BD=class extends Nx{constructor(e={}){super();rn(this,bo);this.config=e,Bt(this,bo,new Map)}build(e,t,i){const r=t.queryKey,s=t.queryHash??XE(r,t);let o=this.get(s);return o||(o=new jW({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){Ge(this,bo).has(e.queryHash)||(Ge(this,bo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Ge(this,bo).get(e.queryHash);t&&(e.destroy(),t===e&&Ge(this,bo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ge(this,bo).get(e)}getAll(){return[...Ge(this,bo).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>LP(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>LP(e,i)):t}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bo=new WeakMap,BD),Mo,lr,Xc,Eo,nl,VD,KW=(VD=class extends PO{constructor(e){super();rn(this,Eo);rn(this,Mo);rn(this,lr);rn(this,Xc);this.mutationId=e.mutationId,Bt(this,lr,e.mutationCache),Bt(this,Mo,[]),this.state=e.state||$W(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ge(this,Mo).includes(e)||(Ge(this,Mo).push(e),this.clearGcTimeout(),Ge(this,lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Bt(this,Mo,Ge(this,Mo).filter(t=>t!==e)),this.scheduleGc(),Ge(this,lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ge(this,Mo).length||(this.state.status==="pending"?this.scheduleGc():Ge(this,lr).remove(this))}continue(){var e;return((e=Ge(this,Xc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,s,o,a,l,c,u,d,f,m,v,y,x,g,_,S,b,E,C,P;Bt(this,Xc,AO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{Fi(this,Eo,nl).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{Fi(this,Eo,nl).call(this,{type:"pause"})},onContinue:()=>{Fi(this,Eo,nl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ge(this,lr).canRun(this)}));const t=this.state.status==="pending",i=!Ge(this,Xc).canStart();try{if(!t){Fi(this,Eo,nl).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(r=Ge(this,lr).config).onMutate)==null?void 0:s.call(r,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Fi(this,Eo,nl).call(this,{type:"pending",context:I,variables:e,isPaused:i})}const R=await Ge(this,Xc).start();return await((c=(l=Ge(this,lr).config).onSuccess)==null?void 0:c.call(l,R,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,R,e,this.state.context)),await((m=(f=Ge(this,lr).config).onSettled)==null?void 0:m.call(f,R,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,R,null,e,this.state.context)),Fi(this,Eo,nl).call(this,{type:"success",data:R}),R}catch(R){try{throw await((g=(x=Ge(this,lr).config).onError)==null?void 0:g.call(x,R,e,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,R,e,this.state.context)),await((E=(b=Ge(this,lr).config).onSettled)==null?void 0:E.call(b,void 0,R,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,R,e,this.state.context)),R}finally{Fi(this,Eo,nl).call(this,{type:"error",error:R})}}finally{Ge(this,lr).runNext(this)}}},Mo=new WeakMap,lr=new WeakMap,Xc=new WeakMap,Eo=new WeakSet,nl=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ur.batch(()=>{Ge(this,Mo).forEach(i=>{i.onMutationUpdate(e)}),Ge(this,lr).notify({mutation:this,type:"updated",action:e})})},VD);function $W(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $r,bm,HD,ZW=(HD=class extends Nx{constructor(e={}){super();rn(this,$r);rn(this,bm);this.config=e,Bt(this,$r,new Map),Bt(this,bm,Date.now())}build(e,t,i){const r=new KW({mutationCache:this,mutationId:++Ug(this,bm)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){const t=sv(e),i=Ge(this,$r).get(t)??[];i.push(e),Ge(this,$r).set(t,i),this.notify({type:"added",mutation:e})}remove(e){var i;const t=sv(e);if(Ge(this,$r).has(t)){const r=(i=Ge(this,$r).get(t))==null?void 0:i.filter(s=>s!==e);r&&(r.length===0?Ge(this,$r).delete(t):Ge(this,$r).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const t=(i=Ge(this,$r).get(sv(e)))==null?void 0:i.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var i;const t=(i=Ge(this,$r).get(sv(e)))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ge(this,$r).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(i=>kP(t,i))}findAll(e={}){return this.getAll().filter(t=>kP(e,t))}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ur.batch(()=>Promise.all(e.map(t=>t.continue().catch(js))))}},$r=new WeakMap,bm=new WeakMap,HD);function sv(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function UP(n){return{onFetch:(e,t)=>{var u,d,f,m,v;const i=e.options,r=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},g=MO(e.options,e.fetchOptions),_=async(S,b,E)=>{if(y)return Promise.reject();if(b==null&&S.pages.length)return Promise.resolve(S);const C={queryKey:e.queryKey,pageParam:b,direction:E?"backward":"forward",meta:e.options.meta};x(C);const P=await g(C),{maxPages:R}=e.options,I=E?zW:FW;return{pages:I(S.pages,P,R),pageParams:I(S.pageParams,b,R)}};if(r&&s.length){const S=r==="backward",b=S?QW:FP,E={pages:s,pageParams:o},C=b(i,E);a=await _(E,C,S)}else{const S=n??s.length;do{const b=l===0?o[0]??i.initialPageParam:FP(i,a);if(l>0&&b==null)break;a=await _(a,b),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function FP(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function QW(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var Ln,dl,fl,tf,nf,hl,rf,sf,GD,JW=(GD=class{constructor(n={}){rn(this,Ln);rn(this,dl);rn(this,fl);rn(this,tf);rn(this,nf);rn(this,hl);rn(this,rf);rn(this,sf);Bt(this,Ln,n.queryCache||new qW),Bt(this,dl,n.mutationCache||new ZW),Bt(this,fl,n.defaultOptions||{}),Bt(this,tf,new Map),Bt(this,nf,new Map),Bt(this,hl,0)}mount(){Ug(this,hl)._++,Ge(this,hl)===1&&(Bt(this,rf,EO.subscribe(async n=>{n&&(await this.resumePausedMutations(),Ge(this,Ln).onFocus())})),Bt(this,sf,c0.subscribe(async n=>{n&&(await this.resumePausedMutations(),Ge(this,Ln).onOnline())})))}unmount(){var n,e;Ug(this,hl)._--,Ge(this,hl)===0&&((n=Ge(this,rf))==null||n.call(this),Bt(this,rf,void 0),(e=Ge(this,sf))==null||e.call(this),Bt(this,sf,void 0))}isFetching(n){return Ge(this,Ln).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Ge(this,dl).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Ge(this,Ln).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),i=Ge(this,Ln).build(this,t);return n.revalidateIfStale&&i.isStaleByTime(DP(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return Ge(this,Ln).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=Ge(this,Ln).get(i.queryHash),s=r==null?void 0:r.state.data,o=DW(e,s);if(o!==void 0)return Ge(this,Ln).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return ur.batch(()=>Ge(this,Ln).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Ge(this,Ln).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Ge(this,Ln);ur.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Ge(this,Ln),i={type:"active",...n};return ur.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},i=ur.batch(()=>Ge(this,Ln).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(js).catch(js)}invalidateQueries(n={},e={}){return ur.batch(()=>{if(Ge(this,Ln).findAll(n).forEach(i=>{i.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=ur.batch(()=>Ge(this,Ln).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(js)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(js)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Ge(this,Ln).build(this,e);return t.isStaleByTime(DP(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(js).catch(js)}fetchInfiniteQuery(n){return n.behavior=UP(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(js).catch(js)}ensureInfiniteQueryData(n){return n.behavior=UP(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return c0.isOnline()?Ge(this,dl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ge(this,Ln)}getMutationCache(){return Ge(this,dl)}getDefaultOptions(){return Ge(this,fl)}setDefaultOptions(n){Bt(this,fl,n)}setQueryDefaults(n,e){Ge(this,tf).set(jp(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Ge(this,tf).values()];let t={};return e.forEach(i=>{Xp(n,i.queryKey)&&(t={...t,...i.defaultOptions})}),t}setMutationDefaults(n,e){Ge(this,nf).set(jp(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Ge(this,nf).values()];let t={};return e.forEach(i=>{Xp(n,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Ge(this,fl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=XE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===YE&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Ge(this,fl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Ge(this,Ln).clear(),Ge(this,dl).clear()}},Ln=new WeakMap,dl=new WeakMap,fl=new WeakMap,tf=new WeakMap,nf=new WeakMap,hl=new WeakMap,rf=new WeakMap,sf=new WeakMap,GD),ej=z.createContext(void 0),tj=({client:n,children:e})=>(z.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),D.jsx(ej.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yp.apply(this,arguments)}var gl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gl||(gl={}));const zP="popstate";function nj(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Fb("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:u0(r)}return rj(e,t,null,n)}function ei(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RO(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ij(){return Math.random().toString(36).substr(2,8)}function BP(n,e){return{usr:n.state,key:n.key,idx:e}}function Fb(n,e,t,i){return t===void 0&&(t=null),Yp({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Lf(e):e,{state:t,key:e&&e.key||i||ij()})}function u0(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Lf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function rj(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=gl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Yp({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=gl.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:g})}function f(x,g){a=gl.Push;let _=Fb(y.location,x,g);c=u()+1;let S=BP(_,c),b=y.createHref(_);try{o.pushState(S,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(b)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,g){a=gl.Replace;let _=Fb(y.location,x,g);c=u();let S=BP(_,c),b=y.createHref(_);o.replaceState(S,"",b),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:u0(x);return _=_.replace(/ $/,"%20"),ei(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let y={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(zP,d),l=x,()=>{r.removeEventListener(zP,d),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(x){return o.go(x)}};return y}var VP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(VP||(VP={}));function sj(n,e,t){return t===void 0&&(t="/"),oj(n,e,t,!1)}function oj(n,e,t,i){let r=typeof e=="string"?Lf(e):e,s=qE(r.pathname||"/",t);if(s==null)return null;let o=IO(n);aj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=yj(s);a=gj(o[l],c,i)}return a}function IO(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ei(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Cl([i,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ei(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IO(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:pj(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of DO(s.path))r(s,o,l)}),e}function DO(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=DO(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function aj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mj(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const lj=/^:[\w-]+$/,cj=3,uj=2,dj=1,fj=10,hj=-2,HP=n=>n==="*";function pj(n,e){let t=n.split("/"),i=t.length;return t.some(HP)&&(i+=hj),e&&(i+=uj),t.filter(r=>!HP(r)).reduce((r,s)=>r+(lj.test(s)?cj:s===""?dj:fj),i)}function mj(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function gj(n,e,t){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=GP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&t&&!i[i.length-1].route.index&&(d=GP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Cl([s,d.pathname]),pathnameBase:Sj(Cl([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Cl([s,d.pathnameBase]))}return o}function GP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=vj(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function vj(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),RO(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function yj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RO(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function qE(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xj(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Lf(n):n;return{pathname:t?t.startsWith("/")?t:_j(t,e):e,search:bj(i),hash:Mj(r)}}function _j(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function J_(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function LO(n,e){let t=wj(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function kO(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Lf(n):(r=Yp({},n),ei(!r.pathname||!r.pathname.includes("?"),J_("?","pathname","search",r)),ei(!r.pathname||!r.pathname.includes("#"),J_("#","pathname","hash",r)),ei(!r.search||!r.search.includes("#"),J_("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=xj(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Cl=n=>n.join("/").replace(/\/\/+/g,"/"),Sj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Mj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ej(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const NO=["post","put","patch","delete"];new Set(NO);const Tj=["get",...NO];new Set(Tj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qp.apply(this,arguments)}const KE=z.createContext(null),Cj=z.createContext(null),xu=z.createContext(null),Ux=z.createContext(null),_u=z.createContext({outlet:null,matches:[],isDataRoute:!1}),OO=z.createContext(null);function Aj(n,e){let{relative:t}=e===void 0?{}:e;Im()||ei(!1);let{basename:i,navigator:r}=z.useContext(xu),{hash:s,pathname:o,search:a}=FO(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Cl([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Im(){return z.useContext(Ux)!=null}function kf(){return Im()||ei(!1),z.useContext(Ux).location}function UO(n){z.useContext(xu).static||z.useLayoutEffect(n)}function Pj(){let{isDataRoute:n}=z.useContext(_u);return n?Hj():Rj()}function Rj(){Im()||ei(!1);let n=z.useContext(KE),{basename:e,future:t,navigator:i}=z.useContext(xu),{matches:r}=z.useContext(_u),{pathname:s}=kf(),o=JSON.stringify(LO(r,t.v7_relativeSplatPath)),a=z.useRef(!1);return UO(()=>{a.current=!0}),z.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=kO(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Cl([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,s,n])}function FO(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=z.useContext(xu),{matches:r}=z.useContext(_u),{pathname:s}=kf(),o=JSON.stringify(LO(r,i.v7_relativeSplatPath));return z.useMemo(()=>kO(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function Ij(n,e){return Dj(n,e)}function Dj(n,e,t,i){Im()||ei(!1);let{navigator:r}=z.useContext(xu),{matches:s}=z.useContext(_u),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kf(),u;if(e){var d;let x=typeof e=="string"?Lf(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||ei(!1),u=x}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=sj(n,{pathname:m}),y=Uj(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Cl([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Cl([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,i);return e&&y?z.createElement(Ux.Provider,{value:{location:qp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:gl.Pop}},y):y}function Lj(){let n=Vj(),e=Ej(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:r},t):null,null)}const kj=z.createElement(Lj,null);class Nj extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?z.createElement(_u.Provider,{value:this.props.routeContext},z.createElement(OO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Oj(n){let{routeContext:e,match:t,children:i}=n,r=z.useContext(KE);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(_u.Provider,{value:e},i)}function Uj(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ei(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=t,v=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let m,v=!1,y=null,x=null;t&&(m=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||kj,l&&(c<0&&f===0?(v=!0,x=null):c===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),_=()=>{let S;return m?S=y:v?S=x:d.route.Component?S=z.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,z.createElement(Oj,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:t!=null},children:S})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?z.createElement(Nj,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):_()},null)}var zO=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(zO||{}),d0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(d0||{});function Fj(n){let e=z.useContext(KE);return e||ei(!1),e}function zj(n){let e=z.useContext(Cj);return e||ei(!1),e}function Bj(n){let e=z.useContext(_u);return e||ei(!1),e}function BO(n){let e=Bj(),t=e.matches[e.matches.length-1];return t.route.id||ei(!1),t.route.id}function Vj(){var n;let e=z.useContext(OO),t=zj(d0.UseRouteError),i=BO(d0.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function Hj(){let{router:n}=Fj(zO.UseNavigateStable),e=BO(d0.UseNavigateStable),t=z.useRef(!1);return UO(()=>{t.current=!0}),z.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,qp({fromRouteId:e},s)))},[n,e])}function or(n){ei(!1)}function Gj(n){let{basename:e="/",children:t=null,location:i,navigationType:r=gl.Pop,navigator:s,static:o=!1,future:a}=n;Im()&&ei(!1);let l=e.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:o,future:qp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Lf(i));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:v="default"}=i,y=z.useMemo(()=>{let x=qE(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:v},navigationType:r}},[l,u,d,f,m,v,r]);return y==null?null:z.createElement(xu.Provider,{value:c},z.createElement(Ux.Provider,{children:t,value:y}))}function Wj(n){let{children:e,location:t}=n;return Ij(zb(e),t)}new Promise(()=>{});function zb(n,e){e===void 0&&(e=[]);let t=[];return z.Children.forEach(n,(i,r)=>{if(!z.isValidElement(i))return;let s=[...e,r];if(i.type===z.Fragment){t.push.apply(t,zb(i.props.children,s));return}i.type!==or&&ei(!1),!i.props.index||!i.props.children||ei(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=zb(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bb(){return Bb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bb.apply(this,arguments)}function jj(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Xj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Yj(n,e){return n.button===0&&(!e||e==="_self")&&!Xj(n)}const qj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kj="6";try{window.__reactRouterVersion=Kj}catch{}const $j="startTransition",WP=g5[$j];function Zj(n){let{basename:e,children:t,future:i,window:r}=n,s=z.useRef();s.current==null&&(s.current=nj({window:r,v5Compat:!0}));let o=s.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=z.useCallback(d=>{c&&WP?WP(()=>l(d)):l(d)},[l,c]);return z.useLayoutEffect(()=>o.listen(u),[o,u]),z.createElement(Gj,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const Qj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yd=z.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=jj(e,qj),{basename:m}=z.useContext(xu),v,y=!1;if(typeof c=="string"&&Jj.test(c)&&(v=c,Qj))try{let S=new URL(window.location.href),b=c.startsWith("//")?new URL(S.protocol+c):new URL(c),E=qE(b.pathname,m);b.origin===S.origin&&E!=null?c=E+b.search+b.hash:y=!0}catch{}let x=Aj(c,{relative:r}),g=e9(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function _(S){i&&i(S),S.defaultPrevented||g(S)}return z.createElement("a",Bb({},f,{href:v||x,onClick:y||s?i:_,ref:t,target:l}))});var jP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(jP||(jP={}));var XP;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(XP||(XP={}));function e9(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Pj(),c=kf(),u=FO(n,{relative:o});return z.useCallback(d=>{if(Yj(d,t)){d.preventDefault();let f=i!==void 0?i:u0(c)===u0(u);l(n,{replace:f,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,i,r,t,n,s,o,a])}const VO=z.createContext({});function t9(n){const e=z.useRef(null);return e.current===null&&(e.current=n()),e.current}const $E=typeof window<"u",n9=$E?z.useLayoutEffect:z.useEffect,ZE=z.createContext(null);function QE(n,e){n.indexOf(e)===-1&&n.push(e)}function JE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ea=(n,e,t)=>t>e?e:t<n?n:t;let f0=()=>{};const Ta={},HO=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function GO(n){return typeof n=="object"&&n!==null}const WO=n=>/^0[^.\s]+$/u.test(n);function eT(n){let e;return()=>(e===void 0&&(e=n()),e)}const Is=n=>n,i9=(n,e)=>t=>e(n(t)),Dm=(...n)=>n.reduce(i9),Kp=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class tT{constructor(){this.subscriptions=[]}add(e){return QE(this.subscriptions,e),()=>JE(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Io=n=>n*1e3,Do=n=>n/1e3;function jO(n,e){return e?n*(1e3/e):0}const XO=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,r9=1e-7,s9=12;function o9(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=XO(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>r9&&++a<s9);return o}function Lm(n,e,t,i){if(n===e&&t===i)return Is;const r=s=>o9(s,0,1,n,t);return s=>s===0||s===1?s:XO(r(s),e,i)}const YO=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,qO=n=>e=>1-n(1-e),KO=Lm(.33,1.53,.69,.99),nT=qO(KO),$O=YO(nT),ZO=n=>(n*=2)<1?.5*nT(n):.5*(2-Math.pow(2,-10*(n-1))),iT=n=>1-Math.sin(Math.acos(n)),QO=qO(iT),JO=YO(iT),a9=Lm(.42,0,1,1),l9=Lm(0,0,.58,1),eU=Lm(.42,0,.58,1),c9=n=>Array.isArray(n)&&typeof n[0]!="number",tU=n=>Array.isArray(n)&&typeof n[0]=="number",YP={linear:Is,easeIn:a9,easeInOut:eU,easeOut:l9,circIn:iT,circInOut:JO,circOut:QO,backIn:nT,backInOut:$O,backOut:KO,anticipate:ZO},u9=n=>typeof n=="string",qP=n=>{if(tU(n)){f0(n.length===4);const[e,t,i,r]=n;return Lm(e,t,i,r)}else if(u9(n))return f0(YP[n]!==void 0),YP[n];return n},ov=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],KP={value:null,addProjectionMetrics:null};function d9(n,e){let t=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),n()),l++,d(a)}const u={schedule:(d,f=!1,m=!1)=>{const y=m&&r?t:i;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{i.delete(d),o.delete(d)},process:d=>{if(a=d,r){s=!0;return}r=!0,[t,i]=[i,t],t.forEach(c),e&&KP.value&&KP.value.frameloop[e].push(l),l=0,t.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const f9=40;function nU(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=ov.reduce((S,b)=>(S[b]=d9(s,e?b:void 0),S),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:m,postRender:v}=o,y=()=>{const S=Ta.useManualTiming?r.timestamp:performance.now();t=!1,Ta.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(S-r.timestamp,f9),1)),r.timestamp=S,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),d.process(r),f.process(r),m.process(r),v.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(y))},x=()=>{t=!0,i=!0,r.isProcessing||n(y)};return{schedule:ov.reduce((S,b)=>{const E=o[b];return S[b]=(C,P=!1,R=!1)=>(t||x(),E.schedule(C,P,R)),S},{}),cancel:S=>{for(let b=0;b<ov.length;b++)o[ov[b]].cancel(S)},state:r,steps:o}}const{schedule:xn,cancel:Ol,state:Ti,steps:ew}=nU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Is,!0);let wy;function h9(){wy=void 0}const Rr={now:()=>(wy===void 0&&Rr.set(Ti.isProcessing||Ta.useManualTiming?Ti.timestamp:performance.now()),wy),set:n=>{wy=n,queueMicrotask(h9)}},iU=n=>e=>typeof e=="string"&&e.startsWith(n),rT=iU("--"),p9=iU("var(--"),sT=n=>p9(n)?m9.test(n.split("/*")[0].trim()):!1,m9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},$p={...Nf,transform:n=>Ea(0,1,n)},av={...Nf,default:1},op=n=>Math.round(n*1e5)/1e5,oT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g9(n){return n==null}const v9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aT=(n,e)=>t=>!!(typeof t=="string"&&v9.test(t)&&t.startsWith(n)||e&&!g9(t)&&Object.prototype.hasOwnProperty.call(t,e)),rU=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(oT);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},y9=n=>Ea(0,255,n),tw={...Nf,transform:n=>Math.round(y9(n))},Fc={test:aT("rgb","red"),parse:rU("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+tw.transform(n)+", "+tw.transform(e)+", "+tw.transform(t)+", "+op($p.transform(i))+")"};function x9(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Vb={test:aT("#"),parse:x9,transform:Fc.transform},km=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),il=km("deg"),Lo=km("%"),Et=km("px"),_9=km("vh"),w9=km("vw"),$P={...Lo,parse:n=>Lo.parse(n)/100,transform:n=>Lo.transform(n*100)},Cd={test:aT("hsl","hue"),parse:rU("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Lo.transform(op(e))+", "+Lo.transform(op(t))+", "+op($p.transform(i))+")"},Qn={test:n=>Fc.test(n)||Vb.test(n)||Cd.test(n),parse:n=>Fc.test(n)?Fc.parse(n):Cd.test(n)?Cd.parse(n):Vb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fc.transform(n):Cd.transform(n),getAnimatableNone:n=>{const e=Qn.parse(n);return e.alpha=0,Qn.transform(e)}},S9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function b9(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(oT))==null?void 0:e.length)||0)+(((t=n.match(S9))==null?void 0:t.length)||0)>0}const sU="number",oU="color",M9="var",E9="var(",ZP="${}",T9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zp(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(T9,l=>(Qn.test(l)?(i.color.push(s),r.push(oU),t.push(Qn.parse(l))):l.startsWith(E9)?(i.var.push(s),r.push(M9),t.push(l)):(i.number.push(s),r.push(sU),t.push(parseFloat(l))),++s,ZP)).split(ZP);return{values:t,split:a,indexes:i,types:r}}function aU(n){return Zp(n).values}function lU(n){const{split:e,types:t}=Zp(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===sU?s+=op(r[o]):a===oU?s+=Qn.transform(r[o]):s+=r[o]}return s}}const C9=n=>typeof n=="number"?0:Qn.test(n)?Qn.getAnimatableNone(n):n;function A9(n){const e=aU(n);return lU(n)(e.map(C9))}const Ul={test:b9,parse:aU,createTransformer:lU,getAnimatableNone:A9};function nw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function P9({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=nw(l,a,n+1/3),s=nw(l,a,n),o=nw(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function h0(n,e){return t=>t>0?e:n}const Mn=(n,e,t)=>n+(e-n)*t,iw=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},R9=[Vb,Fc,Cd],I9=n=>R9.find(e=>e.test(n));function QP(n){const e=I9(n);if(!e)return!1;let t=e.parse(n);return e===Cd&&(t=P9(t)),t}const JP=(n,e)=>{const t=QP(n),i=QP(e);if(!t||!i)return h0(n,e);const r={...t};return s=>(r.red=iw(t.red,i.red,s),r.green=iw(t.green,i.green,s),r.blue=iw(t.blue,i.blue,s),r.alpha=Mn(t.alpha,i.alpha,s),Fc.transform(r))},Hb=new Set(["none","hidden"]);function D9(n,e){return Hb.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function L9(n,e){return t=>Mn(n,e,t)}function lT(n){return typeof n=="number"?L9:typeof n=="string"?sT(n)?h0:Qn.test(n)?JP:O9:Array.isArray(n)?cU:typeof n=="object"?Qn.test(n)?JP:k9:h0}function cU(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>lT(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function k9(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=lT(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function N9(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=n.indexes[s][i[s]],a=n.values[o]??0;t[r]=a,i[s]++}return t}const O9=(n,e)=>{const t=Ul.createTransformer(e),i=Zp(n),r=Zp(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Hb.has(n)&&!r.values.length||Hb.has(e)&&!i.values.length?D9(n,e):Dm(cU(N9(i,r),r.values),t):h0(n,e)};function uU(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Mn(n,e,t):lT(n)(n,e)}const U9=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>xn.update(e,t),stop:()=>Ol(e),now:()=>Ti.isProcessing?Ti.timestamp:Rr.now()}},dU=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=Math.round(n(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},p0=2e4;function cT(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<p0;)e+=t,i=n.next(e);return e>=p0?1/0:e}function F9(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(cT(i),p0);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:Do(r)}}const z9=5;function fU(n,e,t){const i=Math.max(e-z9,0);return jO(t-n(i),e-i)}const kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rw=.001;function B9({duration:n=kn.duration,bounce:e=kn.bounce,velocity:t=kn.velocity,mass:i=kn.mass}){let r,s,o=1-e;o=Ea(kn.minDamping,kn.maxDamping,o),n=Ea(kn.minDuration,kn.maxDuration,Do(n)),o<1?(r=c=>{const u=c*o,d=u*n,f=u-t,m=Gb(c,o),v=Math.exp(-d);return rw-f/m*v},s=c=>{const d=c*o*n,f=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-d),y=Gb(Math.pow(c,2),o);return(-r(c)+rw>0?-1:1)*((f-m)*v)/y}):(r=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-rw+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=H9(r,s,a);if(n=Io(n),isNaN(l))return{stiffness:kn.stiffness,damping:kn.damping,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const V9=12;function H9(n,e,t){let i=t;for(let r=1;r<V9;r++)i=i-n(i)/e(i);return i}function Gb(n,e){return n*Math.sqrt(1-e*e)}const G9=["duration","bounce"],W9=["stiffness","damping","mass"];function eR(n,e){return e.some(t=>n[t]!==void 0)}function j9(n){let e={velocity:kn.velocity,stiffness:kn.stiffness,damping:kn.damping,mass:kn.mass,isResolvedFromDuration:!1,...n};if(!eR(n,W9)&&eR(n,G9))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*Ea(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:kn.mass,stiffness:r,damping:s}}else{const t=B9(n);e={...e,...t,mass:kn.mass},e.isResolvedFromDuration=!0}return e}function m0(n=kn.visualDuration,e=kn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=j9({...t,velocity:-Do(t.velocity||0)}),v=f||0,y=c/(2*Math.sqrt(l*u)),x=o-s,g=Do(Math.sqrt(l/u)),_=Math.abs(x)<5;i||(i=_?kn.restSpeed.granular:kn.restSpeed.default),r||(r=_?kn.restDelta.granular:kn.restDelta.default);let S;if(y<1){const E=Gb(g,y);S=C=>{const P=Math.exp(-y*g*C);return o-P*((v+y*g*x)/E*Math.sin(E*C)+x*Math.cos(E*C))}}else if(y===1)S=E=>o-Math.exp(-g*E)*(x+(v+g*x)*E);else{const E=g*Math.sqrt(y*y-1);S=C=>{const P=Math.exp(-y*g*C),R=Math.min(E*C,300);return o-P*((v+y*g*x)*Math.sinh(R)+E*x*Math.cosh(R))/E}}const b={calculatedDuration:m&&d||null,next:E=>{const C=S(E);if(m)a.done=E>=d;else{let P=E===0?v:0;y<1&&(P=E===0?Io(v):fU(S,E,C));const R=Math.abs(P)<=i,I=Math.abs(o-C)<=r;a.done=R&&I}return a.value=a.done?o:C,a},toString:()=>{const E=Math.min(cT(b),p0),C=dU(P=>b.next(E*P).value,E,30);return E+"ms "+C},toTransition:()=>{}};return b}m0.applyToOptions=n=>{const e=F9(n,100,m0);return n.ease=e.ease,n.duration=Io(e.duration),n.type="keyframes",n};function Wb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=n[0],f={done:!1,value:d},m=R=>a!==void 0&&R<a||l!==void 0&&R>l,v=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let y=t*e;const x=d+y,g=o===void 0?x:o(x);g!==x&&(y=g-d);const _=R=>-y*Math.exp(-R/i),S=R=>g+_(R),b=R=>{const I=_(R),T=S(R);f.done=Math.abs(I)<=c,f.value=f.done?g:T};let E,C;const P=R=>{m(f.value)&&(E=R,C=m0({keyframes:[f.value,v(f.value)],velocity:fU(S,R,f.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:R=>{let I=!1;return!C&&E===void 0&&(I=!0,b(R),P(R)),E!==void 0&&R>=E?C.next(R-E):(!I&&b(R),f)}}}function X9(n,e,t){const i=[],r=t||Ta.mix||uU,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Is:e;a=Dm(l,a)}i.push(a)}return i}function Y9(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(f0(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=X9(e,i,r),l=a.length,c=u=>{if(o&&u<n[0])return e[0];let d=0;if(l>1)for(;d<n.length-2&&!(u<n[d+1]);d++);const f=Kp(n[d],n[d+1],u);return a[d](f)};return t?u=>c(Ea(n[0],n[s-1],u)):c}function q9(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Kp(0,e,i);n.push(Mn(t,1,r))}}function K9(n){const e=[0];return q9(e,n.length-1),e}function $9(n,e){return n.map(t=>t*e)}function Z9(n,e){return n.map(()=>e||eU).splice(0,n.length-1)}function ap({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=c9(i)?i.map(qP):qP(i),s={done:!1,value:e[0]},o=$9(t&&t.length===e.length?t:K9(e),n),a=Y9(o,e,{ease:Array.isArray(r)?r:Z9(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const Q9=n=>n!==null;function uT(n,{repeat:e,repeatType:t="loop"},i,r=1){const s=n.filter(Q9),a=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const J9={decay:Wb,inertia:Wb,tween:ap,keyframes:ap,spring:m0};function hU(n){typeof n.type=="string"&&(n.type=J9[n.type])}class dT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const e7=n=>n/100;class fT extends dT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:t}=this.options;t&&t.updatedAt!==Rr.now()&&this.tick(Rr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;hU(e);const{type:t=ap,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=t||ap;l!==ap&&typeof a[0]!="number"&&(this.mixKeyframes=Dm(e7,uU(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=cT(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:m,type:v,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let S=this.currentTime,b=i;if(d){const R=Math.min(this.currentTime,r)/a;let I=Math.floor(R),T=R%1;!T&&R>=1&&(T=1),T===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(f==="reverse"?(T=1-T,m&&(T-=m/a)):f==="mirror"&&(b=o)),S=Ea(0,1,T)*a}const E=_?{done:!1,value:u[0]}:b.next(S);s&&(E.value=s(E.value));let{done:C}=E;!_&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&v!==Wb&&(E.value=uT(u,this.options,x,this.speed)),y&&y(E.value),P&&this.finish(),E}then(e,t){return this.finished.then(e,t)}get duration(){return Do(this.calculatedDuration)}get time(){return Do(this.currentTime)}set time(e){var t;e=Io(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Do(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=U9,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function t7(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const zc=n=>n*180/Math.PI,jb=n=>{const e=zc(Math.atan2(n[1],n[0]));return Xb(e)},n7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:jb,rotateZ:jb,skewX:n=>zc(Math.atan(n[1])),skewY:n=>zc(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Xb=n=>(n=n%360,n<0&&(n+=360),n),tR=jb,nR=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iR=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),i7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nR,scaleY:iR,scale:n=>(nR(n)+iR(n))/2,rotateX:n=>Xb(zc(Math.atan2(n[6],n[5]))),rotateY:n=>Xb(zc(Math.atan2(-n[2],n[0]))),rotateZ:tR,rotate:tR,skewX:n=>zc(Math.atan(n[4])),skewY:n=>zc(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Yb(n){return n.includes("scale")?1:0}function qb(n,e){if(!n||n==="none")return Yb(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=i7,r=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=n7,r=a}if(!r)return Yb(e);const s=i[e],o=r[1].split(",").map(s7);return typeof s=="function"?s(o):o[s]}const r7=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return qb(t,e)};function s7(n){return parseFloat(n.trim())}const Of=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uf=new Set(Of),rR=n=>n===Nf||n===Et,o7=new Set(["x","y","z"]),a7=Of.filter(n=>!o7.has(n));function l7(n){const e=[];return a7.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Kc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>qb(e,"x"),y:(n,{transform:e})=>qb(e,"y")};Kc.translateX=Kc.x;Kc.translateY=Kc.y;const $c=new Set;let Kb=!1,$b=!1,Zb=!1;function pU(){if($b){const n=Array.from($c).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=l7(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}$b=!1,Kb=!1,$c.forEach(n=>n.complete(Zb)),$c.clear()}function mU(){$c.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&($b=!0)})}function c7(){Zb=!0,mU(),pU(),Zb=!1}class hT{constructor(e,t,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($c.add(this),Kb||(Kb=!0,xn.read(mU),xn.resolveKeyframes(pU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&t){const a=i.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}t7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$c.delete(this)}cancel(){this.state==="scheduled"&&($c.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const u7=n=>n.startsWith("--");function d7(n,e,t){u7(e)?n.style.setProperty(e,t):n.style[e]=t}const f7=eT(()=>window.ScrollTimeline!==void 0),h7={};function p7(n,e){const t=eT(n);return()=>h7[e]??t()}const gU=p7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jh=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,sR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jh([0,.65,.55,1]),circOut:jh([.55,0,1,.45]),backIn:jh([.31,.01,.66,-.59]),backOut:jh([.33,1.53,.69,.99])};function vU(n,e){if(n)return typeof n=="function"?gU()?dU(n,e):"ease-out":tU(n)?jh(n):Array.isArray(n)?n.map(t=>vU(t,e)||sR.easeOut):sR[n]}function m7(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:t};l&&(u.offset=l);const d=vU(a,r);Array.isArray(d)&&(u.easing=d);const f={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),n.animate(u,f)}function yU(n){return typeof n=="function"&&"applyToOptions"in n}function g7({type:n,...e}){return yU(n)&&gU()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class v7 extends dT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,f0(typeof e.type!="string");const c=g7(e);this.animation=m7(t,i,r,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=uT(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):d7(t,i,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Do(Number(e))}get time(){return Do(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Io(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&f7()?(this.animation.timeline=e,Is):t(this)}}const xU={anticipate:ZO,backInOut:$O,circInOut:JO};function y7(n){return n in xU}function x7(n){typeof n.ease=="string"&&y7(n.ease)&&(n.ease=xU[n.ease])}const oR=10;class _7 extends v7{constructor(e){x7(e),hU(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new fT({...o,autoplay:!1}),l=Io(this.finishedTime??this.time);t.setWithVelocity(a.sample(l-oR).value,a.sample(l).value,oR),a.stop()}}const aR=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ul.test(n)||n==="0")&&!n.startsWith("url("));function w7(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function S7(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=aR(r,e),a=aR(s,e);return!o||!a?!1:w7(n)||(t==="spring"||yU(t))&&i}function Qb(n){n.duration=0,n.type}const b7=new Set(["opacity","clipPath","filter","transform"]),M7=eT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function E7(n){var u;const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:s,type:o}=n;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return M7()&&t&&b7.has(t)&&(t!=="transform"||!c)&&!l&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const T7=40;class C7 extends dT{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var v;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Rr.now();const f={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||hT;this.keyframeResolver=new m(a,(y,x,g)=>this.onKeyframesResolved(y,x,f,!g),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=i;this.resolvedAt=Rr.now(),S7(e,s,o,a)||((Ta.instantAnimations||!l)&&(u==null||u(uT(e,i,t))),e[0]=e[e.length-1],Qb(i),i.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>T7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},m=!c&&E7(f)?new _7({...f,element:f.motionValue.owner.current}):new fT(f);m.finished.then(()=>this.notifyFinished()).catch(Is),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),c7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const A7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P7(n){const e=A7.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function _U(n,e,t=1){const[i,r]=P7(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return HO(o)?parseFloat(o):o}return sT(r)?_U(r,e,t+1):r}function pT(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const wU=new Set(["width","height","top","left","right","bottom",...Of]),R7={test:n=>n==="auto",parse:n=>n},SU=n=>e=>e.test(n),bU=[Nf,Et,Lo,il,w9,_9,R7],lR=n=>bU.find(SU(n));function I7(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||WO(n):!0}const D7=new Set(["brightness","contrast","saturate","opacity"]);function L7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(oT)||[];if(!i)return n;const r=t.replace(i,"");let s=D7.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const k7=/\b([a-z-]*)\(.*?\)/gu,Jb={...Ul,getAnimatableNone:n=>{const e=n.match(k7);return e?e.map(L7).join(" "):n}},cR={...Nf,transform:Math.round},N7={rotate:il,rotateX:il,rotateY:il,rotateZ:il,scale:av,scaleX:av,scaleY:av,scaleZ:av,skew:il,skewX:il,skewY:il,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:$p,originX:$P,originY:$P,originZ:Et},mT={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...N7,zIndex:cR,fillOpacity:$p,strokeOpacity:$p,numOctaves:cR},O7={...mT,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:Jb,WebkitFilter:Jb},MU=n=>O7[n];function EU(n,e){let t=MU(n);return t!==Jb&&(t=Ul),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const U7=new Set(["auto","none","0"]);function F7(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!U7.has(s)&&Zp(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=EU(t,r)}class z7 extends hT{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),sT(c))){const u=_U(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!wU.has(i)||e.length!==2)return;const[r,s]=e,o=lR(r),a=lR(s);if(o!==a)if(rR(o)&&rR(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Kc[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||I7(e[r]))&&i.push(r);i.length&&F7(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kc[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Kc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function B7(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const r=document.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const TU=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function V7(n){return GO(n)&&"offsetHeight"in n}const uR=30,H7=n=>!isNaN(parseFloat(n));class G7{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const r=Rr.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=H7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tT);const i=this.events[e].add(t);return e==="change"?()=>{i(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uR)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,uR);return jO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mf(n,e){return new G7(n,e)}const{schedule:gT,cancel:kce}=nU(queueMicrotask,!1),Gs={x:!1,y:!1};function CU(){return Gs.x||Gs.y}function W7(n){return n==="x"||n==="y"?Gs[n]?null:(Gs[n]=!0,()=>{Gs[n]=!1}):Gs.x||Gs.y?null:(Gs.x=Gs.y=!0,()=>{Gs.x=Gs.y=!1})}function AU(n,e){const t=B7(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function dR(n){return!(n.pointerType==="touch"||CU())}function j7(n,e,t={}){const[i,r,s]=AU(n,t),o=a=>{if(!dR(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{dR(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const PU=(n,e)=>e?n===e?!0:PU(n,e.parentElement):!1,vT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,X7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Y7(n){return X7.has(n.tagName)||n.tabIndex!==-1}const Sy=new WeakSet;function fR(n){return e=>{e.key==="Enter"&&n(e)}}function sw(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const q7=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=fR(()=>{if(Sy.has(t))return;sw(t,"down");const r=fR(()=>{sw(t,"up")}),s=()=>sw(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function hR(n){return vT(n)&&!CU()}function K7(n,e,t={}){const[i,r,s]=AU(n,t),o=a=>{const l=a.currentTarget;if(!hR(a))return;Sy.add(l);const c=e(l,a),u=(m,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Sy.has(l)&&Sy.delete(l),hR(m)&&typeof c=="function"&&c(m,{success:v})},d=m=>{u(m,l===window||l===document||t.useGlobalTarget||PU(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",f,r)};return i.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),V7(a)&&(a.addEventListener("focus",c=>q7(c,r)),!Y7(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function RU(n){return GO(n)&&"ownerSVGElement"in n}function $7(n){return RU(n)&&n.tagName==="svg"}const Xi=n=>!!(n&&n.getVelocity),Z7=[...bU,Qn,Ul],Q7=n=>Z7.find(SU(n)),IU=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function J7(n=!0){const e=z.useContext(ZE);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=z.useId();z.useEffect(()=>{if(n)return r(s)},[n]);const o=z.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,o]:[!0]}const DU=z.createContext({strict:!1}),pR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gf={};for(const n in pR)gf[n]={isEnabled:e=>pR[n].some(t=>!!e[t])};function eX(n){for(const e in n)gf[e]={...gf[e],...n[e]}}const tX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function g0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||tX.has(n)}let LU=n=>!g0(n);function nX(n){typeof n=="function"&&(LU=e=>e.startsWith("on")?!g0(e):n(e))}try{nX(require("@emotion/is-prop-valid").default)}catch{}function iX(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(LU(r)||t===!0&&g0(r)||!e&&!g0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const Fx=z.createContext({});function zx(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Qp(n){return typeof n=="string"||Array.isArray(n)}const yT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xT=["initial",...yT];function Bx(n){return zx(n.animate)||xT.some(e=>Qp(n[e]))}function kU(n){return!!(Bx(n)||n.variants)}function rX(n,e){if(Bx(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Qp(t)?t:void 0,animate:Qp(i)?i:void 0}}return n.inherit!==!1?e:{}}function sX(n){const{initial:e,animate:t}=rX(n,z.useContext(Fx));return z.useMemo(()=>({initial:e,animate:t}),[mR(e),mR(t)])}function mR(n){return Array.isArray(n)?n.join(" "):n}const Jp={};function oX(n){for(const e in n)Jp[e]=n[e],rT(e)&&(Jp[e].isCSSVariable=!0)}function NU(n,{layout:e,layoutId:t}){return Uf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Jp[n]||n==="opacity")}const aX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lX=Of.length;function cX(n,e,t){let i="",r=!0;for(let s=0;s<lX;s++){const o=Of[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const c=TU(a,mT[o]);if(!l){r=!1;const u=aX[o]||o;i+=`${u}(${c}) `}t&&(e[o]=c)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function _T(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const c=e[l];if(Uf.has(l)){o=!0;continue}else if(rT(l)){r[l]=c;continue}else{const u=TU(c,mT[l]);l.startsWith("origin")?(a=!0,s[l]=u):i[l]=u}}if(e.transform||(o||t?i.transform=cX(e,n.transform,t):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;i.transformOrigin=`${l} ${c} ${u}`}}const wT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OU(n,e,t){for(const i in e)!Xi(e[i])&&!NU(i,t)&&(n[i]=e[i])}function uX({transformTemplate:n},e){return z.useMemo(()=>{const t=wT();return _T(t,e,n),Object.assign({},t.vars,t.style)},[e])}function dX(n,e){const t=n.style||{},i={};return OU(i,t,n),Object.assign(i,uX(n,e)),i}function fX(n,e){const t={},i=dX(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const hX={offset:"stroke-dashoffset",array:"stroke-dasharray"},pX={offset:"strokeDashoffset",array:"strokeDasharray"};function mX(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?hX:pX;n[s.offset]=Et.transform(-i);const o=Et.transform(e),a=Et.transform(t);n[s.array]=`${o} ${a}`}function UU(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(_T(n,a,c),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:f}=n;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),i!==void 0&&(d.scale=i),r!==void 0&&mX(d,r,s,o,!1)}const FU=()=>({...wT(),attrs:{}}),zU=n=>typeof n=="string"&&n.toLowerCase()==="svg";function gX(n,e,t,i){const r=z.useMemo(()=>{const s=FU();return UU(s,e,zU(i),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};OU(s,n.style,n),r.style={...s,...r.style}}return r}const vX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ST(n){return typeof n!="string"||n.includes("-")?!1:!!(vX.indexOf(n)>-1||/[A-Z]/u.test(n))}function yX(n,e,t,{latestValues:i},r,s=!1){const a=(ST(n)?gX:fX)(e,i,r,n),l=iX(e,typeof n=="string",s),c=n!==z.Fragment?{...l,...a,ref:t}:{},{children:u}=e,d=z.useMemo(()=>Xi(u)?u.get():u,[u]);return z.createElement(n,{...c,children:d})}function gR(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function bT(n,e,t,i){if(typeof e=="function"){const[r,s]=gR(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=gR(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function by(n){return Xi(n)?n.get():n}function xX({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:_X(t,i,r,n),renderState:e()}}function _X(n,e,t,i){const r={},s=i(n,{});for(const f in s)r[f]=by(s[f]);let{initial:o,animate:a}=n;const l=Bx(n),c=kU(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!zx(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const v=bT(n,f[m]);if(v){const{transitionEnd:y,transition:x,...g}=v;for(const _ in g){let S=g[_];if(Array.isArray(S)){const b=u?S.length-1:0;S=S[b]}S!==null&&(r[_]=S)}for(const _ in y)r[_]=y[_]}}}return r}const BU=n=>(e,t)=>{const i=z.useContext(Fx),r=z.useContext(ZE),s=()=>xX(n,e,i,r);return t?s():t9(s)};function MT(n,e,t){var s;const{style:i}=n,r={};for(const o in i)(Xi(i[o])||e.style&&Xi(e.style[o])||NU(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const wX=BU({scrapeMotionValuesFromProps:MT,createRenderState:wT});function VU(n,e,t){const i=MT(n,e,t);for(const r in n)if(Xi(n[r])||Xi(e[r])){const s=Of.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}const SX=BU({scrapeMotionValuesFromProps:VU,createRenderState:FU}),bX=Symbol.for("motionComponentSymbol");function Ad(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function MX(n,e,t){return z.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Ad(t)&&(t.current=i))},[e])}const ET=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EX="framerAppearId",HU="data-"+ET(EX),GU=z.createContext({});function TX(n,e,t,i,r){var y,x;const{visualElement:s}=z.useContext(Fx),o=z.useContext(DU),a=z.useContext(ZE),l=z.useContext(IU).reducedMotion,c=z.useRef(null);i=i||o.renderer,!c.current&&i&&(c.current=i(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=z.useContext(GU);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&CX(c.current,t,r,d);const f=z.useRef(!1);z.useInsertionEffect(()=>{u&&f.current&&u.update(t,a)});const m=t[HU],v=z.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return n9(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),z.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),v.current=!1))}),u}function CX(n,e,t,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:WU(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Ad(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}function WU(n){if(n)return n.options.allowProjection!==!1?n.projection:WU(n.parent)}function ow(n,{forwardMotionProps:e=!1}={},t,i){t&&eX(t);const r=ST(n)?SX:wX;function s(a,l){let c;const u={...z.useContext(IU),...a,layoutId:AX(a)},{isStatic:d}=u,f=sX(a),m=r(a,d);if(!d&&$E){PX();const v=RX(u);c=v.MeasureLayout,f.visualElement=TX(n,m,u,i,v.ProjectionNode)}return D.jsxs(Fx.Provider,{value:f,children:[c&&f.visualElement?D.jsx(c,{visualElement:f.visualElement,...u}):null,yX(n,a,MX(m,f.visualElement,l),m,d,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=z.forwardRef(s);return o[bX]=n,o}function AX({layoutId:n}){const e=z.useContext(VO).id;return e&&n!==void 0?e+"-"+n:n}function PX(n,e){z.useContext(DU).strict}function RX(n){const{drag:e,layout:t}=gf;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function IX(n,e){if(typeof Proxy>"u")return ow;const t=new Map,i=(s,o)=>ow(s,o,n,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(t.has(o)||t.set(o,ow(o,void 0,n,e)),t.get(o))})}function jU({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function DX({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function LX(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function aw(n){return n===void 0||n===1}function eM({scale:n,scaleX:e,scaleY:t}){return!aw(n)||!aw(e)||!aw(t)}function Pc(n){return eM(n)||XU(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function XU(n){return vR(n.x)||vR(n.y)}function vR(n){return n&&n!=="0%"}function v0(n,e,t){const i=n-t,r=e*i;return t+r}function yR(n,e,t,i,r){return r!==void 0&&(n=v0(n,r,i)),v0(n,t,i)+e}function tM(n,e=0,t=1,i,r){n.min=yR(n.min,e,t,i,r),n.max=yR(n.max,e,t,i,r)}function YU(n,{x:e,y:t}){tM(n.x,e.translate,e.scale,e.originPoint),tM(n.y,t.translate,t.scale,t.originPoint)}const xR=.999999999999,_R=1.0000000000001;function kX(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rd(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,YU(n,o)),i&&Pc(s.latestValues)&&Rd(n,s.latestValues))}e.x<_R&&e.x>xR&&(e.x=1),e.y<_R&&e.y>xR&&(e.y=1)}function Pd(n,e){n.min=n.min+e,n.max=n.max+e}function wR(n,e,t,i,r=.5){const s=Mn(n.min,n.max,r);tM(n,e,t,s,i)}function Rd(n,e){wR(n.x,e.x,e.scaleX,e.scale,e.originX),wR(n.y,e.y,e.scaleY,e.scale,e.originY)}function qU(n,e){return jU(LX(n.getBoundingClientRect(),e))}function NX(n,e,t){const i=qU(n,t),{scroll:r}=e;return r&&(Pd(i.x,r.offset.x),Pd(i.y,r.offset.y)),i}const SR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Id=()=>({x:SR(),y:SR()}),bR=()=>({min:0,max:0}),Bn=()=>({x:bR(),y:bR()}),nM={current:null},KU={current:!1};function OX(){if(KU.current=!0,!!$E)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>nM.current=n.matches;n.addEventListener("change",e),e()}else nM.current=!1}const UX=new WeakMap;function FX(n,e,t){for(const i in e){const r=e[i],s=t[i];if(Xi(r))n.addValue(i,r);else if(Xi(s))n.addValue(i,mf(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,mf(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const MR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zX{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Rr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,xn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Bx(t),this.isVariantNode=kU(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Xi(m)&&m.set(l[f])}}mount(e){this.current=e,UX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),KU.current||OX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ol(this.notifyUpdate),Ol(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Uf.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gf){const t=gf[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<MR.length;i++){const r=MR[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=FX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=mf(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(HO(i)||WO(i))?i=parseFloat(i):!Q7(i)&&Ul.test(t)&&(i=EU(e,t)),this.setBaseTarget(e,Xi(i)?i.get():i)),Xi(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=bT(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Xi(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new tT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){gT.render(this.render)}}class $U extends zX{constructor(){super(...arguments),this.KeyframeResolver=z7}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function ZU(n,{style:e,vars:t},i,r){const s=n.style;let o;for(o in e)s[o]=e[o];r==null||r.applyProjectionStyles(s,i);for(o in t)s.setProperty(o,t[o])}function BX(n){return window.getComputedStyle(n)}class VX extends $U{constructor(){super(...arguments),this.type="html",this.renderInstance=ZU}readValueFromInstance(e,t){var i;if(Uf.has(t))return(i=this.projection)!=null&&i.isProjecting?Yb(t):r7(e,t);{const r=BX(e),s=(rT(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qU(e,t)}build(e,t,i){_T(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return MT(e,t,i)}}const QU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HX(n,e,t,i){ZU(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(QU.has(r)?r:ET(r),e.attrs[r])}class GX extends $U{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Uf.has(t)){const i=MU(t);return i&&i.default||0}return t=QU.has(t)?t:ET(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return VU(e,t,i)}build(e,t,i){UU(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){HX(e,t,i,r)}mount(e){this.isSVGTag=zU(e.tagName),super.mount(e)}}const WX=(n,e)=>ST(n)?new GX(e):new VX(e,{allowProjection:n!==z.Fragment});function em(n,e,t){const i=n.getProps();return bT(i,e,t!==void 0?t:i.custom,n)}const iM=n=>Array.isArray(n);function jX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,mf(t))}function XX(n){return iM(n)?n[n.length-1]||0:n}function YX(n,e){const t=em(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=XX(s[o]);jX(n,o,a)}}function qX(n){return!!(Xi(n)&&n.add)}function rM(n,e){const t=n.getValue("willChange");if(qX(t))return t.add(e);if(!t&&Ta.WillChange){const i=new Ta.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function JU(n){return n.props[HU]}const KX=n=>n!==null;function $X(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(KX),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const ZX={type:"spring",stiffness:500,damping:25,restSpeed:10},QX=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),JX={type:"keyframes",duration:.8},eY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tY=(n,{keyframes:e})=>e.length>2?JX:Uf.has(n)?n.startsWith("scale")?QX(e[1]):ZX:eY;function nY({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const TT=(n,e,t,i={},r,s)=>o=>{const a=pT(i,n)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Io(l);const u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};nY(a)||Object.assign(u,tY(n,u)),u.duration&&(u.duration=Io(u.duration)),u.repeatDelay&&(u.repeatDelay=Io(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Qb(u),u.delay===0&&(d=!0)),(Ta.instantAnimations||Ta.skipAnimations)&&(d=!0,Qb(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=$X(u.keyframes,a);if(f!==void 0){xn.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new fT(u):new C7(u)};function iY({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function eF(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const l=[],c=r&&n.animationState&&n.animationState.getState()[r];for(const u in a){const d=n.getValue(u,n.latestValues[u]??null),f=a[u];if(f===void 0||c&&iY(c,u))continue;const m={delay:t,...pT(s||{},u)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=JU(n);if(g){const _=window.MotionHandoffAnimation(g,u,xn);_!==null&&(m.startTime=_,y=!0)}}rM(n,u),d.start(TT(u,d,f,n.shouldReduceMotion&&wU.has(u)?{type:!1}:m,n,y));const x=d.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{xn.update(()=>{o&&YX(n,o)})}),l}function sM(n,e,t={}){var l;const i=em(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(eF(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=r;return rY(n,e,c,u,d,f,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function rY(n,e,t=0,i=0,r=0,s=1,o){const a=[],l=n.variantChildren.size,c=(l-1)*r,u=typeof i=="function",d=u?f=>i(f,l):s===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(n.variantChildren).sort(sY).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(sM(f,e,{...o,delay:t+(u?0:i)+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function sY(n,e){return n.sortNodePosition(e)}function oY(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>sM(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=sM(n,e,t);else{const r=typeof e=="function"?em(n,e,t.custom):e;i=Promise.all(eF(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function tF(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const aY=xT.length;function nF(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?nF(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<aY;t++){const i=xT[t],r=n.props[i];(Qp(r)||r===!1)&&(e[i]=r)}return e}const lY=[...yT].reverse(),cY=yT.length;function uY(n){return e=>Promise.all(e.map(({animation:t,options:i})=>oY(n,t,i)))}function dY(n){let e=uY(n),t=ER(),i=!0;const r=l=>(c,u)=>{var f;const d=em(n,u,l==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:v,...y}=d;c={...c,...y,...v}}return c};function s(l){e=l(n)}function o(l){const{props:c}=n,u=nF(n.parent)||{},d=[],f=new Set;let m={},v=1/0;for(let x=0;x<cY;x++){const g=lY[x],_=t[g],S=c[g]!==void 0?c[g]:u[g],b=Qp(S),E=g===l?_.isActive:null;E===!1&&(v=x);let C=S===u[g]&&S!==c[g]&&b;if(C&&i&&n.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...m},!_.isActive&&E===null||!S&&!_.prevProp||zx(S)||typeof S=="boolean")continue;const P=fY(_.prevProp,S);let R=P||g===l&&_.isActive&&!C&&b||x>v&&b,I=!1;const T=Array.isArray(S)?S:[S];let O=T.reduce(r(g),{});E===!1&&(O={});const{prevResolvedValues:U={}}=_,j={...U,...O},W=ne=>{R=!0,f.has(ne)&&(I=!0,f.delete(ne)),_.needsAnimating[ne]=!0;const k=n.getValue(ne);k&&(k.liveStyle=!1)};for(const ne in j){const k=O[ne],B=U[ne];if(m.hasOwnProperty(ne))continue;let H=!1;iM(k)&&iM(B)?H=!tF(k,B):H=k!==B,H?k!=null?W(ne):f.add(ne):k!==void 0&&f.has(ne)?W(ne):_.protectedKeys[ne]=!0}_.prevProp=S,_.prevResolvedValues=O,_.isActive&&(m={...m,...O}),i&&n.blockInitialAnimation&&(R=!1),R&&(!(C&&P)||I)&&d.push(...T.map(ne=>({animation:ne,options:{type:g}})))}if(f.size){const x={};if(typeof c.initial!="boolean"){const g=em(n,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(x.transition=g.transition)}f.forEach(g=>{const _=n.getBaseTarget(g),S=n.getValue(g);S&&(S.liveStyle=!0),x[g]=_??null}),d.push({animation:x})}let y=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(y=!1),i=!1,y?e(d):Promise.resolve()}function a(l,c){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),t[l].isActive=c;const u=o(l);for(const f in t)t[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=ER(),i=!0}}}function fY(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!tF(e,n):!1}function dc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ER(){return{animate:dc(!0),whileInView:dc(),whileHover:dc(),whileTap:dc(),whileDrag:dc(),whileFocus:dc(),exit:dc()}}class Gl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hY extends Gl{constructor(e){super(e),e.animationState||(e.animationState=dY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pY=0;class mY extends Gl{constructor(){super(...arguments),this.id=pY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gY={animation:{Feature:hY},exit:{Feature:mY}};function tm(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Nm(n){return{point:{x:n.pageX,y:n.pageY}}}const vY=n=>e=>vT(e)&&n(e,Nm(e));function lp(n,e,t,i){return tm(n,e,vY(t),i)}const iF=1e-4,yY=1-iF,xY=1+iF,rF=.01,_Y=0-rF,wY=0+rF;function fr(n){return n.max-n.min}function SY(n,e,t){return Math.abs(n-e)<=t}function TR(n,e,t,i=.5){n.origin=i,n.originPoint=Mn(e.min,e.max,n.origin),n.scale=fr(t)/fr(e),n.translate=Mn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=yY&&n.scale<=xY||isNaN(n.scale))&&(n.scale=1),(n.translate>=_Y&&n.translate<=wY||isNaN(n.translate))&&(n.translate=0)}function cp(n,e,t,i){TR(n.x,e.x,t.x,i?i.originX:void 0),TR(n.y,e.y,t.y,i?i.originY:void 0)}function CR(n,e,t){n.min=t.min+e.min,n.max=n.min+fr(e)}function bY(n,e,t){CR(n.x,e.x,t.x),CR(n.y,e.y,t.y)}function AR(n,e,t){n.min=e.min-t.min,n.max=n.min+fr(e)}function up(n,e,t){AR(n.x,e.x,t.x),AR(n.y,e.y,t.y)}function bs(n){return[n("x"),n("y")]}const sF=({current:n})=>n?n.ownerDocument.defaultView:null,PR=(n,e)=>Math.abs(n-e);function MY(n,e){const t=PR(n.x,e.x),i=PR(n.y,e.y);return Math.sqrt(t**2+i**2)}class oF{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cw(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=MY(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:y}=f,{timestamp:x}=Ti;this.history.push({...y,timestamp:x});const{onStart:g,onMove:_}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lw(m,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=cw(f.type==="pointercancel"?this.lastMoveEventInfo:lw(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,g),y&&y(f,g)},!vT(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=Nm(e),l=lw(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ti;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,cw(l,this.history)),this.removeListeners=Dm(lp(this.contextWindow,"pointermove",this.handlePointerMove),lp(this.contextWindow,"pointerup",this.handlePointerUp),lp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ol(this.updatePoint)}}function lw(n,e){return e?{point:e(n.point)}:n}function RR(n,e){return{x:n.x-e.x,y:n.y-e.y}}function cw({point:n},e){return{point:n,delta:RR(n,aF(e)),offset:RR(n,EY(e)),velocity:TY(e,.1)}}function EY(n){return n[0]}function aF(n){return n[n.length-1]}function TY(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=aF(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Io(e)));)t--;if(!i)return{x:0,y:0};const s=Do(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function CY(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Mn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Mn(t,n,i.max):Math.min(n,t)),n}function IR(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function AY(n,{top:e,left:t,bottom:i,right:r}){return{x:IR(n.x,t,r),y:IR(n.y,e,i)}}function DR(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function PY(n,e){return{x:DR(n.x,e.x),y:DR(n.y,e.y)}}function RY(n,e){let t=.5;const i=fr(n),r=fr(e);return r>i?t=Kp(e.min,e.max-i,n.min):i>r&&(t=Kp(n.min,n.max-r,e.min)),Ea(0,1,t)}function IY(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const oM=.35;function DY(n=oM){return n===!1?n=0:n===!0&&(n=oM),{x:LR(n,"left","right"),y:LR(n,"top","bottom")}}function LR(n,e,t){return{min:kR(n,e),max:kR(n,t)}}function kR(n,e){return typeof n=="number"?n:n[e]||0}const LY=new WeakMap;class kY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Nm(d).point)},o=(d,f)=>{const{drag:m,dragPropagation:v,onDragStart:y}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W7(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bs(g=>{let _=this.getAxisMotionValue(g).get()||0;if(Lo.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const b=S.layout.layoutBox[g];b&&(_=fr(b)*(parseFloat(_)/100))}}this.originPoint[g]=_}),y&&xn.postRender(()=>y(d,f)),rM(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:y,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(v&&this.currentDirection===null){this.currentDirection=NY(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>bs(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new oF(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:sF(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&xn.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!lv(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=CY(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&Ad(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=AY(i.layoutBox,e):this.constraints=!1,this.elastic=DY(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IY(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ad(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=NX(i,r.root,this.visualElement.getTransformPagePoint());let o=PY(r.layout.layoutBox,s);if(t){const a=t(DX(o));this.hasMutatedConstraints=!!a,a&&(o=jU(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=bs(u=>{if(!lv(u,t,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return rM(this.visualElement,e),i.start(TT(e,i,0,t,this.visualElement,!1))}stopAnimation(){bs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){bs(t=>{const{drag:i}=this.getProps();if(!lv(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-Mn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Ad(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};bs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=RY({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),bs(o=>{if(!lv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Mn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;LY.set(this.visualElement,this);const e=this.visualElement.current,t=lp(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Ad(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),xn.read(i);const o=tm(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bs(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=oM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function lv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function NY(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class OY extends Gl{constructor(e){super(e),this.removeGroupControls=Is,this.removeListeners=Is,this.controls=new kY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Is}unmount(){this.removeGroupControls(),this.removeListeners()}}const NR=n=>(e,t)=>{n&&xn.postRender(()=>n(e,t))};class UY extends Gl{constructor(){super(...arguments),this.removePointerDownListener=Is}onPointerDown(e){this.session=new oF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:NR(e),onStart:NR(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&xn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=lp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const My={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OR(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Eh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Et.test(n))n=parseFloat(n);else return n;const t=OR(n,e.target.x),i=OR(n,e.target.y);return`${t}% ${i}%`}},FY={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Ul.parse(n);if(r.length>5)return i;const s=Ul.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Mn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};let UR=!1;class zY extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;oX(BY),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),UR&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),My.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,UR=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lF(n){const[e,t]=J7(),i=z.useContext(VO);return D.jsx(zY,{...n,layoutGroup:i,switchLayoutGroup:z.useContext(GU),isPresent:e,safeToRemove:t})}const BY={borderRadius:{...Eh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Eh,borderTopRightRadius:Eh,borderBottomLeftRadius:Eh,borderBottomRightRadius:Eh,boxShadow:FY};function VY(n,e,t){const i=Xi(n)?n:mf(n);return i.start(TT("",i,e,t)),i.animation}const HY=(n,e)=>n.depth-e.depth;class GY{constructor(){this.children=[],this.isDirty=!1}add(e){QE(this.children,e),this.isDirty=!0}remove(e){JE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HY),this.isDirty=!1,this.children.forEach(e)}}function WY(n,e){const t=Rr.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Ol(i),n(s-e))};return xn.setup(i,!0),()=>Ol(i)}const cF=["TopLeft","TopRight","BottomLeft","BottomRight"],jY=cF.length,FR=n=>typeof n=="string"?parseFloat(n):n,zR=n=>typeof n=="number"||Et.test(n);function XY(n,e,t,i,r,s){r?(n.opacity=Mn(0,t.opacity??1,YY(i)),n.opacityExit=Mn(e.opacity??1,0,qY(i))):s&&(n.opacity=Mn(e.opacity??1,t.opacity??1,i));for(let o=0;o<jY;o++){const a=`border${cF[o]}Radius`;let l=BR(e,a),c=BR(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||zR(l)===zR(c)?(n[a]=Math.max(Mn(FR(l),FR(c),i),0),(Lo.test(c)||Lo.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Mn(e.rotate||0,t.rotate||0,i))}function BR(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const YY=uF(0,.5,QO),qY=uF(.5,.95,Is);function uF(n,e,t){return i=>i<n?0:i>e?1:t(Kp(n,e,i))}function VR(n,e){n.min=e.min,n.max=e.max}function _s(n,e){VR(n.x,e.x),VR(n.y,e.y)}function HR(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function GR(n,e,t,i,r){return n-=e,n=v0(n,1/t,i),r!==void 0&&(n=v0(n,1/r,i)),n}function KY(n,e=0,t=1,i=.5,r,s=n,o=n){if(Lo.test(e)&&(e=parseFloat(e),e=Mn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Mn(s.min,s.max,i);n===s&&(a-=e),n.min=GR(n.min,e,t,a,r),n.max=GR(n.max,e,t,a,r)}function WR(n,e,[t,i,r],s,o){KY(n,e[t],e[i],e[r],e.scale,s,o)}const $Y=["x","scaleX","originX"],ZY=["y","scaleY","originY"];function jR(n,e,t,i){WR(n.x,e,$Y,t?t.x:void 0,i?i.x:void 0),WR(n.y,e,ZY,t?t.y:void 0,i?i.y:void 0)}function XR(n){return n.translate===0&&n.scale===1}function dF(n){return XR(n.x)&&XR(n.y)}function YR(n,e){return n.min===e.min&&n.max===e.max}function QY(n,e){return YR(n.x,e.x)&&YR(n.y,e.y)}function qR(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function fF(n,e){return qR(n.x,e.x)&&qR(n.y,e.y)}function KR(n){return fr(n.x)/fr(n.y)}function $R(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class JY{constructor(){this.members=[]}add(e){QE(this.members,e),e.scheduleRender()}remove(e){if(JE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eq(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:m,skewY:v}=t;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const uw=["","X","Y","Z"],tq=1e3;let nq=0;function dw(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function hF(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=JU(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",xn,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&hF(i)}function pF({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=nq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sq),this.nodes.forEach(cq),this.nodes.forEach(uq),this.nodes.forEach(oq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new GY)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=RU(o)&&!$7(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),n){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;xn.read(()=>{d=window.innerWidth}),n(o,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,u&&u(),u=WY(f,250),My.hasAnimatedSinceResize&&(My.hasAnimatedSinceResize=!1,this.nodes.forEach(JR)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||mq,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!fF(this.targetLayout,m),_=!d&&f;if(this.options.layoutRoot||this.resumeFrom||_||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...pT(v,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,_)}else d||JR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lq),this.nodes.forEach(iq),this.nodes.forEach(rq)):this.nodes.forEach(QR),this.clearAllSnapshots();const a=Rr.now();Ti.delta=Ea(0,1e3/60,a-Ti.timestamp),Ti.timestamp=a,Ti.isProcessing=!0,ew.update.process(Ti),ew.preRender.process(Ti),ew.render.process(Ti),Ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aq),this.sharedNodes.forEach(fq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fr(this.snapshot.measuredBox.x)&&!fr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Pc(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),gq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Bn();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(vq))){const{scroll:u}=this.root;u&&(Pd(a.x,u.offset.x),Pd(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Bn();if(_s(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&_s(a,o),Pd(a.x,d.offset.x),Pd(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Bn();_s(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Rd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Pc(u.latestValues)&&Rd(l,u.latestValues)}return Pc(this.latestValues)&&Rd(l,this.latestValues),l}removeTransform(o){const a=Bn();_s(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Pc(c.latestValues))continue;eM(c.latestValues)&&c.updateSnapshot();const u=Bn(),d=c.measurePageBox();_s(u,d),jR(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Pc(this.latestValues)&&jR(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Ti.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),up(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bn(),this.targetWithTransforms=Bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),YU(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),up(this.relativeTargetOrigin,this.target,m.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eM(this.parent.latestValues)||XU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ti.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;_s(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;kX(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Bn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HR(this.prevProjectionDelta.x,this.projectionDelta.x),HR(this.prevProjectionDelta.y,this.projectionDelta.y)),cp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!$R(this.projectionDelta.x,this.prevProjectionDelta.x)||!$R(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Id(),this.projectionDelta=Id(),this.projectionDeltaWithTransform=Id()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Id();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Bn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,x=this.getStack(),g=!x||x.members.length<=1,_=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(pq));this.animationProgress=0;let S;this.mixTargetDelta=b=>{const E=b/1e3;eI(d.x,o.x,E),eI(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(up(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hq(this.relativeTarget,this.relativeTargetOrigin,f,E),S&&QY(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Bn()),_s(S,this.relativeTarget)),y&&(this.animationValues=u,XY(u,c,this.latestValues,E,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{My.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mf(0)),this.currentAnimation=VY(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&mF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Bn();const d=fr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=fr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}_s(a,l),Rd(a,u),cp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JY),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&dw("z",o,c,this.animationValues);for(let u=0;u<uw.length;u++)dw(`rotate${uw[u]}`,o,c,this.animationValues),dw(`skew${uw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=by(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=by(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Pc(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=eq(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in Jp){if(u[v]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:g}=Jp[v],_=d==="none"?u[v]:y(u[v],c);if(x){const S=x.length;for(let b=0;b<S;b++)o[x[b]]=_}else g?this.options.visualElement.renderState.vars[v]=_:o[v]=_}this.options.layoutId&&(o.pointerEvents=c===this?by(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ZR),this.root.sharedNodes.clear()}}}function iq(n){n.updateLayout()}function rq(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?bs(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=fr(f);f.min=i[d].min,f.max=f.min+m}):mF(s,e.layoutBox,i)&&bs(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=fr(i[d]);f.max=f.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=Id();cp(a,i,e.layoutBox);const l=Id();o?cp(l,n.applyTransform(r,!0),e.measuredBox):cp(l,i,e.layoutBox);const c=!dF(a);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const v=Bn();up(v,e.layoutBox,f.layoutBox);const y=Bn();up(y,i,m.layoutBox),fF(v,y)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=v,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function sq(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function oq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function aq(n){n.clearSnapshot()}function ZR(n){n.clearMeasurements()}function QR(n){n.isLayoutDirty=!1}function lq(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function JR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function cq(n){n.resolveTargetDelta()}function uq(n){n.calcProjection()}function dq(n){n.resetSkewAndRotation()}function fq(n){n.removeLeadSnapshot()}function eI(n,e,t){n.translate=Mn(e.translate,0,t),n.scale=Mn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function tI(n,e,t,i){n.min=Mn(e.min,t.min,i),n.max=Mn(e.max,t.max,i)}function hq(n,e,t,i){tI(n.x,e.x,t.x,i),tI(n.y,e.y,t.y,i)}function pq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const mq={duration:.45,ease:[.4,0,.1,1]},nI=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),iI=nI("applewebkit/")&&!nI("chrome/")?Math.round:Is;function rI(n){n.min=iI(n.min),n.max=iI(n.max)}function gq(n){rI(n.x),rI(n.y)}function mF(n,e,t){return n==="position"||n==="preserve-aspect"&&!SY(KR(e),KR(t),.2)}function vq(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const yq=pF({attachResizeListener:(n,e)=>tm(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fw={current:void 0},gF=pF({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!fw.current){const n=new yq({});n.mount(window),n.setOptions({layoutScroll:!0}),fw.current=n}return fw.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xq={pan:{Feature:UY},drag:{Feature:OY,ProjectionNode:gF,MeasureLayout:lF}};function sI(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&xn.postRender(()=>s(e,Nm(e)))}class _q extends Gl{mount(){const{current:e}=this.node;e&&(this.unmount=j7(e,(t,i)=>(sI(this.node,i,"Start"),r=>sI(this.node,r,"End"))))}unmount(){}}class wq extends Gl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dm(tm(this.node.current,"focus",()=>this.onFocus()),tm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oI(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&xn.postRender(()=>s(e,Nm(e)))}class Sq extends Gl{mount(){const{current:e}=this.node;e&&(this.unmount=K7(e,(t,i)=>(oI(this.node,i,"Start"),(r,{success:s})=>oI(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const aM=new WeakMap,hw=new WeakMap,bq=n=>{const e=aM.get(n.target);e&&e(n)},Mq=n=>{n.forEach(bq)};function Eq({root:n,...e}){const t=n||document;hw.has(t)||hw.set(t,{});const i=hw.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Mq,{root:n,...e})),i[r]}function Tq(n,e,t){const i=Eq(e);return aM.set(n,t),i.observe(n),()=>{aM.delete(n),i.unobserve(n)}}const Cq={some:0,all:1};class Aq extends Gl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Cq[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return Tq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Pq(e,t))&&this.startObserver()}unmount(){}}function Pq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Rq={inView:{Feature:Aq},tap:{Feature:Sq},focus:{Feature:wq},hover:{Feature:_q}},Iq={layout:{ProjectionNode:gF,MeasureLayout:lF}},Dq={...gY,...Rq,...xq,...Iq},it=IX(Dq,WX),Lq=()=>{const[n,e]=z.useState(!1),[t,i]=z.useState(!1),r=kf();z.useEffect(()=>{const o=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=[{path:"/",label:"Home",icon:DH},{path:"/about",label:"About",icon:jH},{path:"/projects",label:"Projects",icon:UN},{path:"/skills",label:"Skills",icon:WH},{path:"/experience",label:"Internship",icon:ON},{path:"/certifications",label:"Certifications",icon:NE},{path:"/patent",label:"Patent",icon:UH},{path:"/leetcode",label:"LeetCode",icon:Pb},{path:"/contact",label:"Contact",icon:OE}];return D.jsxs(D.Fragment,{children:[D.jsx(it.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${t?"bg-background/80 backdrop-blur-lg border-b border-card-border":"bg-transparent"}`,children:D.jsx("div",{className:"container mx-auto px-6 py-4",children:D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs(it.div,{whileHover:{scale:1.05},className:"relative",children:[D.jsx(Yd,{to:"/",className:"text-2xl font-bold gradient-text",children:"Portfolio"}),D.jsx("div",{className:"absolute -inset-2 bg-gradient-primary opacity-0 rounded-lg blur transition-opacity duration-300 hover:opacity-20"})]}),D.jsx("div",{className:"hidden lg:flex space-x-1",children:s.map((o,a)=>{const l=o.icon,c=r.pathname===o.path;return D.jsx(it.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:D.jsxs(Yd,{to:o.path,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-300 ${c?"bg-primary text-primary-foreground shadow-glow":"text-foreground hover:bg-card hover:text-primary"}`,children:[D.jsx(l,{size:18}),D.jsx("span",{className:"font-medium",children:o.label})]})},o.path)})}),D.jsx("button",{onClick:()=>e(!n),className:"lg:hidden p-2 rounded-lg bg-card border border-card-border hover:border-primary transition-colors",children:n?D.jsx(FN,{size:24}):D.jsx(OH,{size:24})})]})})}),D.jsxs(it.div,{initial:{opacity:0,scale:.95},animate:{opacity:n?1:0,scale:n?1:.95,pointerEvents:n?"auto":"none"},transition:{duration:.2},className:"fixed inset-0 z-40 lg:hidden",children:[D.jsx("div",{className:"absolute inset-0 bg-background/90 backdrop-blur-lg"}),D.jsx("div",{className:"absolute top-20 left-4 right-4 bg-card border border-card-border rounded-xl p-6 shadow-elegant",children:D.jsx("div",{className:"space-y-4",children:s.map((o,a)=>{const l=o.icon,c=r.pathname===o.path;return D.jsx(it.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.1},children:D.jsxs(Yd,{to:o.path,onClick:()=>e(!1),className:`flex items-center space-x-3 p-3 rounded-lg transition-all duration-300 ${c?"bg-primary text-primary-foreground shadow-glow":"text-foreground hover:bg-muted hover:text-primary"}`,children:[D.jsx(l,{size:20}),D.jsx("span",{className:"font-medium",children:o.label})]})},o.path)})})})]})]})},dp="generated",kq="pointerdown",Nq="pointerup",lM="pointerleave",Oq="pointerout",cu="pointermove",Uq="touchstart",aI="touchend",Fq="touchmove",zq="touchcancel",Bq="resize",Vq="visibilitychange",ks="tsParticles - Error";class Qr{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!no(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${ks} Vector3d not initialized correctly`)}static get origin(){return Qr.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Qr.create(e.x,e.y,e.z)}static create(e,t,i){return new Qr(e,t,i)}add(e){return Qr.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Qr.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Qr.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Qr.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Qr.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Qr.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class vi extends Qr{constructor(e,t){super(e,t,0)}static get origin(){return vi.create(0,0)}static clone(e){return vi.create(e.x,e.y)}static create(e,t){return new vi(e,t)}}let Hq=Math.random;const cM=new Map;function pw(n,e){cM.get(n)||cM.set(n,e)}function vF(n){return cM.get(n)||(e=>e)}function pn(){return lo(Hq(),0,1-1e-16)}function lo(n,e,t){return Math.min(Math.max(n,e),t)}function mw(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Ir(n){const e=vl(n);let t=CT(n);return e===t&&(t=0),pn()*(e-t)+t}function bt(n){return no(n)?n:Ir(n)}function CT(n){return no(n)?n:n.min}function vl(n){return no(n)?n:n.max}function Vt(n,e){if(n===e||e===void 0&&no(n))return n;const t=CT(n),i=vl(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Vt(t,i)}function uu(n){const e=n.random,{enable:t,minimumValue:i}=Al(e)?{enable:e,minimumValue:0}:e;return bt(t?Vt(n.value,i):n.value)}function pr(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function ss(n,e){return pr(n,e).distance}function Gq(n,e,t){if(no(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return pn()*Math.PI*2}}function Wq(n){const e=vi.origin;return e.length=1,e.angle=n,e}function lI(n,e,t,i){return vi.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function jq(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??pn()*n.size.width,y:((t=n.position)==null?void 0:t.y)??pn()*n.size.height}}function yF(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const Xq={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function du(){return Xq}function cI(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&o>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function Yq(n,e){const t=_i(e,i=>n.matches(i));return os(t)?t.some(i=>i):t}function vf(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function qq(){return!vf()&&typeof matchMedia<"u"}function xF(n){if(qq())return matchMedia(n)}function Kq(n){if(!(vf()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Gn(n,e){return n===e||os(e)&&e.indexOf(n)>-1}async function $q(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function Zq(n){return Math.floor(pn()*n.length)}function Vx(n,e,t=!0){return n[e!==void 0&&t?e%n.length:Zq(n)]}function AT(n,e,t,i,r){return Qq(Om(n,i??0),e,t,r)}function Qq(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function Om(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function qi(n,...e){for(const t of e){if(t==null)continue;if(!Dd(t)){n=t;continue}const i=Array.isArray(t);i&&(Dd(n)||!n||!Array.isArray(n))?n=[]:!i&&(Dd(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=n;a[r]=Dd(o)&&Array.isArray(o)?o.map(l=>qi(a[r],l)):qi(a[r],o)}}return n}function PT(n,e){return!!SF(e,t=>t.enable&&Gn(n,t.mode))}function RT(n,e,t){_i(e,i=>{const r=i.mode;i.enable&&Gn(n,r)&&Jq(i,t)})}function Jq(n,e){const t=n.selectors;_i(t,i=>{e(i,n)})}function _F(n,e){if(!(!e||!n))return SF(n,t=>Yq(e,t.selectors))}function uM(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:vi.create(uu(n.options.bounce.horizontal),uu(n.options.bounce.vertical))}}function wF(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:o,dy:a}=pr(s,r);if(t*o+i*a<0)return;const l=-Math.atan2(a,o),c=n.mass,u=e.mass,d=n.velocity.rotate(l),f=e.velocity.rotate(l),m=lI(d,f,c,u),v=lI(f,d,c,u),y=m.rotate(-l),x=v.rotate(-l);n.velocity.x=y.x*n.factor.x,n.velocity.y=y.y*n.factor.y,e.velocity.x=x.x*e.factor.x,e.velocity.y=x.y*e.factor.y}function eK(n,e){const t=n.getPosition(),i=n.getRadius(),r=Om(t,i),s=cI({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:uu(n.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(n.velocity.x=s.velocity),s.position!==void 0&&(n.position.x=s.position));const o=cI({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:uu(n.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(n.velocity.y=o.velocity),o.position!==void 0&&(n.position.y=o.position))}function _i(n,e){return os(n)?n.map((t,i)=>e(t,i)):e(n,0)}function ma(n,e,t){return os(n)?Vx(n,e,t):n}function SF(n,e){return os(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function bF(n,e){const t=n.value,i=n.animation,r={delayTime:bt(i.delay)*1e3,enable:i.enable,value:bt(n.value)*e,max:vl(t)*e,min:CT(t)*e,loops:0,maxLoops:bt(i.count),time:0};if(i.enable){switch(r.decay=1-bt(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=pn()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=Ir(r),s&&(r.status=pn()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function tK(n,e){if(!(n.mode==="percent")){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function MF(n,e){return tK(n,e)}function Al(n){return typeof n=="boolean"}function to(n){return typeof n=="string"}function no(n){return typeof n=="number"}function EF(n){return typeof n=="function"}function Dd(n){return typeof n=="object"&&n!==null}function os(n){return Array.isArray(n)}const y0="random",Ey="mid",Hx=new Map;function uI(n){Hx.set(n.key,n)}function gw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function nK(n){for(const[,s]of Hx)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function io(n,e,t=!0){if(!n)return;const i=to(n)?{value:n}:n;if(to(i.value))return TF(i.value,e,t);if(os(i.value))return io({value:Vx(i.value,e,t)});for(const[,r]of Hx){const s=r.handleRangeColor(i);if(s)return s}}function TF(n,e,t=!0){if(!n)return;const i=to(n)?{value:n}:n;if(to(i.value))return i.value===y0?AF():iK(i.value);if(os(i.value))return TF({value:Vx(i.value,e,t)});for(const[,r]of Hx){const s=r.handleColor(i);if(s)return s}}function nm(n,e,t=!0){const i=io(n,e,t);return i?CF(i):void 0}function CF(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function iK(n){return nK(n)}function yf(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=gw(r,i,t.h+1/3),e.g=gw(r,i,t.h),e.b=gw(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function rK(n){const e=yf(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function AF(n){return{b:Math.floor(Ir(Vt(0,256))),g:Math.floor(Ir(Vt(0,256))),r:Math.floor(Ir(Vt(0,256)))}}function ga(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function im(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function IT(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=yf(n)),s.r===void 0&&(s=yf(e)),{b:mw(r.b,s.b,t,i),g:mw(r.g,s.g,t,i),r:mw(r.r,s.r,t,i)}}function dM(n,e,t){if(t===y0)return AF();if(t===Ey){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return IT(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return yf(s)}}else return t}function PF(n,e,t){const i=to(n)?n:n.value;return i===y0?t?io({value:i}):e?y0:Ey:i===Ey?Ey:io({value:i})}function dI(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function RF(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(vw(i.h,e.h,t),vw(i.s,e.s,t),vw(i.l,e.l,t)),i}function vw(n,e,t){n.enable=e.enable,n.enable?(n.velocity=bt(e.speed)/100*t,n.decay=1-bt(e.decay),n.status="increasing",n.loops=0,n.maxLoops=bt(e.count),n.time=0,n.delayTime=bt(e.delay)*1e3,e.sync||(n.velocity*=pn(),n.value*=pn()),n.initialValue=n.value):n.velocity=0}function fp(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function sK(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function oK(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function aK(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function yw(n,e){n.clearRect(0,0,e.width,e.height)}function lK(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:u,transform:d}=n,f=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),v={sin:Math.sin(m),cos:Math.cos(m)},y={a:v.cos*(d.a??1),b:v.sin*(d.b??1),c:-v.sin*(d.c??1),d:v.cos*(d.d??1)};t.setTransform(y.a,y.b,y.c,y.d,f.x,f.y),t.beginPath(),o&&(t.globalCompositeOperation=a);const x=i.shadowColor;u.enable&&x&&(t.shadowBlur=u.blur,t.shadowColor=ga(x),t.shadowOffsetX=u.offset.x,t.shadowOffsetY=u.offset.y),s.fill&&(t.fillStyle=s.fill);const g=i.strokeWidth??0;t.lineWidth=g,s.stroke&&(t.strokeStyle=s.stroke),cK(e,t,i,l,c,r),g>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),uK(e,t,i,l,c,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function cK(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,i,r,s,n.retina.pixelRatio)}function uK(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);!o||!o.afterEffect||o.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}function dK(n,e,t){e.draw&&e.draw(n,t)}function fK(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function hK(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function pK(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}let mK=class{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:u}=l.getColorStyles(i,t,r,s);c&&(o.fill=c),u&&(o.stroke=u)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const u in c)pK(a,c,u)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=nm(s.particleFillColor(t))),!r&&s.particleStrokeColor&&(r=nm(s.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,s=io(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=ga(o,o.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=qi({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&t.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=io(r.color);if(!s)return;const o=t.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=t=>{this.draw(i=>oK(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>aK(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(ga(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{yw(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var S;const c=this.container,u=c.actualOptions,d=e.options.zIndex,f=(1-e.zIndexFactor)**d.opacityRate,m=e.bubble.opacity??((S=e.opacity)==null?void 0:S.value)??1,v=e.strokeOpacity??m,y=m*f,x=v*f,g={},_={fill:o?im(o,y):void 0};_.stroke=a?im(a,x):_.fill,this._applyPreDrawUpdaters(l,e,i,y,_,g),lK({container:c,context:l,particle:e,delta:t,colorStyles:_,backgroundMask:u.backgroundMask.enable,composite:u.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**d.sizeRate,opacity:y,shadow:e.options.shadow,transform:g}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>fK(r,e,t,i))}drawPlugin(e,t){this.draw(i=>dK(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=Kq(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){du().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=io(t.color);r.backgroundColor=s?ga(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&dp in e.dataset?e.dataset[dp]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=qi({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(yw(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>yw(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}};function ws(n,e,t,i,r){if(i){let s={passive:!0};Al(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class gK{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;_i(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(ws(a,cu,r.mouseMove,i),ws(a,Uq,r.touchStart,i),ws(a,Fq,r.touchMove,i),o.interactivity.events.onClick.enable?(ws(a,aI,r.touchEndClick,i),ws(a,Nq,r.mouseUp,i),ws(a,kq,r.mouseDown,i)):ws(a,aI,r.touchEnd,i),ws(a,t,r.mouseLeave,i),ws(a,zq,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=lM;o==="window"?(r.interactivity.element=window,l=Oq):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&ws(document,Vq,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=xF("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){ws(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){ws(window,Bq,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=lM,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(o){const u=o.getBoundingClientRect();a={x:c.clientX-u.left,y:c.clientY-u.top}}}else if(r.interactivity.detectsOn==="parent"){const u=c.target,d=c.currentTarget;if(u&&d&&o){const f=u.getBoundingClientRect(),m=d.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*f.left-(m.left+v.left),y:c.offsetY+2*f.top-(m.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",o){const c=t,u=c.touches[c.touches.length-1],d=o.getBoundingClientRect();a={x:u.clientX-(d.left??0),y:u.clientY-(d.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=cu},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Ri{constructor(){this.value=""}static create(e,t){const i=new Ri;return i.load(e),t!==void 0&&(to(t)||os(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class vK{constructor(){this.color=new Ri,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Ri.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class yK{constructor(){this.color=new Ri,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Ri.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class xK{constructor(){this.composite="destination-out",this.cover=new yK,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=to(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class _K{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class wK{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class fI{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return _i(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=_i(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class SK{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class bK{constructor(){this.enable=!1,this.mode=[],this.parallax=new SK}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class MK{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class EK{constructor(){this.onClick=new wK,this.onDiv=new fI,this.onHover=new bK,this.resize=new MK}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=_i(t,i=>{const r=new fI;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Al(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class TK{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class IF{constructor(e,t){this.detectsOn="window",this.events=new EK,this.modes=new TK(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class CK{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=qi({},e.options)))}}class AK{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=qi({},e.options)))}}class PK{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class RK{constructor(){this.name="",this.default=new PK}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=qi({},e.options)))}}class xw{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Vt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Vt(e.offset)),e.speed!==void 0&&(this.speed=Vt(e.speed)),e.decay!==void 0&&(this.decay=Vt(e.decay)),e.delay!==void 0&&(this.delay=Vt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class IK{constructor(){this.h=new xw,this.s=new xw,this.l=new xw}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class rm extends Ri{constructor(){super(),this.animation=new IK}static create(e,t){const i=new rm;return i.load(e),t!==void 0&&(to(t)||os(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class DK{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class LK{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class kK{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Vt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Vt(e.speed)),e.decay!==void 0&&(this.decay=Vt(e.decay)),e.delay!==void 0&&(this.delay=Vt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class DF extends kK{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class NK{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Wl{constructor(){this.random=new NK,this.value=0}load(e){e&&(Al(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Vt(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class hI extends Wl{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class LF{constructor(){this.horizontal=new hI,this.vertical=new hI}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class OK{constructor(){this.absorb=new DK,this.bounce=new LF,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new LK}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Vt(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class UK{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Vt(e.offset)),e.value!==void 0&&(this.value=Vt(e.value)))}}class FK{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=Vt(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=((r=e.rotate)==null?void 0:r.x)??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class zK{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class BK{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Vt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Vt(e.maxSpeed)))}}class VK{constructor(){this.clamp=!0,this.delay=new Wl,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=qi(this.options,e.options)))}}class HK{load(e){e&&(e.color!==void 0&&(this.color=Ri.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class GK{constructor(){this.enable=!1,this.length=10,this.fill=new HK}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class WK{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class jK{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Vt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=qi({},e.position)))}}class XK{constructor(){this.angle=new UK,this.attract=new FK,this.center=new zK,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new BK,this.path=new VK,this.outModes=new WK,this.random=!1,this.size=!1,this.speed=2,this.spin=new jK,this.straight=!1,this.trail=new GK,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(no(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Vt(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=no(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Vt(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(Dd(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Vt(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class YK extends DF{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class qK extends Wl{constructor(){super(),this.animation=new YK,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Vt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class KK{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class $K{constructor(){this.density=new KK,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class ZK{constructor(){this.blur=0,this.color=new Ri,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ri.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const _w="character",ww="char",Sw="image",bw="images",Mw="polygon",Ew="star";let QK=class{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const s=os(e),o=s?[]:{},a=s!==os(this.options[t]),l=s!==os(this.options[i]);a&&(this.options[t]=o),l&&r&&(this.options[i]=o),this.options[t]=qi(this.options[t]??o,e),(!this.options[i]||r)&&(this.options[i]=qi(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[_w]??this.options[ww]}set character(e){this.options[ww]=this.options[_w]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Sw]??this.options[bw]}set image(e){this.options[bw]=this.options[Sw]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Mw]??this.options[Ew]}set polygon(e){this.options[Ew]=this.options[Mw]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=qi(this.options[i]??{},r))}this.loadShape(e.character,_w,ww,!0),this.loadShape(e.polygon,Mw,Ew,!1),this.loadShape(e.image??e.images,Sw,bw,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};class JK extends DF{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class e$ extends Wl{constructor(){super(),this.animation=new JK,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Vt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class pI{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=rm.create(this.color,e.color)),e.width!==void 0&&(this.width=Vt(e.width)),e.opacity!==void 0&&(this.opacity=Vt(e.opacity)))}}class t$ extends Wl{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class n${constructor(e,t){this._engine=e,this._container=t,this.bounce=new LF,this.collisions=new OK,this.color=new rm,this.color.value="#fff",this.groups={},this.move=new XK,this.number=new $K,this.opacity=new qK,this.reduceDuplicates=!1,this.shadow=new ZK,this.shape=new QK,this.size=new e$,this.stroke=new pI,this.zIndex=new t$}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(rm.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=qi(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=qi({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=_i(i,a=>{const l=new pI;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function kF(n,...e){for(const t of e)n.load(t)}function NF(n,e,...t){const i=new n$(n,e);return kF(i,...t),i}class i${constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new vK,this.backgroundMask=new xK,this.defaultThemes={},this.delay=0,this.fullScreen=new _K,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new IF(e,t),this.manualParticles=[],this.particles=NF(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&_i(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Vt(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Vt(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Al(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new CK;return c.load(l),c})),this.particles.load(e.particles),this.style=qi(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new AK;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(u=>u.name===l.name);if(c)c.load(l);else{const u=new RK;u.load(l),this.themes.push(u)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=xF("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class r${constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const mI=n=>{if(!Gn(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class s${constructor(e,t,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,u=0)=>{for(const[,_]of a.plugins){const S=_.particlePosition!==void 0?_.particlePosition(l,this):void 0;if(S)return Qr.create(S.x,S.y,c)}const d=a.canvas.size,f=jq({size:d,position:l}),m=Qr.create(f.x,f.y,c),v=this.getRadius(),y=this.options.move.outModes,x=_=>{mI({outMode:_,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:S=>m.x+=S,radius:v})},g=_=>{mI({outMode:_,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:S=>m.y+=S,radius:v})};return x(y.left??y.default),x(y.right??y.default),g(y.top??y.default),g(y.bottom??y.default),this._checkOverlap(m,u)?this._calcPosition(a,void 0,c,u+1):m},this._calculateVelocity=()=>{const a=Wq(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const u=Math.PI/180*bt(c.angle.value),d=Math.PI/180*bt(c.angle.offset),f={left:d-u/2,right:d+u/2};return c.straight||(l.angle+=Ir(Vt(f.left,f.right))),c.random&&typeof c.speed=="number"&&(l.length*=pn()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,u=this.getRadius();if(!c.enable)return!1;const d=c.overlap;if(d.enable)return!1;const f=d.retries;if(f>=0&&l>f)throw new Error(`${ks} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>ss(a,m.position)<u+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?hK(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=bt(this.options.zIndex.value);this.position=this._calcPosition(l,a,lo(c,0,l.zLayers)),this.initialPosition=this.position.copy();const u=l.canvas.size;switch(this.moveCenter={...MF(this.options.move.center,u),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=Gq(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=vi.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return qi({close:a.close,fill:a.fill},ma(c,this.id,l))},this._engine=e,this.init(t,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??dI(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??dI(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=NF(this._engine,s,l.particles),u=c.shape.type,{reduceDuplicates:d}=c;this.shape=ma(u,this.id,d);const f=c.shape;if(i&&i.shape&&i.shape.type){const S=i.shape.type,b=ma(S,this.id,d);b&&(this.shape=b,f.load(i.shape))}this.shapeData=this._loadShapeData(f,d),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const v=new IF(o,s);v.load(s.actualOptions.interactivity),v.load(c.interactivity),this.interactivity=v,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const y=this.options.move.path;this.pathDelay=uu(y.delay)*1e3,y.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(y.generator),this.pathGenerator&&s.addPath(y.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=bF(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-bt(this.options.move.decay);const x=s.particles;x.needsSort=x.needsSort||x.lastZIndex<this.position.z,x.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let g=s.drawers.get(this.shape);g||(g=this._engine.plugins.getShapeDrawer(this.shape),g&&s.drawers.set(this.shape,g)),g&&g.loadShape&&g.loadShape(this);const _=g==null?void 0:g.getSidesCount;_&&(this.sides=_(this)),this.spawning=!1,this.shadowColor=io(this.options.shadow.color);for(const S of s.particles.updaters)S.init(this);for(const S of s.particles.movers)S.init&&S.init(this);g&&g.particleInit&&g.particleInit(s,this);for(const[,S]of s.plugins)S.particleCreated&&S.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class o${constructor(e,t){this.position=e,this.particle=t}}class OF{constructor(e,t){this.position={x:e,y:t}}}class co extends OF{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof Ki&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof co?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class Ki extends OF{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return ss(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Ki){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof co){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class x0{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new x0(new co(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&ss(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new Ki(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new co(e.x,e.y,t.width,t.height),i)}}const gI=4,vI=n=>new co(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let a$=class{constructor(e,t){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,u=a.limit>0?a.limit:c,d=Math.min(c,u)*l+s,f=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,f<d?this.push(Math.abs(d-f),void 0,r,o):f>d&&this.removeQuantity(f-d,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new s$(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){du().warning(`${ks} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new r$(e,t);const i=t.canvas.size;this.quadTree=new x0(vI(i),gI),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?MF(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in t.particles.groups){const o=t.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<t.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<t.particles.number.value;s++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new x0(vI(t.canvas.size),gI);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const s=t.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new o$(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class l${constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||vf()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=t.particles,s=r.move;this.attractDistance=bt(s.attract.distance)*i,this.maxSpeed=bt(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=bt(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.attractDistance=bt(r.attract.distance)*i,o.moveDrift=bt(r.drift)*i,o.moveSpeed=bt(r.speed)*i,o.sizeAnimationSpeed=bt(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=bt(r.gravity.maxSpeed)*i}}function Sn(n){return n&&!n.destroyed}function c$(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function Gu(n,e,...t){const i=new i$(n,e);return kF(i,...t),i}const u$="default",yI={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class d${constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!Sn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=c$(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){du().error(`${ks} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new l$(this),this.canvas=new mK(this),this.particles=new a$(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Gu(this._engine,this),this.actualOptions=Gu(this._engine,this),this._eventListeners=new gK(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Sn(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,f,m)=>{if(!Sn(this))return;const v=this.retina.pixelRatio,y={x:f.x*v,y:f.y*v},x=this.particles.quadTree.queryCircle(y,m*v);e(d,x)},r=d=>{if(!Sn(this))return;const f=d,m={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};i(d,m,1)},s=()=>{Sn(this)&&(c=!0,u=!1)},o=()=>{Sn(this)&&(u=!0)},a=d=>{if(Sn(this)){if(c&&!u){const f=d;let m=f.touches[f.touches.length-1];if(!m&&(m=f.changedTouches[f.changedTouches.length-1],!m))return;const v=this.canvas.element,y=v?v.getBoundingClientRect():void 0,x={x:m.clientX-(y?y.left:0),y:m.clientY-(y?y.top:0)};i(d,x,Math.max(m.radiusX,m.radiusY))}c=!1,u=!1}},l=()=>{Sn(this)&&(c=!1,u=!1)};let c=!1,u=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!Sn(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??yI),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Sn(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!Sn(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}du().error(`${ks} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Sn(this)}handleClickMode(e){if(Sn(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!Sn(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Gu(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Gu(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=bt(this.actualOptions.duration)*1e3,this._delay=bt(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){Sn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Sn(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!Sn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(Sn(this))return this.stop(),this.start()}async reset(){if(Sn(this))return this._initialSourceOptions=void 0,this._options=Gu(this._engine,this),this.actualOptions=Gu(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){Sn(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!Sn(this))return;const r={...yI};if(EF(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(u$,r,!0)}async start(){!Sn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!Sn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}let f$=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}};function Tw(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}class h${constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){_i(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return Tw(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return Tw(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return Tw(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}}async function p$(n){const e=ma(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(du().error(`${ks} ${t.status} while retrieving config file`),n.fallback)}function m$(n){return!n.id&&!n.element&&!n.url&&!n.options}function g$(n){return!m$(n)}class v${constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new f$,this._initialized=!1,this.plugins=new h$(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){to(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,s,o=!0){let a,l=o,c,u,d;Al(i)?(l=i,c=void 0):c=i,Al(r)?(l=r,u=void 0):u=r,Al(s)?(l=s,d=void 0):d=s,EF(t)?a={afterEffect:u,destroy:d,draw:t,init:c}:a=t,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return g$(e)?r=e:(r={},to(e)?r.id=e:r.options=e,no(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,s;return no(t)||t===void 0?r=e:(s=e,r=t),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const s={index:r};return to(e)?s.id=e:s.element=e,t instanceof HTMLElement?s.element=t:s.options=t,no(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,t,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=t,s.index=i):(s.id=e,s.element=t,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${ks} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(pn()*1e4)}`,{index:i,url:r}=e,s=r?await p$({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(t);o||(o=document.createElement("div"),o.id=t,document.body.append(o));const a=ma(s,i),l=this.dom(),c=l.findIndex(f=>f.id===t);if(c>=0){const f=this.domItem(c);f&&!f.destroyed&&(f.destroy(),l.splice(c,1))}let u;if(o.tagName.toLowerCase()==="canvas")u=o,u.dataset[dp]="false";else{const f=o.getElementsByTagName("canvas");f.length?(u=f[0],u.dataset[dp]="false"):(u=document.createElement("canvas"),u.dataset[dp]="true",o.appendChild(u))}u.style.width||(u.style.width="100%"),u.style.height||(u.style.height="100%");const d=new d$(this,t,a);return c>=0?l.splice(c,0,d):l.push(d),d.canvas.loadCanvas(u),await d.start(),d}}class y${constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return yf(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return yf({h:bt(i.h),l:bt(i.l),s:bt(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?rK({a:i.length>4?yF(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class x${constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:bt(i.r),g:bt(i.g),b:bt(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?yF(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function _$(){const n=new x$,e=new y$;uI(n),uI(e);const t=new v$;return t.init(),t}class Vo{constructor(e){this.container=e,this.type="external"}}class DT{constructor(e){this.container=e,this.type="particles"}}const _0=_$();vf()||(window.tsParticles=_0);const Ld=n=>typeof n=="object"&&n!==null;function w0(n,e,t=()=>!1){if(!Ld(n)||!Ld(e))return n===e;const i=Object.keys(n).filter(s=>!t(s)),r=Object.keys(e).filter(s=>!t(s));if(i.length!==r.length)return!1;for(const s of i){const o=n[s],a=e[s];if(Ld(o)&&Ld(a)){if(o===e&&a===n)continue;if(!w0(o,a,t))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!UF(o,a,t))return!1}else if(o!==a)return!1}return!0}function UF(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!UF(r,s,t))return!1}else if(Ld(r)&&Ld(s)){if(!w0(r,s,t))return!1}else if(r!==s)return!1}return!0}const FF="tsparticles";let zF=class BF extends z.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!w0(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!w0(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(_0),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:s}=this.props;return tt.createElement("div",{className:i,id:s},tt.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??BF.defaultProps.id??FF,t=await _0.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};zF.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:FF};class S0{static init(e){var s;const t=new S0,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return _0.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,u,d;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(u=o.options)==null?void 0:u.speed},size:{value:(d=o.options)==null?void 0:d.sizeVariations}}}}})}).then(o=>{t._container=o}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const w$=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,s)=>{n.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},S$=n=>{const{particlesJS:e,pJSDom:t}=w$(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=S0,{particlesJS:e,pJSDom:t,Particles:S0}};function b$(n){const e=n.initialPosition,{dx:t,dy:i}=pr(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:o}=n.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!n.misplaced)n.misplaced=!!a&&r>a||!!l&&s>l,a&&(n.velocity.x=n.velocity.y/2-n.velocity.x),l&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!a||r<a)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const c=n.position,u=n.velocity;a&&(c.x<e.x&&u.x<0||c.x>e.x&&u.x>0)&&(u.x*=-pn()),l&&(c.y<e.y&&u.y<0||c.y>e.y&&u.y>0)&&(u.y*=-pn())}}}function M$(n,e,t,i,r,s){T$(n,s);const o=n.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&t&&(n.velocity.x+=r*s.factor/(60*t)),o!=null&&o.enable&&t&&(n.velocity.y+=a*(o.acceleration*s.factor)/(60*t));const l=n.moveDecay;n.velocity.multTo(l);const c=n.velocity.mult(t);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,t&&(n.velocity.y=c.y/t));const u=n.options.zIndex,d=(1-n.zIndexFactor)**u.velocityRate;c.multTo(d);const{position:f}=n;f.addTo(c),e.vibrate&&(f.x+=Math.sin(f.x*Math.cos(f.y)),f.y+=Math.cos(f.y*Math.sin(f.x)))}function E$(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function T$(n,e){var o;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=(o=n.pathGenerator)==null?void 0:o.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=lo(n.velocity.x,-1,1),n.velocity.y=lo(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function C$(n){return n.slow.inRange?n.slow.factor:1}const A$=2;class P${constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*t.canvas.size.width,y:s.y/100*t.canvas.size.height},a=e.getPosition(),l=ss(a,o),c=bt(r.acceleration);e.retina.spinAcceleration=c*t.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:bt(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var v,y;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=C$(e),l=((v=e.retina).moveSpeed??(v.moveSpeed=bt(r.speed)*o))*s.retina.reduceFactor,c=(y=e.retina).moveDrift??(y.moveDrift=bt(e.options.move.drift)*o),u=vl(i.size.value)*o,d=r.size?e.getRadius()/u:1,f=l*d*a*(t.factor||1)/A$,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?E$(e,f):M$(e,r,f,m,c,t),b$(e)}}async function R$(n,e=!0){await n.addMover("base",()=>new P$,e)}class I${draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};t.circleRange=Dd(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function D$(n,e=!0){await n.addShape("circle",new I$,e)}function Cw(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Ir(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function L$(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:s}=n;if(!s)return;const{h:o,s:a,l}=s;o&&Cw(e,o,t,360,!1),a&&Cw(e,a,i,100,!0),l&&Cw(e,l,r,100,!0)}class k${constructor(e){this.container=e}init(e){const t=nm(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=RF(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&t.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,t){L$(e,t)}}async function N$(n,e=!0){await n.addParticleUpdater("color",t=>new k$(t),e)}function O$(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function U$(n,e){const t=n.opacity;if(n.destroyed||!(t!=null&&t.enable)||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,s=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=s),O$(n,t.value,i,r),n.destroyed||(t.value=lo(t.value,i,r))}}class F${constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=bF(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=bt(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=pn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&U$(e,t)}}async function z$(n,e=!0){await n.addParticleUpdater("opacity",t=>new F$(t),e)}function B$(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=uu(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function V$(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=uu(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class H${constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,f]of s.plugins)if(f.particleBounce!==void 0&&(o=f.particleBounce(e,i,t)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),u=Om(a,c),d=s.canvas.size;B$({particle:e,outMode:r,direction:t,bounds:u,canvasSize:d,offset:l,size:c}),V$({particle:e,outMode:r,direction:t,bounds:u,canvasSize:d,offset:l,size:c})}}class G${constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(AT(e.position,s.canvas.size,vi.origin,e.getRadius(),t))return;break;case"inside":{const{dx:o,dy:a}=pr(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class W${constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&t==="bottom"||s.inverse&&c.y<-l&&t==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;AT(e.position,o.canvas.size,vi.origin,l,t)||o.particles.remove(e)}}}class j${constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=vi.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(vi.create(e.moveCenter));const{dx:c,dy:u}=pr(e.position,l);if(o<=0&&c>=0||a<=0&&u>=0||o>=0&&c<=0||a>=0&&u<=0)return;e.position.x=Math.floor(Ir({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Ir({min:0,max:s.canvas.size.height}));const{dx:d,dy:f}=pr(e.position,e.moveCenter);e.direction=Math.atan2(-f,-d),e.velocity.angle=e.direction;break}default:{if(AT(e.position,s.canvas.size,vi.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Ir({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ir({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=pr(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),u=Om(e.position,c);t==="right"&&u.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=pn()*a.height,e.initialPosition.y=e.position.y)):t==="left"&&u.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=pn()*a.height,e.initialPosition.y=e.position.y)),t==="bottom"&&u.top>a.height+e.offset.y?(o||(e.position.x=pn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t==="top"&&u.bottom<-e.offset.y&&(o||(e.position.x=pn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class X${constructor(e){this.container=e,this._updateOutMode=(t,i,r,s)=>{for(const o of this.updaters)o.update(t,s,i,r)},this.updaters=[new H$(e),new G$(e),new j$(e),new W$(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function Y$(n,e=!0){await n.addParticleUpdater("outModes",t=>new X$(t),e)}function q$(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function K$(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,s=t.max,o=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=s?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&o!==1&&(t.velocity*=o),q$(n,t.value,r,s),n.destroyed||(t.value=lo(t.value,r,s))}}class $${init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=pn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&K$(e,t)}}async function Z$(n,e=!0){await n.addParticleUpdater("size",()=>new $$,e)}async function Q$(n,e=!0){await R$(n,!1),await D$(n,!1),await N$(n,!1),await z$(n,!1),await Y$(n,!1),await Z$(n,!1),await n.refresh(e)}async function J$(){pw("ease-in-quad",n=>n**2),pw("ease-out-quad",n=>1-(1-n)**2),pw("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class eZ{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let tZ=class extends Vo{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new Ki(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new Ki(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:u,dy:d,distance:f}=pr(c.position,i),m=a.speed*a.factor,v=lo(vF(a.easing)(1-f/r)*m,0,a.maxSpeed),y=vi.create(f===0?m:u/f*v,f===0?m:d/f*v);c.position.subFrom(y)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===cu,r=t.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Gn("attract",o)?this._hoverAttract():a&&Gn("attract",l)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Gn("attract",o)||Gn("attract",a)}loadModeOptions(e,...t){e.attract||(e.attract=new eZ);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function nZ(n,e=!0){await n.addInteractor("externalAttract",t=>new tZ(n,t),e)}class iZ{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class rZ extends Vo{constructor(e){super(e),this._processBounce=(t,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof Ki?wF(uM(o),{position:t,radius:i,mass:i**2*Math.PI/2,velocity:vi.origin,factor:vi.origin}):r instanceof co&&eK(o,Om(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,s=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new Ki(s.x,s.y,o+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,s=document.querySelectorAll(t);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},u=a.offsetWidth/2*l,d=10*l,f=i.type==="circle"?new Ki(c.x,c.y,u+d):new co(a.offsetLeft*l-d,a.offsetTop*l-d,a.offsetWidth*l+d*2,a.offsetHeight*l+d*2);this._processBounce(c,u,f)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===cu,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Gn("bounce",o)?this._processMouseBounce():RT("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Gn("bounce",s.onHover.mode)||PT("bounce",o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new iZ);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function sZ(n,e=!0){await n.addInteractor("externalBounce",t=>new rZ(t),e)}class VF{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=os(this.color)?void 0:this.color;this.color=_i(e.color,i=>Ri.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class oZ extends VF{constructor(){super(),this.selectors=[]}get ids(){return _i(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=_i(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class aZ extends VF{load(e){super.load(e),e&&(this.divs=_i(e.divs,t=>{const i=new oZ;return i.load(t),i}))}}function xI(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return lo(r,n,e)}else if(e<t){const r=n-(t-e)*i;return lo(r,e,n)}}class lZ extends Vo{constructor(e){super(e),this._clickBubble=()=>{var c;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;t.bubble||(t.bubble={});const o=t.retina.bubbleModeDistance;if(!o||o<0)return;const a=t.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u)),{bubble:l}=t;for(const u of a){if(!l.clicking)continue;u.bubble.inRange=!l.durationEnd;const d=u.getPosition(),f=ss(d,r),m=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const v={bubbleObj:{optValue:t.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:vl(u.options.size.value)*t.retina.pixelRatio,value:u.size.value},type:"size"};this._process(u,f,m,v);const y={bubbleObj:{optValue:s.opacity,value:u.bubble.opacity},particlesObj:{optValue:vl(u.options.opacity.value),value:((c=u.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(u,f,m,y),!l.durationEnd&&f<=o?this._hoverBubbleColor(u,f):delete u.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=t.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=ss(a,i),c=1-l/r;l<=r?c>=0&&t.interactivity.status===cu&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),t.interactivity.status===lM&&this.reset(o)}},this._hoverBubbleColor=(t,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!t.bubble.finalColor){const a=o.color;if(!a)return;const l=ma(a);t.bubble.finalColor=nm(l)}if(t.bubble.finalColor)if(o.mix){t.bubble.color=void 0;const a=t.getFillColor();t.bubble.color=a?CF(IT(a,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{var d,f;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((d=o.interactivity.modes.bubble)==null?void 0:d.opacity);if(!a)return;const l=t.options.opacity.value,c=((f=t.opacity)==null?void 0:f.value)??1,u=xI(c,a,vl(l),i);u!==void 0&&(t.bubble.opacity=u)},this._hoverBubbleSize=(t,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=vl(t.options.size.value)*s.retina.pixelRatio,l=t.size.value,c=xI(l,o,a,i);c!==void 0&&(t.bubble.radius=c)},this._process=(t,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const u=c.duration,d=o.retina.bubbleModeDistance,f=s.particlesObj.optValue,m=s.bubbleObj.value,v=s.particlesObj.value||0,y=s.type;if(!(!d||d<0||a===f))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(y==="size"&&delete t.bubble.radius,y==="opacity"&&delete t.bubble.opacity);else if(i<=d){if((m??v)!==a){const g=v-r*(v-a)/u;y==="size"&&(t.bubble.radius=g),y==="opacity"&&(t.bubble.opacity=g)}}else y==="size"&&delete t.bubble.radius,y==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,u=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},f=c.offsetWidth/2*u,m=r.type==="circle"?new Ki(d.x,d.y,f):new co(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),v=s.particles.quadTree.query(m,y=>this.isEnabled(y));for(const y of v){if(!m.contains(y.getPosition()))continue;y.bubble.inRange=!0;const x=a.divs,g=_F(x,c);(!y.bubble.div||y.bubble.div!==c)&&(this.clear(y,t,!0),y.bubble.div=c),this._hoverBubbleSize(y,1,g),this._hoverBubbleOpacity(y,1,g),this._hoverBubbleColor(y,1,g)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,u=i.onDiv;o&&Gn("bubble",a)?this._hoverBubble():l&&Gn("bubble",c)?this._clickBubble():RT("bubble",u,(d,f)=>this._singleSelectorHover(e,d,f))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=PT("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Gn("bubble",l.mode)||Gn("bubble",o.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new aZ);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function cZ(n,e=!0){await n.addInteractor("externalBubble",t=>new lZ(t),e)}class uZ{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class dZ{constructor(){this.distance=80,this.links=new uZ,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function fZ(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),o=t.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=t.getPosition(),c=IT(s,o,e.getRadius(),t.getRadius()),u=n.createLinearGradient(a.x,a.y,l.x,l.y);return u.addColorStop(0,im(s,i)),u.addColorStop(r>1?1:r,ga(c,i)),u.addColorStop(1,im(o,i)),u}function hZ(n,e,t,i,r){fp(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function pZ(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return fZ(e,t,i,s.links.opacity)}function mZ(n,e,t){n.canvas.draw(i=>{const r=pZ(n,i,e,t);if(!r)return;const s=e.getPosition(),o=t.getPosition();hZ(i,e.retina.linksWidth??0,r,s,o)})}class gZ extends Vo{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const u=c.getPosition(),d=Math.abs(e.retina.connectModeDistance),f=Math.abs(l.x-u.x),m=Math.abs(l.y-u.y);f<d&&m<d&&mZ(e,a,c)}++o}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Gn("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new dZ);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function vZ(n,e=!0){await n.addInteractor("externalConnect",t=>new gZ(t),e)}class yZ{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Ri.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class xZ{constructor(){this.distance=100,this.links=new yZ}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function _Z(n,e,t,i,r,s){fp(n,t,i),n.strokeStyle=ga(r,s),n.lineWidth=e,n.stroke()}function wZ(n,e,t,i,r){n.canvas.draw(s=>{const o=e.getPosition();_Z(s,e.retina.linksWidth??0,o,r,t,i)})}class SZ extends Vo{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==cu)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),u=ss(c,r);if(u>s)continue;const d=i.modes.grab.links,f=d.opacity,m=f-u*f/s;if(m<=0)continue;const v=d.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const x=i.modes.grab.links;e.particles.grabLineColor=PF(v,x.blink,x.consent)}const y=dM(l,void 0,e.particles.grabLineColor);y&&wZ(e,l,y,m,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Gn("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new xZ);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function bZ(n,e=!0){await n.addInteractor("externalGrab",t=>new SZ(t),e)}class MZ extends Vo{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function EZ(n,e=!0){await n.addInteractor("externalPause",t=>new MZ(t),e)}class TZ{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Vt(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Vt(t))}}class CZ extends Vo{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=bt(s.quantity);if(o<=0)return;const a=Vx([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new TZ);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function AZ(n,e=!0){await n.addInteractor("externalPush",t=>new CZ(t),e)}class PZ{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Vt(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Vt(t))}}class RZ extends Vo{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const s=bt(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new PZ);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function IZ(n,e=!0){await n.addInteractor("externalRemove",t=>new RZ(t),e)}class HF{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class DZ extends HF{constructor(){super(),this.selectors=[]}get ids(){return _i(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=_i(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class LZ extends HF{load(e){super.load(e),e&&(this.divs=_i(e.divs,t=>{const i=new DZ;return i.load(t),i}))}}class kZ extends Vo{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Ki(l.x,l.y,a),u=i.particles.quadTree.query(c,d=>this.isEnabled(d));for(const d of u){const{dx:f,dy:m,distance:v}=pr(l,d.position),y=v**2,x=r.speed,g=-a*x/y;if(y<=a){s.particles.push(d);const _=vi.create(f,m);_.length=g,d.velocity.setTo(_)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new Ki(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,u=>this.isEnabled(u)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const u of l){const{dx:d,dy:f,distance:m}=pr(u.position,i),v=((o==null?void 0:o.speed)??c.speed)*c.factor,y=lo(vF(c.easing)(1-m/r)*v,0,c.maxSpeed),x=vi.create(m===0?v:d/m*y,m===0?v:f/m*y);u.position.addTo(x)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,u=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},f=c.offsetWidth/2*u,m=r.type==="circle"?new Ki(d.x,d.y,f):new co(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),v=o.divs,y=_F(v,c);this._processRepulse(d,f,m,y)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===cu,r=t.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,u=l.mode,d=r.onDiv;i&&o&&Gn("repulse",a)?this._hoverRepulse():c&&Gn("repulse",u)?this._clickRepulse():RT("repulse",d,(f,m)=>this._singleSelectorRepulse(f,m))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=PT("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const u=a.mode,d=l.mode;return Gn("repulse",u)||Gn("repulse",d)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new LZ);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function NZ(n,e=!0){await n.addInteractor("externalRepulse",t=>new kZ(n,t),e)}class OZ{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class UZ extends Vo{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Gn("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new OZ);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=ss(r,a),c=l/s,u=o.factor,{slow:d}=e;l>s||(d.inRange=!0,d.factor=c/u)}}async function FZ(n,e=!0){await n.addInteractor("externalSlow",t=>new UZ(t),e)}const Aw=[0,4,2,1],_I=[8,8,4,2];class zZ{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function GF(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function BZ(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const a=n.nextByte();o&&i(a),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function VZ(n,e,t,i,r,s){const o=e.frames[i(!0)];o.left=n.nextTwoBytes(),o.top=n.nextTwoBytes(),o.width=n.nextTwoBytes(),o.height=n.nextTwoBytes();const a=n.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const u=1<<(a&7)+1;l&&(o.localColorTable=GF(n,u));const d=g=>{const{r:_,g:S,b}=(l?o.localColorTable:e.globalColorTable)[g];return{r:_,g:S,b,a:g===r(null)?t?~~((_+S+b)/3):0:255}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(g){if(g instanceof DOMException&&g.name==="IndexSizeError")return null;throw g}})();if(f==null)throw new EvalError("GIF frame size is to large");const m=n.nextByte(),v=n.readSubBlocksBin(),y=1<<m,x=(g,_)=>{const S=g>>>3,b=g&7;return(v[S]+(v[S+1]<<8)+(v[S+2]<<16)&(1<<_)-1<<b)>>>b};if(c){for(let g=0,_=m+1,S=0,b=[[0]],E=0;E<4;E++)if(Aw[E]<o.height)for(let C=0,P=0;;){const R=g;if(g=x(S,_),S+=_+1,g===y){_=m+1,b.length=y+2;for(let I=0;I<b.length;I++)b[I]=I<y?[I]:[]}else{g>=b.length?b.push(b[R].concat(b[R][0])):R!==y&&b.push(b[R].concat(b[g][0]));for(let I=0;I<b[g].length;I++){const{r:T,g:O,b:U,a:j}=d(b[g][I]);f.data.set([T,O,U,j],Aw[E]*o.width+_I[E]*P+C%(o.width*4)),C+=4}b.length===1<<_&&_<12&&_++}if(C===o.width*4*(P+1)&&(P++,Aw[E]+_I[E]*P>=o.height))break}o.image=f,o.bitmap=await createImageBitmap(f)}else{for(let g=0,_=m+1,S=0,b=[[0]],E=-4;;){const C=g;if(g=x(S,_),S+=_,g===y){_=m+1,b.length=y+2;for(let P=0;P<b.length;P++)b[P]=P<y?[P]:[]}else{if(g===y+1)break;g>=b.length?b.push(b[C].concat(b[C][0])):C!==y&&b.push(b[C].concat(b[g][0]));for(let P=0;P<b[g].length;P++){const{r:R,g:I,b:T,a:O}=d(b[g][P]);f.data.set([R,I,T,O],E+=4)}b.length>=1<<_&&_<12&&_++}}o.image=f,o.bitmap=await createImageBitmap(f)}}async function HZ(n,e,t,i,r,s){switch(n.nextByte()){case 59:return!0;case 44:await VZ(n,e,t,i,r);break;case 33:await BZ(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function GZ(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function WZ(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new zZ(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,u=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=GF(o,c));const d=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(b){if(b instanceof DOMException&&b.name==="IndexSizeError")return null;throw b}})();if(d==null)throw new Error("GIF frame size is to large");const{r:f,g:m,b:v}=s.globalColorTable[u];d.data.set(l?[f,m,v,255]:[0,0,0,0]);for(let b=4;b<d.data.length;b*=2)d.data.copyWithin(b,0,b);s.backgroundImage=d;let y=-1,x=!0,g=-1;const _=b=>(b&&(x=!0),y),S=b=>(b!=null&&(g=b),g);try{do x&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),y++,g=-1,x=!1);while(!await HZ(o,s,t,_,S,e));s.frames.length--;for(const b of s.frames){if(b.userInputDelayFlag&&b.delayTime===0){s.totalTime=1/0;break}s.totalTime+=b.delayTime}return s}catch(b){throw b instanceof EvalError?new Error(`error while parsing frame ${y} "${b.message}"`):b}}const jZ=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function XZ(n,e,t){const{svgData:i}=n;if(!i)return"";const r=im(e,t);if(i.includes("fill"))return i.replace(jZ,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function Gx(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,du().error(`${ks} loading image: ${n.source}`),e()}),t.src=n.source})}async function YZ(n){if(n.type!=="gif"){await Gx(n);return}n.loading=!0;try{n.gifData=await WZ(n.source),n.gifLoopCount=GZ(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function qZ(n){if(n.type!=="svg"){await Gx(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(du().error(`${ks} Image not found`),n.error=!0),n.loading=!1}function KZ(n,e,t,i){var o;const r=XZ(n,t,((o=i.opacity)==null?void 0:o.value)??1),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,u=c.createObjectURL(l),d=new Image;d.addEventListener("load",()=>{s.loaded=!0,s.element=d,a(s),c.revokeObjectURL(u)}),d.addEventListener("error",async()=>{c.revokeObjectURL(u);const f={...n,error:!1,loading:!0};await Gx(f),s.loaded=!0,s.element=f.element,a(s)}),d.src=u})}class $Z{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${ks} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,s){const o=t.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),t.gifLoopCount===void 0&&(t.gifLoopCount=o.gifLoopCount??0);let u=t.gifFrame??0;const d={x:-o.gifData.width*.5,y:-o.gifData.height*.5},f=o.gifData.frames[u];if(t.gifTime===void 0&&(t.gifTime=0),!f.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),f.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(f.bitmap,f.left,f.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(f.bitmap,f.left,f.top),e.drawImage(l,d.x,d.y);break;case 2:c.drawImage(f.bitmap,f.left,f.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,d.x+f.left,d.y+f.top):c.putImageData(o.gifData.backgroundImage,d.x,d.y);break;case 3:{const m=c.getImageData(0,0,l.width,l.height);c.drawImage(f.bitmap,f.left,f.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),c.putImageData(m,0,0)}break}if(t.gifTime+=s.value,t.gifTime>f.delayTime){if(t.gifTime-=f.delayTime,++u>=o.gifData.frames.length){if(--t.gifLoopCount<=0)return;u=0,c.clearRect(0,0,l.width,l.height)}t.gifFrame=u}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,s=t.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;o.svgData&&s?l=await KZ(o,r,s,t):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??t.fill,u=r.close??t.close,d={image:l,fill:c,close:u};t.image=d.image,t.fill=d.fill,t.close=d.close})()}}class ZZ{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class QZ{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new ZZ;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function JZ(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${ks} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?YZ:e.replaceColor?qZ:Gx)(t)}catch{throw new Error(`${ks} ${e.name??e.src} not found`)}})}async function eQ(n,e=!0){JZ(n);const t=new QZ(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new $Z(n),e)}class tQ extends Wl{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class nQ extends Wl{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class iQ{constructor(){this.count=0,this.delay=new tQ,this.duration=new nQ}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class rQ{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?bt(r.delay.value)*(r.delay.sync?1:pn())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?bt(r.duration.value)*(r.duration.sync?1:pn())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new iQ);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=Vt(0,s.width),a=Vt(0,s.width);e.position.x=Ir(o),e.position.y=Ir(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=bt(l.delay.value)*1e3,i.duration=bt(l.duration.value)*1e3)}}async function sQ(n,e=!0){await n.addParticleUpdater("life",t=>new rQ(t),e)}class oQ{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function aQ(n,e=!0){await n.addShape("line",new oQ,e)}class lQ{init(){}isEnabled(e){return!vf()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(vf()||!r.enable)return;const s=r.force,o=t.interactivity.mouse.position;if(!o)return;const a=t.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,u=e.getRadius()/s,d={x:(o.x-l.x)*u,y:(o.y-l.y)*u},{offset:f}=e;f.x+=(d.x-f.x)/c,f.y+=(d.y-f.y)/c}}async function cQ(n,e=!0){await n.addMover("parallax",()=>new lQ,e)}class uQ extends DT{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=pr(r,a),u=e.options.move.attract.rotate,d=l/(u.x*1e3),f=c/(u.y*1e3),m=o.size.value/e.size.value,v=1/m;e.velocity.x-=d*m,e.velocity.y-=f*m,o.velocity.x+=d*v,o.velocity.y+=f*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function dQ(n,e=!0){await n.addInteractor("particlesAttract",t=>new uQ(t),e)}function wI(n,e,t,i,r,s){const o=lo(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=o/2,t.size.value-=o,i<=s&&(t.size.value=0,t.destroy())}function fQ(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?wI(n,r,e,s,t,i):wI(e,s,n,r,t,i))}const SI=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=bt(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function WF(n,e){wF(uM(n),uM(e)),SI(n),SI(e)}function hQ(n,e){!n.unbreakable&&!e.unbreakable&&WF(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function pQ(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{fQ(n,e,t,i);break}case"bounce":{WF(n,e);break}case"destroy":{hQ(n,e);break}}}class mQ extends DT{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const u=ss(r,l),d=s+c;u>d||pQ(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function gQ(n,e=!0){await n.addInteractor("particlesCollisions",t=>new mQ(t),e)}class vQ extends Ki{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Ki(r.x,r.y,i.radius*2);return super.intersects(s)}else if(t.size!==void 0){const s=new co(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(s)}return!1}}class yQ{constructor(){this.blur=5,this.color=new Ri,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ri.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class xQ{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=Ri.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class _Q{constructor(){this.blink=!1,this.color=new Ri,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new yQ,this.triangles=new xQ,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Ri.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function wQ(n,e,t,i,r){const{dx:s,dy:o,distance:a}=pr(n,e);if(!r||a<=t)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class SQ extends DT{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=PF(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new vQ(t.x,t.y,a,r):new Ki(t.x,t.y,a),u=i.particles.quadTree.query(c);for(const d of u){const f=d.options.links;if(e===d||!(f!=null&&f.enable)||s.id!==f.id||d.spawning||d.destroyed||!d.links||e.links.some(x=>x.destination===d)||d.links.some(x=>x.destination===e))continue;const m=d.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const v=wQ(t,m,a,r,l&&f.warp);if(v>a)continue;const y=(1-v/a)*o;this._setColor(e),e.links.push({destination:d,opacity:y})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new _Q);for(const i of t)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function bQ(n,e=!0){await n.addInteractor("particlesLinks",t=>new SQ(t),e)}function MQ(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:u,links:d}=n;if(ss(t,i)<=r)fp(s,t,i),e=!0;else if(d.warp){let m,v;const y={x:i.x-o.width,y:i.y},x=pr(t,y);if(x.distance<=r){const g=t.y-x.dy/x.dx*t.x;m={x:0,y:g},v={x:o.width,y:g}}else{const g={x:i.x,y:i.y-o.height},_=pr(t,g);if(_.distance<=r){const b=-(t.y-_.dy/_.dx*t.x)/(_.dy/_.dx);m={x:b,y:0},v={x:b,y:o.height}}else{const S={x:i.x-o.width,y:i.y-o.height},b=pr(t,S);if(b.distance<=r){const E=t.y-b.dy/b.dx*t.x;m={x:-E/(b.dy/b.dx),y:E},v={x:m.x+o.width,y:m.y+o.height}}}}m&&v&&(fp(s,t,m),fp(s,i,v),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=ga(c,u);const{shadow:f}=d;if(f.enable){const m=io(f.color);m&&(s.shadowBlur=f.blur,s.shadowColor=ga(m))}s.stroke()}function EQ(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=n;sK(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=ga(o,a),e.fill()}function TQ(n){return n.sort((e,t)=>e-t),n.join("_")}function bI(n,e){const t=TQ(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=pn(),e.set(t,i)),i}class CQ{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=t.getPosition(),c=a.getPosition();let u=i.opacity;s.canvas.draw(d=>{var g;let f;const m=(g=t.options.twinkle)==null?void 0:g.lines;if(m!=null&&m.enable){const _=m.frequency,S=io(m.color);pn()<_&&S&&(f=S,u=bt(m.opacity))}if(!f){const _=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;f=dM(t,a,_)}if(!f)return;const v=t.retina.linksWidth??0,y=t.retina.linksDistance??0,{backgroundMask:x}=o;MQ({context:d,width:v,begin:l,end:c,maxDistance:y,canvasSize:s.canvas.size,links:r,backgroundMask:x,colorLine:f,opacity:u})})},this._drawLinkTriangle=(t,i,r)=>{const s=t.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,u=r.destination,d=o.opacity??(i.opacity+r.opacity)/2;d<=0||a.canvas.draw(f=>{const m=t.getPosition(),v=c.getPosition(),y=u.getPosition(),x=t.retina.linksDistance??0;if(ss(m,v)>x||ss(y,v)>x||ss(y,m)>x)return;let g=io(o.color);if(!g){const _=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;g=dM(t,c,_)}g&&EQ({context:f,pos1:m,pos2:v,pos3:y,backgroundMask:l.backgroundMask,colorTriangle:g,opacityTriangle:d})})},this._drawTriangles=(t,i,r,s)=>{var l,c,u;const o=r.destination;if(!((l=t.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(u=o.links)==null?void 0:u.filter(d=>{const f=this._getLinkFrequency(o,d.destination);return o.options.links&&f<=o.options.links.frequency&&s.findIndex(m=>m.destination===d.destination)>=0});if(a!=null&&a.length)for(const d of a){const f=d.destination;this._getTriangleFrequency(i,o,f)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,d)}},this._getLinkFrequency=(t,i)=>bI([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>bI([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(t,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,t,o,s),o.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class AQ{constructor(){this.id="links"}getPlugin(e){return new CQ(e)}loadOptions(){}needsPlugin(){return!0}}async function PQ(n,e=!0){const t=new AQ;await n.addPlugin(t,e)}async function RQ(n,e=!0){await bQ(n,e),await PQ(n,e)}class jF{draw(e,t,i){const r=this.getCenter(t,i),s=this.getSidesData(t,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let u=0;u<o;u++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const t=e.shapeData;return Math.round(bt((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}}class IQ extends jF{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class DQ extends jF{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function LQ(n,e=!0){await n.addShape("polygon",new IQ,e)}async function kQ(n,e=!0){await n.addShape("triangle",new DQ,e)}async function NQ(n,e=!0){await LQ(n,e),await kQ(n,e)}class OQ{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Vt(e.speed)),e.decay!==void 0&&(this.decay=Vt(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class UQ extends Wl{constructor(){super(),this.animation=new OQ,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function FQ(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,s=(t.velocity??0)*e.factor,o=2*Math.PI,a=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=s,t.value>o&&(t.value-=o);break;case"decreasing":default:t.value-=s,t.value<0&&(t.value+=o);break}t.velocity&&a!==1&&(t.velocity*=a)}}class zQ{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:bt(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(pn()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-bt(r.decay),e.rotate.velocity=bt(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=pn())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new UQ);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){var i;this.isEnabled(e)&&(FQ(e,t),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function BQ(n,e=!0){await n.addParticleUpdater("rotate",t=>new zQ(t),e)}const VQ=Math.sqrt(2);class HQ{draw(e,t,i){const r=i/VQ,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function GQ(n,e=!0){await n.addShape(["edge","square"],new HQ,e)}class WQ{draw(e,t,i){const r=t.sides,s=t.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(bt((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}particleInit(e,t){const i=t.shapeData,r=bt((i==null?void 0:i.inset)??2);t.starInset=r}}async function jQ(n,e=!0){await n.addShape("star",new WQ,e)}function Pw(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Ir(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function XQ(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:s,s:o,l:a}=n.strokeAnimation;t&&Pw(e,t,s,360,!1),i&&Pw(e,i,o,100,!0),r&&Pw(e,r,a,100,!0)}class YQ{constructor(e){this.container=e}init(e){var o;const t=this.container,i=e.options,r=ma(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=bt(r.width)*t.retina.pixelRatio,e.strokeOpacity=bt(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=nm(r.color)??e.getFillColor();s&&(e.strokeColor=RF(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&XQ(e,t)}}async function qQ(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new YQ(t),e)}const Ty=["text","character","char"];class KQ{draw(e,t,i,r){const s=t.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;t.text===void 0&&(t.text=ma(o,t.randomIndexData));const a=t.text,l=s.style??"",c=s.weight??"400",u=Math.round(i)*2,d=s.font??"Verdana",f=t.fill,m=a.length*i/2;e.font=`${l} ${c} ${u}px "${d}"`;const v={x:-m,y:i/2};e.globalAlpha=r,f?e.fillText(a,v.x,v.y):e.strokeText(a,v.x,v.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(Ty.find(i=>Gn(i,t.particles.shape.type))){const i=Ty.map(s=>t.particles.shape.options[s]).find(s=>!!s),r=[];_i(i,s=>{r.push($q(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!Ty.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=ma(r,t.randomIndexData))}}async function $Q(n,e=!0){await n.addShape(Ty,new KQ,e)}async function ZQ(n,e=!0){S$(n),await cQ(n,!1),await nZ(n,!1),await sZ(n,!1),await cZ(n,!1),await vZ(n,!1),await bZ(n,!1),await EZ(n,!1),await AZ(n,!1),await IZ(n,!1),await NZ(n,!1),await FZ(n,!1),await dQ(n,!1),await gQ(n,!1),await RQ(n,!1),await J$(),await eQ(n,!1),await aQ(n,!1),await NQ(n,!1),await GQ(n,!1),await jQ(n,!1),await $Q(n,!1),await sQ(n,!1),await BQ(n,!1),await qQ(n,!1),await Q$(n,e)}const QQ=()=>{const n=z.useCallback(async e=>{await ZQ(e)},[]);return D.jsx(zF,{id:"tsparticles",init:n,options:{background:{color:{value:"transparent"}},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:["#9333ea","#3b82f6","#eab308"]},links:{color:"#9333ea",distance:150,enable:!0,opacity:.3,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5,animation:{enable:!0,speed:1,minimumValue:.1}},shape:{type:"circle"},size:{value:{min:1,max:3},animation:{enable:!0,speed:2,minimumValue:.1}}},detectRetina:!0},className:"absolute inset-0 -z-10"})},Da=()=>D.jsxs("div",{className:"fixed inset-0 overflow-hidden -z-20",children:[D.jsx(it.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-40 -left-40 w-80 h-80 bg-primary/20 rounded-full blur-3xl"}),D.jsx(it.div,{animate:{scale:[1.2,1,1.2],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-40 -right-40 w-96 h-96 bg-secondary/20 rounded-full blur-3xl"}),D.jsx(it.div,{animate:{scale:[1,1.5,1],x:[0,100,0],y:[0,-50,0]},transition:{duration:30,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-accent/15 rounded-full blur-3xl"}),D.jsx("div",{className:"absolute inset-0 opacity-[0.02]",children:D.jsx("div",{className:"h-full w-full bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"})})]});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Wx="178",Rc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ic={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},XF=0,fM=1,YF=2,JQ=3,qF=0,jx=1,hp=2,Xs=3,Ca=0,mr=1,Zs=2,va=0,Zc=1,hM=2,pM=3,mM=4,KF=5,ll=100,$F=101,ZF=102,QF=103,JF=104,ez=200,tz=201,nz=202,iz=203,b0=204,M0=205,rz=206,sz=207,oz=208,az=209,lz=210,cz=211,uz=212,dz=213,fz=214,E0=0,T0=1,C0=2,fu=3,A0=4,P0=5,R0=6,I0=7,Um=0,hz=1,pz=2,ko=0,mz=1,gz=2,vz=3,LT=4,yz=5,xz=6,_z=7,gM="attached",wz="detached",Xx=300,Aa=301,Fl=302,sm=303,om=304,Ff=306,am=1e3,As=1001,lm=1002,Ai=1003,kT=1004,eJ=1004,kd=1005,tJ=1005,Wn=1006,pp=1007,nJ=1007,Co=1008,iJ=1008,Ns=1009,NT=1010,OT=1011,xf=1012,Yx=1013,Pa=1014,Dr=1015,zf=1016,qx=1017,Kx=1018,_f=1020,UT=35902,FT=1021,zT=1022,Yi=1023,wf=1026,Sf=1027,$x=1028,Fm=1029,BT=1030,Zx=1031,rJ=1032,Qx=1033,mp=33776,gp=33777,vp=33778,yp=33779,D0=35840,L0=35841,k0=35842,N0=35843,O0=36196,U0=37492,F0=37496,z0=37808,B0=37809,V0=37810,H0=37811,G0=37812,W0=37813,j0=37814,X0=37815,Y0=37816,q0=37817,K0=37818,$0=37819,Z0=37820,Q0=37821,xp=36492,J0=36494,ex=36495,VT=36283,tx=36284,nx=36285,ix=36286,Sz=2200,bz=2201,Mz=2202,cm=2300,rx=2301,Cy=2302,Bc=2400,Vc=2401,um=2402,Jx=2500,HT=2501,sJ=0,oJ=1,aJ=2,Ez=3200,GT=3201,lJ=3202,cJ=3203,jl=0,Tz=1,ua="",Tr="srgb",hu="srgb-linear",dm="linear",sn="srgb",uJ=0,Dc=7680,dJ=7681,fJ=7682,hJ=7683,pJ=34055,mJ=34056,gJ=5386,vJ=512,yJ=513,xJ=514,_J=515,wJ=516,SJ=517,bJ=518,vM=519,Cz=512,Az=513,Pz=514,WT=515,Rz=516,Iz=517,Dz=518,Lz=519,fm=35044,MJ=35048,EJ=35040,TJ=35045,CJ=35049,AJ=35041,PJ=35046,RJ=35050,IJ=35042,DJ="100",yM="300 es",Ps=2e3,hm=2001,LJ={COMPUTE:"compute",RENDER:"render"},kJ={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},NJ={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Ho=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const Vi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let MI=1234567;const Qc=Math.PI/180,bf=180/Math.PI;function as(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Vi[n&255]+Vi[n>>8&255]+Vi[n>>16&255]+Vi[n>>24&255]+"-"+Vi[e&255]+Vi[e>>8&255]+"-"+Vi[e>>16&15|64]+Vi[e>>24&255]+"-"+Vi[t&63|128]+Vi[t>>8&255]+"-"+Vi[t>>16&255]+Vi[t>>24&255]+Vi[i&255]+Vi[i>>8&255]+Vi[i>>16&255]+Vi[i>>24&255]).toLowerCase()}function Pt(n,e,t){return Math.max(e,Math.min(t,n))}function jT(n,e){return(n%e+e)%e}function OJ(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function UJ(n,e,t){return n!==e?(t-n)/(e-n):0}function _p(n,e,t){return(1-t)*n+t*e}function FJ(n,e,t,i){return _p(n,e,1-Math.exp(-t*i))}function zJ(n,e=1){return e-Math.abs(jT(n,e*2)-e)}function BJ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function VJ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function HJ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function GJ(n,e){return n+Math.random()*(e-n)}function WJ(n){return n*(.5-Math.random())}function jJ(n){n!==void 0&&(MI=n);let e=MI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function XJ(n){return n*Qc}function YJ(n){return n*bf}function qJ(n){return(n&n-1)===0&&n!==0}function KJ(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function $J(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function ZJ(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),f=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*d,l*f,a*c);break;case"YZY":n.set(l*f,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*f,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function dr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ot(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const kz={DEG2RAD:Qc,RAD2DEG:bf,generateUUID:as,clamp:Pt,euclideanModulo:jT,mapLinear:OJ,inverseLerp:UJ,lerp:_p,damp:FJ,pingpong:zJ,smoothstep:BJ,smootherstep:VJ,randInt:HJ,randFloat:GJ,randFloatSpread:WJ,seededRandom:jJ,degToRad:XJ,radToDeg:YJ,isPowerOfTwo:qJ,ceilPowerOfTwo:KJ,floorPowerOfTwo:$J,setQuaternionFromProperEuler:ZJ,normalize:Ot,denormalize:dr};class Fe{constructor(e=0,t=0){Fe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Pt(this.x,e.x,t.x),this.y=Pt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Pt(this.x,e,t),this.y=Pt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Pt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Pt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class $i{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const f=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=f,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(d!==y||l!==f||c!==m||u!==v){let x=1-a;const g=l*f+c*m+u*v+d*y,_=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const E=Math.sqrt(S),C=Math.atan2(E,g*_);x=Math.sin(x*C)/E,a=Math.sin(a*C)/E}const b=a*_;if(l=l*x+f*b,c=c*x+m*b,u=u*x+v*b,d=d*x+y*b,x===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=E,c*=E,u*=E,d*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],f=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+u*d+l*m-c*f,e[t+1]=l*v+u*f+c*d-a*m,e[t+2]=c*v+u*m+a*f-l*d,e[t+3]=u*v-a*d-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),f=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"YXZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"ZXY":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"ZYX":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"YZX":this._x=f*u*d+c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d-f*m*v;break;case"XZY":this._x=f*u*d-c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d+f*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=i+a+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class q{constructor(e=0,t=0,i=0){q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(EI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(EI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*t-s*r),d=2*(s*i-o*t);return this.x=t+l*c+o*d-a*u,this.y=i+l*u+a*c-s*d,this.z=r+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Pt(this.x,e.x,t.x),this.y=Pt(this.y,e.y,t.y),this.z=Pt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Pt(this.x,e,t),this.y=Pt(this.y,e,t),this.z=Pt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Pt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Rw.copy(this).projectOnVector(e),this.sub(Rw)}reflect(e){return this.sub(Rw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Pt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Rw=new q,EI=new $i;class At{constructor(e,t,i,r,s,o,a,l,c){At.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],m=i[5],v=i[8],y=r[0],x=r[3],g=r[6],_=r[1],S=r[4],b=r[7],E=r[2],C=r[5],P=r[8];return s[0]=o*y+a*_+l*E,s[3]=o*x+a*S+l*C,s[6]=o*g+a*b+l*P,s[1]=c*y+u*_+d*E,s[4]=c*x+u*S+d*C,s[7]=c*g+u*b+d*P,s[2]=f*y+m*_+v*E,s[5]=f*x+m*S+v*C,s[8]=f*g+m*b+v*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,m=c*s-o*l,v=t*d+i*f+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=d*y,e[1]=(r*c-u*i)*y,e[2]=(a*i-r*o)*y,e[3]=f*y,e[4]=(u*t-r*l)*y,e[5]=(r*s-a*t)*y,e[6]=m*y,e[7]=(i*l-c*t)*y,e[8]=(o*t-i*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Iw.makeScale(e,t)),this}rotate(e){return this.premultiply(Iw.makeRotation(-e)),this}translate(e,t){return this.premultiply(Iw.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Iw=new At;function Nz(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const QJ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Nd(n,e){return new QJ[n](e)}function pm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Oz(){const n=pm("canvas");return n.style.display="block",n}const TI={};function qd(n){n in TI||(TI[n]=!0,console.warn(n))}function JJ(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function eee(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function tee(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const CI=new At().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),AI=new At().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function nee(){const n={enabled:!0,workingColorSpace:hu,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===sn&&(r.r=ya(r.r),r.g=ya(r.g),r.b=ya(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===sn&&(r.r=Kd(r.r),r.g=Kd(r.g),r.b=Kd(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===ua?dm:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return qd("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return qd("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[hu]:{primaries:e,whitePoint:i,transfer:dm,toXYZ:CI,fromXYZ:AI,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Tr},outputColorSpaceConfig:{drawingBufferColorSpace:Tr}},[Tr]:{primaries:e,whitePoint:i,transfer:sn,toXYZ:CI,fromXYZ:AI,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Tr}}}),n}const $t=nee();function ya(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Kd(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Wu;class Uz{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Wu===void 0&&(Wu=pm("canvas")),Wu.width=e.width,Wu.height=e.height;const r=Wu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Wu}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=pm("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=ya(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ya(t[i]/255)*255):t[i]=ya(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let iee=0;class yl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:iee++}),this.uuid=as(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Dw(r[o].image)):s.push(Dw(r[o]))}else s=Dw(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Dw(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Uz.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ree=0;const Lw=new q;class An extends Ho{constructor(e=An.DEFAULT_IMAGE,t=An.DEFAULT_MAPPING,i=As,r=As,s=Wn,o=Co,a=Yi,l=Ns,c=An.DEFAULT_ANISOTROPY,u=ua){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ree++}),this.uuid=as(),this.name="",this.source=new yl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new At,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Lw).x}get height(){return this.source.getSize(Lw).y}get depth(){return this.source.getSize(Lw).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case am:e.x=e.x-Math.floor(e.x);break;case As:e.x=e.x<0?0:1;break;case lm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case am:e.y=e.y-Math.floor(e.y);break;case As:e.y=e.y<0?0:1;break;case lm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}An.DEFAULT_IMAGE=null;An.DEFAULT_MAPPING=Xx;An.DEFAULT_ANISOTROPY=1;class Kt{constructor(e=0,t=0,i=0,r=1){Kt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],m=l[5],v=l[9],y=l[2],x=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+y)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,b=(m+1)/2,E=(g+1)/2,C=(u+f)/4,P=(d+y)/4,R=(v+x)/4;return S>b&&S>E?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=C/i,s=P/i):b>E?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=C/r,s=R/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=P/s,r=R/s),this.set(i,r,s,t),this}let _=Math.sqrt((x-v)*(x-v)+(d-y)*(d-y)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(d-y)/_,this.z=(f-u)/_,this.w=Math.acos((c+m+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Pt(this.x,e.x,t.x),this.y=Pt(this.y,e.y,t.y),this.z=Pt(this.z,e.z,t.z),this.w=Pt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Pt(this.x,e,t),this.y=Pt(this.y,e,t),this.z=Pt(this.z,e,t),this.w=Pt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Pt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class XT extends Ho{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Wn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Kt(0,0,e,t),this.scissorTest=!1,this.viewport=new Kt(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new An(r);this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Wn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new yl(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fo extends XT{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class e1 extends An{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ai,this.minFilter=Ai,this.wrapR=As,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class see extends Fo{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new e1(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class t1 extends An{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ai,this.minFilter=Ai,this.wrapR=As,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oee extends Fo{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new t1(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class yi{constructor(e=new q(1/0,1/0,1/0),t=new q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Bs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Bs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Bs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Bs):Bs.fromBufferAttribute(s,o),Bs.applyMatrix4(e.matrixWorld),this.expandByPoint(Bs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),cv.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),cv.copy(i.boundingBox)),cv.applyMatrix4(e.matrixWorld),this.union(cv)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Bs),Bs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Th),uv.subVectors(this.max,Th),ju.subVectors(e.a,Th),Xu.subVectors(e.b,Th),Yu.subVectors(e.c,Th),Ka.subVectors(Xu,ju),$a.subVectors(Yu,Xu),fc.subVectors(ju,Yu);let t=[0,-Ka.z,Ka.y,0,-$a.z,$a.y,0,-fc.z,fc.y,Ka.z,0,-Ka.x,$a.z,0,-$a.x,fc.z,0,-fc.x,-Ka.y,Ka.x,0,-$a.y,$a.x,0,-fc.y,fc.x,0];return!kw(t,ju,Xu,Yu,uv)||(t=[1,0,0,0,1,0,0,0,1],!kw(t,ju,Xu,Yu,uv))?!1:(dv.crossVectors(Ka,$a),t=[dv.x,dv.y,dv.z],kw(t,ju,Xu,Yu,uv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Jo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Jo=[new q,new q,new q,new q,new q,new q,new q,new q],Bs=new q,cv=new yi,ju=new q,Xu=new q,Yu=new q,Ka=new q,$a=new q,fc=new q,Th=new q,uv=new q,dv=new q,hc=new q;function kw(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){hc.fromArray(n,s);const a=r.x*Math.abs(hc.x)+r.y*Math.abs(hc.y)+r.z*Math.abs(hc.z),l=e.dot(hc),c=t.dot(hc),u=i.dot(hc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const aee=new yi,Ch=new q,Nw=new q;class xi{constructor(e=new q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):aee.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ch.subVectors(e,this.center);const t=Ch.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Ch,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Nw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ch.copy(e.center).add(Nw)),this.expandByPoint(Ch.copy(e.center).sub(Nw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ea=new q,Ow=new q,fv=new q,Za=new q,Uw=new q,hv=new q,Fw=new q;class wu{constructor(e=new q,t=new q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ea)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ea.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ea.copy(this.origin).addScaledVector(this.direction,t),ea.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Ow.copy(e).add(t).multiplyScalar(.5),fv.copy(t).sub(e).normalize(),Za.copy(this.origin).sub(Ow);const s=e.distanceTo(t)*.5,o=-this.direction.dot(fv),a=Za.dot(this.direction),l=-Za.dot(fv),c=Za.lengthSq(),u=Math.abs(1-o*o);let d,f,m,v;if(u>0)if(d=o*l-a,f=o*a-l,v=s*u,d>=0)if(f>=-v)if(f<=v){const y=1/u;d*=y,f*=y,m=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f<=-v?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c):f<=v?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Ow).addScaledVector(fv,f),m}intersectSphere(e,t){ea.subVectors(e.center,this.origin);const i=ea.dot(this.direction),r=ea.dot(ea)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ea)!==null}intersectTriangle(e,t,i,r,s){Uw.subVectors(t,e),hv.subVectors(i,e),Fw.crossVectors(Uw,hv);let o=this.direction.dot(Fw),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Za.subVectors(this.origin,e);const l=a*this.direction.dot(hv.crossVectors(Za,hv));if(l<0)return null;const c=a*this.direction.dot(Uw.cross(Za));if(c<0||l+c>o)return null;const u=-a*Za.dot(Fw);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Mt{constructor(e,t,i,r,s,o,a,l,c,u,d,f,m,v,y,x){Mt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,u,d,f,m,v,y,x)}set(e,t,i,r,s,o,a,l,c,u,d,f,m,v,y,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=m,g[7]=v,g[11]=y,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/qu.setFromMatrixColumn(e,0).length(),s=1/qu.setFromMatrixColumn(e,1).length(),o=1/qu.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,m=o*d,v=a*u,y=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+v*c,t[5]=f-y*c,t[9]=-a*l,t[2]=y-f*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*u,m=l*d,v=c*u,y=c*d;t[0]=f+y*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-v,t[6]=y+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*u,m=l*d,v=c*u,y=c*d;t[0]=f-y*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*u,t[9]=y-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*u,m=o*d,v=a*u,y=a*d;t[0]=l*u,t[4]=v*c-m,t[8]=f*c+y,t[1]=l*d,t[5]=y*c+f,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=y-f*d,t[8]=v*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+v,t[10]=f-y*d}else if(e.order==="XZY"){const f=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+y,t[5]=o*u,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*u,t[10]=y*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(lee,e,cee)}lookAt(e,t,i){const r=this.elements;return qr.subVectors(e,t),qr.lengthSq()===0&&(qr.z=1),qr.normalize(),Qa.crossVectors(i,qr),Qa.lengthSq()===0&&(Math.abs(i.z)===1?qr.x+=1e-4:qr.z+=1e-4,qr.normalize(),Qa.crossVectors(i,qr)),Qa.normalize(),pv.crossVectors(qr,Qa),r[0]=Qa.x,r[4]=pv.x,r[8]=qr.x,r[1]=Qa.y,r[5]=pv.y,r[9]=qr.y,r[2]=Qa.z,r[6]=pv.z,r[10]=qr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],m=i[13],v=i[2],y=i[6],x=i[10],g=i[14],_=i[3],S=i[7],b=i[11],E=i[15],C=r[0],P=r[4],R=r[8],I=r[12],T=r[1],O=r[5],U=r[9],j=r[13],W=r[2],ee=r[6],K=r[10],ne=r[14],k=r[3],B=r[7],H=r[11],F=r[15];return s[0]=o*C+a*T+l*W+c*k,s[4]=o*P+a*O+l*ee+c*B,s[8]=o*R+a*U+l*K+c*H,s[12]=o*I+a*j+l*ne+c*F,s[1]=u*C+d*T+f*W+m*k,s[5]=u*P+d*O+f*ee+m*B,s[9]=u*R+d*U+f*K+m*H,s[13]=u*I+d*j+f*ne+m*F,s[2]=v*C+y*T+x*W+g*k,s[6]=v*P+y*O+x*ee+g*B,s[10]=v*R+y*U+x*K+g*H,s[14]=v*I+y*j+x*ne+g*F,s[3]=_*C+S*T+b*W+E*k,s[7]=_*P+S*O+b*ee+E*B,s[11]=_*R+S*U+b*K+E*H,s[15]=_*I+S*j+b*ne+E*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],m=e[14],v=e[3],y=e[7],x=e[11],g=e[15];return v*(+s*l*d-r*c*d-s*a*f+i*c*f+r*a*m-i*l*m)+y*(+t*l*m-t*c*f+s*o*f-r*o*m+r*c*u-s*l*u)+x*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*u-i*c*u)+g*(-r*a*u-t*l*d+t*a*f+r*o*d-i*o*f+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],m=e[11],v=e[12],y=e[13],x=e[14],g=e[15],_=d*x*c-y*f*c+y*l*m-a*x*m-d*l*g+a*f*g,S=v*f*c-u*x*c-v*l*m+o*x*m+u*l*g-o*f*g,b=u*y*c-v*d*c+v*a*m-o*y*m-u*a*g+o*d*g,E=v*d*l-u*y*l-v*a*f+o*y*f+u*a*x-o*d*x,C=t*_+i*S+r*b+s*E;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=_*P,e[1]=(y*f*s-d*x*s-y*r*m+i*x*m+d*r*g-i*f*g)*P,e[2]=(a*x*s-y*l*s+y*r*c-i*x*c-a*r*g+i*l*g)*P,e[3]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*m-i*l*m)*P,e[4]=S*P,e[5]=(u*x*s-v*f*s+v*r*m-t*x*m-u*r*g+t*f*g)*P,e[6]=(v*l*s-o*x*s-v*r*c+t*x*c+o*r*g-t*l*g)*P,e[7]=(o*f*s-u*l*s+u*r*c-t*f*c-o*r*m+t*l*m)*P,e[8]=b*P,e[9]=(v*d*s-u*y*s-v*i*m+t*y*m+u*i*g-t*d*g)*P,e[10]=(o*y*s-v*a*s+v*i*c-t*y*c-o*i*g+t*a*g)*P,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*m-t*a*m)*P,e[12]=E*P,e[13]=(u*y*r-v*d*r+v*i*f-t*y*f-u*i*x+t*d*x)*P,e[14]=(v*a*r-o*y*r-v*i*l+t*y*l+o*i*x-t*a*x)*P,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*f+t*a*f)*P,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,f=s*c,m=s*u,v=s*d,y=o*u,x=o*d,g=a*d,_=l*c,S=l*u,b=l*d,E=i.x,C=i.y,P=i.z;return r[0]=(1-(y+g))*E,r[1]=(m+b)*E,r[2]=(v-S)*E,r[3]=0,r[4]=(m-b)*C,r[5]=(1-(f+g))*C,r[6]=(x+_)*C,r[7]=0,r[8]=(v+S)*P,r[9]=(x-_)*P,r[10]=(1-(f+y))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=qu.set(r[0],r[1],r[2]).length();const o=qu.set(r[4],r[5],r[6]).length(),a=qu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Vs.copy(this);const c=1/s,u=1/o,d=1/a;return Vs.elements[0]*=c,Vs.elements[1]*=c,Vs.elements[2]*=c,Vs.elements[4]*=u,Vs.elements[5]*=u,Vs.elements[6]*=u,Vs.elements[8]*=d,Vs.elements[9]*=d,Vs.elements[10]*=d,t.setFromRotationMatrix(Vs),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Ps){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),f=(i+r)/(i-r);let m,v;if(a===Ps)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===hm)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Ps){const l=this.elements,c=1/(t-e),u=1/(i-r),d=1/(o-s),f=(t+e)*c,m=(i+r)*u;let v,y;if(a===Ps)v=(o+s)*d,y=-2*d;else if(a===hm)v=s*d,y=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const qu=new q,Vs=new Mt,lee=new q(0,0,0),cee=new q(1,1,1),Qa=new q,pv=new q,qr=new q,PI=new Mt,RI=new $i;class cs{constructor(e=0,t=0,i=0,r=cs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],f=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Pt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Pt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Pt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Pt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return PI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(PI,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return RI.setFromEuler(this),this.setFromQuaternion(RI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cs.DEFAULT_ORDER="XYZ";class Jc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let uee=0;const II=new q,Ku=new $i,ta=new Mt,mv=new q,Ah=new q,dee=new q,fee=new $i,DI=new q(1,0,0),LI=new q(0,1,0),kI=new q(0,0,1),NI={type:"added"},hee={type:"removed"},$u={type:"childadded",child:null},zw={type:"childremoved",child:null};class en extends Ho{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:uee++}),this.uuid=as(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DEFAULT_UP.clone();const e=new q,t=new cs,i=new $i,r=new q(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Mt},normalMatrix:{value:new At}}),this.matrix=new Mt,this.matrixWorld=new Mt,this.matrixAutoUpdate=en.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Jc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ku.setFromAxisAngle(e,t),this.quaternion.multiply(Ku),this}rotateOnWorldAxis(e,t){return Ku.setFromAxisAngle(e,t),this.quaternion.premultiply(Ku),this}rotateX(e){return this.rotateOnAxis(DI,e)}rotateY(e){return this.rotateOnAxis(LI,e)}rotateZ(e){return this.rotateOnAxis(kI,e)}translateOnAxis(e,t){return II.copy(e).applyQuaternion(this.quaternion),this.position.add(II.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(DI,e)}translateY(e){return this.translateOnAxis(LI,e)}translateZ(e){return this.translateOnAxis(kI,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ta.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?mv.copy(e):mv.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ah.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ta.lookAt(Ah,mv,this.up):ta.lookAt(mv,Ah,this.up),this.quaternion.setFromRotationMatrix(ta),r&&(ta.extractRotation(r.matrixWorld),Ku.setFromRotationMatrix(ta),this.quaternion.premultiply(Ku.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(NI),$u.child=e,this.dispatchEvent($u),$u.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(hee),zw.child=e,this.dispatchEvent(zw),zw.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ta.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ta.multiply(e.parent.matrixWorld)),e.applyMatrix4(ta),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(NI),$u.child=e,this.dispatchEvent($u),$u.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ah,e,dee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ah,fee,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(a=>({...a})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}en.DEFAULT_UP=new q(0,1,0);en.DEFAULT_MATRIX_AUTO_UPDATE=!0;en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Hs=new q,na=new q,Bw=new q,ia=new q,Zu=new q,Qu=new q,OI=new q,Vw=new q,Hw=new q,Gw=new q,Ww=new Kt,jw=new Kt,Xw=new Kt;class Ar{constructor(e=new q,t=new q,i=new q){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Hs.subVectors(e,t),r.cross(Hs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Hs.subVectors(r,t),na.subVectors(i,t),Bw.subVectors(e,t);const o=Hs.dot(Hs),a=Hs.dot(na),l=Hs.dot(Bw),c=na.dot(na),u=na.dot(Bw),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const f=1/d,m=(c*l-a*u)*f,v=(o*u-a*l)*f;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ia)===null?!1:ia.x>=0&&ia.y>=0&&ia.x+ia.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,ia)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ia.x),l.addScaledVector(o,ia.y),l.addScaledVector(a,ia.z),l)}static getInterpolatedAttribute(e,t,i,r,s,o){return Ww.setScalar(0),jw.setScalar(0),Xw.setScalar(0),Ww.fromBufferAttribute(e,t),jw.fromBufferAttribute(e,i),Xw.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(Ww,s.x),o.addScaledVector(jw,s.y),o.addScaledVector(Xw,s.z),o}static isFrontFacing(e,t,i,r){return Hs.subVectors(i,t),na.subVectors(e,t),Hs.cross(na).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Hs.subVectors(this.c,this.b),na.subVectors(this.a,this.b),Hs.cross(na).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ar.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ar.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Ar.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ar.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ar.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Zu.subVectors(r,i),Qu.subVectors(s,i),Vw.subVectors(e,i);const l=Zu.dot(Vw),c=Qu.dot(Vw);if(l<=0&&c<=0)return t.copy(i);Hw.subVectors(e,r);const u=Zu.dot(Hw),d=Qu.dot(Hw);if(u>=0&&d<=u)return t.copy(r);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Zu,o);Gw.subVectors(e,s);const m=Zu.dot(Gw),v=Qu.dot(Gw);if(v>=0&&m<=v)return t.copy(s);const y=m*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(Qu,a);const x=u*v-m*d;if(x<=0&&d-u>=0&&m-v>=0)return OI.subVectors(s,r),a=(d-u)/(d-u+(m-v)),t.copy(r).addScaledVector(OI,a);const g=1/(x+y+f);return o=y*g,a=f*g,t.copy(i).addScaledVector(Zu,o).addScaledVector(Qu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Fz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ja={h:0,s:0,l:0},gv={h:0,s:0,l:0};function Yw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class at{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Tr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$t.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=$t.workingColorSpace){return this.r=e,this.g=t,this.b=i,$t.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=$t.workingColorSpace){if(e=jT(e,1),t=Pt(t,0,1),i=Pt(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Yw(o,s,e+1/3),this.g=Yw(o,s,e),this.b=Yw(o,s,e-1/3)}return $t.colorSpaceToWorking(this,r),this}setStyle(e,t=Tr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Tr){const i=Fz[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ya(e.r),this.g=ya(e.g),this.b=ya(e.b),this}copyLinearToSRGB(e){return this.r=Kd(e.r),this.g=Kd(e.g),this.b=Kd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Tr){return $t.workingToColorSpace(Hi.copy(this),e),Math.round(Pt(Hi.r*255,0,255))*65536+Math.round(Pt(Hi.g*255,0,255))*256+Math.round(Pt(Hi.b*255,0,255))}getHexString(e=Tr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=$t.workingColorSpace){$t.workingToColorSpace(Hi.copy(this),t);const i=Hi.r,r=Hi.g,s=Hi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=$t.workingColorSpace){return $t.workingToColorSpace(Hi.copy(this),t),e.r=Hi.r,e.g=Hi.g,e.b=Hi.b,e}getStyle(e=Tr){$t.workingToColorSpace(Hi.copy(this),e);const t=Hi.r,i=Hi.g,r=Hi.b;return e!==Tr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Ja),this.setHSL(Ja.h+e,Ja.s+t,Ja.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ja),e.getHSL(gv);const i=_p(Ja.h,gv.h,t),r=_p(Ja.s,gv.s,t),s=_p(Ja.l,gv.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Hi=new at;at.NAMES=Fz;let pee=0;class Qi extends Ho{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pee++}),this.uuid=as(),this.name="",this.type="Material",this.blending=Zc,this.side=Ca,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=b0,this.blendDst=M0,this.blendEquation=ll,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new at(0,0,0),this.blendAlpha=0,this.depthFunc=fu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dc,this.stencilZFail=Dc,this.stencilZPass=Dc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Zc&&(i.blending=this.blending),this.side!==Ca&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==b0&&(i.blendSrc=this.blendSrc),this.blendDst!==M0&&(i.blendDst=this.blendDst),this.blendEquation!==ll&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==fu&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==vM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Dc&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Dc&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Dc&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class La extends Qi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.combine=Um,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const da=mee();function mee(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Er(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Pt(n,-65504,65504),da.floatView[0]=n;const e=da.uint32View[0],t=e>>23&511;return da.baseTable[t]+((e&8388607)>>da.shiftTable[t])}function Xh(n){const e=n>>10;return da.uint32View[0]=da.mantissaTable[da.offsetTable[e]+(n&1023)]+da.exponentTable[e],da.floatView[0]}class gee{static toHalfFloat(e){return Er(e)}static fromHalfFloat(e){return Xh(e)}}const Zn=new q,vv=new Fe;let vee=0;class an{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:vee++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=fm,this.updateRanges=[],this.gpuType=Dr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)vv.fromBufferAttribute(this,t),vv.applyMatrix3(e),this.setXY(t,vv.x,vv.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Zn.fromBufferAttribute(this,t),Zn.applyMatrix3(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Zn.fromBufferAttribute(this,t),Zn.applyMatrix4(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Zn.fromBufferAttribute(this,t),Zn.applyNormalMatrix(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Zn.fromBufferAttribute(this,t),Zn.transformDirection(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=dr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ot(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=dr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=dr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=dr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=dr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array),s=Ot(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==fm&&(e.usage=this.usage),e}}class yee extends an{constructor(e,t,i){super(new Int8Array(e),t,i)}}class xee extends an{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class _ee extends an{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class wee extends an{constructor(e,t,i){super(new Int16Array(e),t,i)}}class YT extends an{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class See extends an{constructor(e,t,i){super(new Int32Array(e),t,i)}}class qT extends an{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class bee extends an{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Xh(this.array[e*this.itemSize]);return this.normalized&&(t=dr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=Er(t),this}getY(e){let t=Xh(this.array[e*this.itemSize+1]);return this.normalized&&(t=dr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=Er(t),this}getZ(e){let t=Xh(this.array[e*this.itemSize+2]);return this.normalized&&(t=dr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=Er(t),this}getW(e){let t=Xh(this.array[e*this.itemSize+3]);return this.normalized&&(t=dr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=Er(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array)),this.array[e+0]=Er(t),this.array[e+1]=Er(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array)),this.array[e+0]=Er(t),this.array[e+1]=Er(i),this.array[e+2]=Er(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array),s=Ot(s,this.array)),this.array[e+0]=Er(t),this.array[e+1]=Er(i),this.array[e+2]=Er(r),this.array[e+3]=Er(s),this}}class mt extends an{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Mee=0;const Ss=new Mt,qw=new en,Ju=new q,Kr=new yi,Ph=new yi,pi=new q;class Ut extends Ho{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Mee++}),this.uuid=as(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Nz(e)?qT:YT)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new At().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ss.makeRotationFromQuaternion(e),this.applyMatrix4(Ss),this}rotateX(e){return Ss.makeRotationX(e),this.applyMatrix4(Ss),this}rotateY(e){return Ss.makeRotationY(e),this.applyMatrix4(Ss),this}rotateZ(e){return Ss.makeRotationZ(e),this.applyMatrix4(Ss),this}translate(e,t,i){return Ss.makeTranslation(e,t,i),this.applyMatrix4(Ss),this}scale(e,t,i){return Ss.makeScale(e,t,i),this.applyMatrix4(Ss),this}lookAt(e){return qw.lookAt(e),qw.updateMatrix(),this.applyMatrix4(qw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ju).negate(),this.translate(Ju.x,Ju.y,Ju.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new mt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new yi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new q(-1/0,-1/0,-1/0),new q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Kr.setFromBufferAttribute(s),this.morphTargetsRelative?(pi.addVectors(this.boundingBox.min,Kr.min),this.boundingBox.expandByPoint(pi),pi.addVectors(this.boundingBox.max,Kr.max),this.boundingBox.expandByPoint(pi)):(this.boundingBox.expandByPoint(Kr.min),this.boundingBox.expandByPoint(Kr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new q,1/0);return}if(e){const i=this.boundingSphere.center;if(Kr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Ph.setFromBufferAttribute(a),this.morphTargetsRelative?(pi.addVectors(Kr.min,Ph.min),Kr.expandByPoint(pi),pi.addVectors(Kr.max,Ph.max),Kr.expandByPoint(pi)):(Kr.expandByPoint(Ph.min),Kr.expandByPoint(Ph.max))}Kr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)pi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(pi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)pi.fromBufferAttribute(a,c),l&&(Ju.fromBufferAttribute(e,c),pi.add(Ju)),r=Math.max(r,i.distanceToSquared(pi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new an(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let R=0;R<i.count;R++)a[R]=new q,l[R]=new q;const c=new q,u=new q,d=new q,f=new Fe,m=new Fe,v=new Fe,y=new q,x=new q;function g(R,I,T){c.fromBufferAttribute(i,R),u.fromBufferAttribute(i,I),d.fromBufferAttribute(i,T),f.fromBufferAttribute(s,R),m.fromBufferAttribute(s,I),v.fromBufferAttribute(s,T),u.sub(c),d.sub(c),m.sub(f),v.sub(f);const O=1/(m.x*v.y-v.x*m.y);isFinite(O)&&(y.copy(u).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(O),x.copy(d).multiplyScalar(m.x).addScaledVector(u,-v.x).multiplyScalar(O),a[R].add(y),a[I].add(y),a[T].add(y),l[R].add(x),l[I].add(x),l[T].add(x))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let R=0,I=_.length;R<I;++R){const T=_[R],O=T.start,U=T.count;for(let j=O,W=O+U;j<W;j+=3)g(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const S=new q,b=new q,E=new q,C=new q;function P(R){E.fromBufferAttribute(r,R),C.copy(E);const I=a[R];S.copy(I),S.sub(E.multiplyScalar(E.dot(I))).normalize(),b.crossVectors(C,I);const O=b.dot(l[R])<0?-1:1;o.setXYZW(R,S.x,S.y,S.z,O)}for(let R=0,I=_.length;R<I;++R){const T=_[R],O=T.start,U=T.count;for(let j=O,W=O+U;j<W;j+=3)P(e.getX(j+0)),P(e.getX(j+1)),P(e.getX(j+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new an(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let f=0,m=i.count;f<m;f++)i.setXYZ(f,0,0,0);const r=new q,s=new q,o=new q,a=new q,l=new q,c=new q,u=new q,d=new q;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),y=e.getX(f+1),x=e.getX(f+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,y),c.fromBufferAttribute(i,x),a.add(u),l.add(u),c.add(u),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,m=t.count;f<m;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)pi.fromBufferAttribute(e,t),pi.normalize(),e.setXYZ(t,pi.x,pi.y,pi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let m=0,v=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let g=0;g<u;g++)f[v++]=c[m++]}return new an(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ut,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],m=e(f,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,m=d.length;f<m;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const UI=new Mt,pc=new wu,yv=new xi,FI=new q,xv=new q,_v=new q,wv=new q,Kw=new q,Sv=new q,zI=new q,bv=new q;class Tn extends en{constructor(e=new Ut,t=new La){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Sv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(Kw.fromBufferAttribute(d,e),o?Sv.addScaledVector(Kw,u):Sv.addScaledVector(Kw.sub(t),u))}t.add(Sv)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),yv.copy(i.boundingSphere),yv.applyMatrix4(s),pc.copy(e.ray).recast(e.near),!(yv.containsPoint(pc.origin)===!1&&(pc.intersectSphere(yv,FI)===null||pc.origin.distanceToSquared(FI)>(e.far-e.near)**2))&&(UI.copy(s).invert(),pc.copy(e.ray).applyMatrix4(UI),!(i.boundingBox!==null&&pc.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,pc)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,y=f.length;v<y;v++){const x=f[v],g=o[x.materialIndex],_=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let b=_,E=S;b<E;b+=3){const C=a.getX(b),P=a.getX(b+1),R=a.getX(b+2);r=Mv(this,g,e,i,c,u,d,C,P,R),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let x=v,g=y;x<g;x+=3){const _=a.getX(x),S=a.getX(x+1),b=a.getX(x+2);r=Mv(this,o,e,i,c,u,d,_,S,b),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,y=f.length;v<y;v++){const x=f[v],g=o[x.materialIndex],_=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let b=_,E=S;b<E;b+=3){const C=b,P=b+1,R=b+2;r=Mv(this,g,e,i,c,u,d,C,P,R),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=v,g=y;x<g;x+=3){const _=x,S=x+1,b=x+2;r=Mv(this,o,e,i,c,u,d,_,S,b),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function Eee(n,e,t,i,r,s,o,a){let l;if(e.side===mr?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Ca,a),l===null)return null;bv.copy(a),bv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(bv);return c<t.near||c>t.far?null:{distance:c,point:bv.clone(),object:n}}function Mv(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,xv),n.getVertexPosition(l,_v),n.getVertexPosition(c,wv);const u=Eee(n,e,t,i,xv,_v,wv,zI);if(u){const d=new q;Ar.getBarycoord(zI,xv,_v,wv,d),r&&(u.uv=Ar.getInterpolatedAttribute(r,a,l,c,d,new Fe)),s&&(u.uv1=Ar.getInterpolatedAttribute(s,a,l,c,d,new Fe)),o&&(u.normal=Ar.getInterpolatedAttribute(o,a,l,c,d,new q),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new q,materialIndex:0};Ar.getNormal(xv,_v,wv,f.normal),u.face=f,u.barycoord=d}return u}class Su extends Ut{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new mt(c,3)),this.setAttribute("normal",new mt(u,3)),this.setAttribute("uv",new mt(d,2));function v(y,x,g,_,S,b,E,C,P,R,I){const T=b/P,O=E/R,U=b/2,j=E/2,W=C/2,ee=P+1,K=R+1;let ne=0,k=0;const B=new q;for(let H=0;H<K;H++){const F=H*O-j;for(let Y=0;Y<ee;Y++){const ie=Y*T-U;B[y]=ie*_,B[x]=F*S,B[g]=W,c.push(B.x,B.y,B.z),B[y]=0,B[x]=0,B[g]=C>0?1:-1,u.push(B.x,B.y,B.z),d.push(Y/P),d.push(1-H/R),ne+=1}}for(let H=0;H<R;H++)for(let F=0;F<P;F++){const Y=f+F+ee*H,ie=f+F+ee*(H+1),$=f+(F+1)+ee*(H+1),te=f+(F+1)+ee*H;l.push(Y,ie,te),l.push(ie,$,te),k+=6}a.addGroup(m,k,I),m+=k,f+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Su(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Mf(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ar(n){const e={};for(let t=0;t<n.length;t++){const i=Mf(n[t]);for(const r in i)e[r]=i[r]}return e}function Tee(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function zz(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:$t.workingColorSpace}const KT={clone:Mf,merge:ar};var Cee=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Aee=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class uo extends Qi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Cee,this.fragmentShader=Aee,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Mf(e.uniforms),this.uniformsGroups=Tee(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class zm extends en{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Mt,this.projectionMatrix=new Mt,this.projectionMatrixInverse=new Mt,this.coordinateSystem=Ps}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const el=new q,BI=new Fe,VI=new Fe;class Hn extends zm{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=bf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Qc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return bf*2*Math.atan(Math.tan(Qc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){el.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(el.x,el.y).multiplyScalar(-e/el.z),el.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(el.x,el.y).multiplyScalar(-e/el.z)}getViewSize(e,t){return this.getViewBounds(e,BI,VI),t.subVectors(VI,BI)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Qc*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ed=-90,td=1;class Bz extends en{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Hn(ed,td,e,t);r.layers=this.layers,this.add(r);const s=new Hn(ed,td,e,t);s.layers=this.layers,this.add(s);const o=new Hn(ed,td,e,t);o.layers=this.layers,this.add(o);const a=new Hn(ed,td,e,t);a.layers=this.layers,this.add(a);const l=new Hn(ed,td,e,t);l.layers=this.layers,this.add(l);const c=new Hn(ed,td,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Ps)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===hm)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const y=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=y,e.setRenderTarget(i,5,r),e.render(t,u),e.setRenderTarget(d,f,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class Bm extends An{constructor(e=[],t=Aa,i,r,s,o,a,l,c,u){super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Vz extends Fo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Bm(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Su(5,5,5),s=new uo({name:"CubemapFromEquirect",uniforms:Mf(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:mr,blending:va});s.uniforms.tEquirect.value=t;const o=new Tn(r,s),a=t.minFilter;return t.minFilter===Co&&(t.minFilter=Wn),new Bz(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}class Od extends en{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Pee={type:"move"};class Ay{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Od,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Od,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Od,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,i),g=this._getHandJoint(c,y);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&f>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Pee)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Od;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class n1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new at(e),this.density=t}clone(){return new n1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class i1{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new at(e),this.near=t,this.far=i}clone(){return new i1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class $T extends en{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cs,this.environmentIntensity=1,this.environmentRotation=new cs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class r1{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=fm,this.updateRanges=[],this.version=0,this.uuid=as()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const sr=new q;class pu{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)sr.fromBufferAttribute(this,t),sr.applyMatrix4(e),this.setXYZ(t,sr.x,sr.y,sr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)sr.fromBufferAttribute(this,t),sr.applyNormalMatrix(e),this.setXYZ(t,sr.x,sr.y,sr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)sr.fromBufferAttribute(this,t),sr.transformDirection(e),this.setXYZ(t,sr.x,sr.y,sr.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=dr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ot(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=dr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=dr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=dr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=dr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),i=Ot(i,this.array),r=Ot(r,this.array),s=Ot(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new an(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ZT extends Qi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let nd;const Rh=new q,id=new q,rd=new q,sd=new Fe,Ih=new Fe,Hz=new Mt,Ev=new q,Dh=new q,Tv=new q,HI=new Fe,$w=new Fe,GI=new Fe;class Gz extends en{constructor(e=new ZT){if(super(),this.isSprite=!0,this.type="Sprite",nd===void 0){nd=new Ut;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new r1(t,5);nd.setIndex([0,1,2,0,2,3]),nd.setAttribute("position",new pu(i,3,0,!1)),nd.setAttribute("uv",new pu(i,2,3,!1))}this.geometry=nd,this.material=e,this.center=new Fe(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),id.setFromMatrixScale(this.matrixWorld),Hz.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),rd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&id.multiplyScalar(-rd.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Cv(Ev.set(-.5,-.5,0),rd,o,id,r,s),Cv(Dh.set(.5,-.5,0),rd,o,id,r,s),Cv(Tv.set(.5,.5,0),rd,o,id,r,s),HI.set(0,0),$w.set(1,0),GI.set(1,1);let a=e.ray.intersectTriangle(Ev,Dh,Tv,!1,Rh);if(a===null&&(Cv(Dh.set(-.5,.5,0),rd,o,id,r,s),$w.set(0,1),a=e.ray.intersectTriangle(Ev,Tv,Dh,!1,Rh),a===null))return;const l=e.ray.origin.distanceTo(Rh);l<e.near||l>e.far||t.push({distance:l,point:Rh.clone(),uv:Ar.getInterpolation(Rh,Ev,Dh,Tv,HI,$w,GI,new Fe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Cv(n,e,t,i,r,s){sd.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Ih.x=s*sd.x-r*sd.y,Ih.y=r*sd.x+s*sd.y):Ih.copy(sd),n.copy(e),n.x+=Ih.x,n.y+=Ih.y,n.applyMatrix4(Hz)}const Av=new q,WI=new q;class Wz extends en{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Av.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Av);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Av.setFromMatrixPosition(e.matrixWorld),WI.setFromMatrixPosition(this.matrixWorld);const i=Av.distanceTo(WI)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const jI=new q,XI=new Kt,YI=new Kt,Ree=new q,qI=new Mt,Pv=new q,Zw=new xi,KI=new Mt,Qw=new wu;class jz extends Tn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=gM,this.bindMatrix=new Mt,this.bindMatrixInverse=new Mt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new yi),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Pv),this.boundingBox.expandByPoint(Pv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new xi),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Pv),this.boundingSphere.expandByPoint(Pv)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Zw.copy(this.boundingSphere),Zw.applyMatrix4(r),e.ray.intersectsSphere(Zw)!==!1&&(KI.copy(r).invert(),Qw.copy(e.ray).applyMatrix4(KI),!(this.boundingBox!==null&&Qw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Qw)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===gM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===wz?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;XI.fromBufferAttribute(r.attributes.skinIndex,e),YI.fromBufferAttribute(r.attributes.skinWeight,e),jI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=YI.getComponent(s);if(o!==0){const a=XI.getComponent(s);qI.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(Ree.copy(jI).applyMatrix4(qI),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class QT extends en{constructor(){super(),this.isBone=!0,this.type="Bone"}}class No extends An{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Ai,u=Ai,d,f){super(null,o,a,l,c,u,r,s,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $I=new Mt,Iee=new Mt;class s1{constructor(e=[],t=[]){this.uuid=as(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Mt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Mt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Iee;$I.multiplyMatrices(a,t[s]),$I.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new s1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new No(t,e,e,Yi,Dr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new QT),this.bones.push(o),this.boneInverses.push(new Mt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class mu extends an{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const od=new Mt,ZI=new Mt,Rv=[],QI=new yi,Dee=new Mt,Lh=new Tn,kh=new xi;class Xz extends Tn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new mu(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Dee)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new yi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,od),QI.copy(e.boundingBox).applyMatrix4(od),this.boundingBox.union(QI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new xi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,od),kh.copy(e.boundingSphere).applyMatrix4(od),this.boundingSphere.union(kh)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Lh.geometry=this.geometry,Lh.material=this.material,Lh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),kh.copy(this.boundingSphere),kh.applyMatrix4(i),e.ray.intersectsSphere(kh)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,od),ZI.multiplyMatrices(i,od),Lh.matrixWorld=ZI,Lh.raycast(e,Rv);for(let o=0,a=Rv.length;o<a;o++){const l=Rv[o];l.instanceId=s,l.object=this,t.push(l)}Rv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new mu(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new No(new Float32Array(r*this.count),r,this.count,$x,Dr));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Jw=new q,Lee=new q,kee=new At;class ca{constructor(e=new q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Jw.subVectors(i,t).cross(Lee.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Jw),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||kee.getNormalMatrix(e),r=this.coplanarPoint(Jw).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const mc=new xi,Nee=new Fe(.5,.5),Iv=new q;class Bf{constructor(e=new ca,t=new ca,i=new ca,r=new ca,s=new ca,o=new ca){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ps){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],f=r[7],m=r[8],v=r[9],y=r[10],x=r[11],g=r[12],_=r[13],S=r[14],b=r[15];if(i[0].setComponents(l-s,f-c,x-m,b-g).normalize(),i[1].setComponents(l+s,f+c,x+m,b+g).normalize(),i[2].setComponents(l+o,f+u,x+v,b+_).normalize(),i[3].setComponents(l-o,f-u,x-v,b-_).normalize(),i[4].setComponents(l-a,f-d,x-y,b-S).normalize(),t===Ps)i[5].setComponents(l+a,f+d,x+y,b+S).normalize();else if(t===hm)i[5].setComponents(a,d,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),mc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),mc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(mc)}intersectsSprite(e){mc.center.set(0,0,0);const t=Nee.distanceTo(e.center);return mc.radius=.7071067811865476+t,mc.applyMatrix4(e.matrixWorld),this.intersectsSphere(mc)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Iv.x=r.normal.x>0?e.max.x:e.min.x,Iv.y=r.normal.y>0?e.max.y:e.min.y,Iv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Iv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const _o=new Mt,wo=new Bf;class o1{constructor(){this.coordinateSystem=Ps}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_o.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wo.setFromProjectionMatrix(_o,this.coordinateSystem),wo.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_o.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wo.setFromProjectionMatrix(_o,this.coordinateSystem),wo.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_o.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wo.setFromProjectionMatrix(_o,this.coordinateSystem),wo.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_o.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wo.setFromProjectionMatrix(_o,this.coordinateSystem),wo.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_o.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wo.setFromProjectionMatrix(_o,this.coordinateSystem),wo.containsPoint(e))return!0}return!1}clone(){return new o1}}function eS(n,e){return n-e}function Oee(n,e){return n.z-e.z}function Uee(n,e){return e.z-n.z}class Fee{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=i,a.index=r}reset(){this.list.length=0,this.index=0}}const Mr=new Mt,zee=new at(1,1,1),JI=new Bf,Bee=new o1,Dv=new yi,gc=new xi,Nh=new q,e3=new q,Vee=new q,tS=new Fee,Gi=new Tn,Lv=[];function Hee(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function vc(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Yz extends Tn{constructor(e,t,i=t*2,r){super(new Ut,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new No(t,e,e,Yi,Dr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new No(t,e,e,Fm,Pa);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new No(t,e,e,Yi,Dr);i.colorSpace=$t.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,u=new a.constructor(i*l),d=new an(u,l,c);t.setAttribute(s,d)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new an(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new yi);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Mr),this.getBoundingBoxAt(s,Dv).applyMatrix4(Mr),e.union(Dv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xi);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Mr),this.getBoundingSphereAt(s,gc).applyMatrix4(Mr),e.union(gc)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(eS),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Mr.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(zee.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(eS),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(r&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const u in i.attributes){const d=t.getAttribute(u),f=i.getAttribute(u);Hee(d,f,l);const m=d.itemSize;for(let v=d.count,y=c;v<y;v++){const x=l+v;for(let g=0;g<m;g++)f.setComponent(x,g,0)}f.needsUpdate=!0,f.addUpdateRange(l*m,c*m)}if(r){const u=a.indexStart,d=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let f=0;f<o.count;f++)s.setX(u+f,l+o.getX(f));for(let f=o.count,m=d;f<m;f++)s.setX(u+f,l);s.needsUpdate=!0,s.addUpdateRange(u,a.reservedIndexCount)}return a.start=r?a.indexStart:a.vertexStart,a.count=r?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,a)=>a).sort((o,a)=>i[o].vertexStart-i[a].vertexStart),s=this.geometry;for(let o=0,a=i.length;o<a;o++){const l=r[o],c=i[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:u,vertexStart:d,reservedIndexCount:f}=c,m=s.index,v=m.array,y=e-d;for(let x=u;x<u+f;x++)v[x]=v[x]+y;m.array.copyWithin(t,u,u+f),m.addUpdateRange(t,f),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:d}=c,f=s.attributes;for(const m in f){const v=f[m],{array:y,itemSize:x}=v;y.copyWithin(e*x,u*x,(u+d)*x),v.addUpdateRange(e*x,d*x)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new yi,o=i.index,a=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let u=l;o&&(u=o.getX(u)),s.expandByPoint(Nh.fromBufferAttribute(a,u))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new xi;this.getBoundingBoxAt(e,Dv),Dv.getCenter(s.center);const o=i.index,a=i.attributes.position;let l=0;for(let c=r.start,u=r.start+r.count;c<u;c++){let d=c;o&&(d=o.getX(d)),Nh.fromBufferAttribute(a,d),l=Math.max(l,s.center.distanceToSquared(Nh))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(eS);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);vc(this._multiDrawCounts,r),vc(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),vc(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),vc(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),vc(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...i.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ut,this._initializeGeometry(s));const o=this.geometry;s.index&&vc(s.index.array,o.index.array);for(const a in s.attributes)vc(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Gi.material=this.material,Gi.geometry.index=o.index,Gi.geometry.attributes=o.attributes,Gi.geometry.boundingBox===null&&(Gi.geometry.boundingBox=new yi),Gi.geometry.boundingSphere===null&&(Gi.geometry.boundingSphere=new xi);for(let a=0,l=i.length;a<l;a++){if(!i[a].visible||!i[a].active)continue;const c=i[a].geometryIndex,u=r[c];Gi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(a,Gi.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Gi.geometry.boundingBox),this.getBoundingSphereAt(c,Gi.geometry.boundingSphere),Gi.raycast(e,Lv);for(let d=0,f=Lv.length;d<f;d++){const m=Lv[d];m.object=this,m.batchId=a,t.push(m)}Lv.length=0}Gi.material=null,Gi.geometry.index=null,Gi.geometry.attributes={},Gi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._geometryInfo,f=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,y=i.isArrayCamera?Bee:JI;f&&!i.isArrayCamera&&(Mr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),JI.setFromProjectionMatrix(Mr,e.coordinateSystem));let x=0;if(this.sortObjects){Mr.copy(this.matrixWorld).invert(),Nh.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Mr),e3.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Mr);for(let S=0,b=l.length;S<b;S++)if(l[S].visible&&l[S].active){const E=l[S].geometryIndex;this.getMatrixAt(S,Mr),this.getBoundingSphereAt(E,gc).applyMatrix4(Mr);let C=!1;if(f&&(C=!y.intersectsSphere(gc,i)),!C){const P=d[E],R=Vee.subVectors(gc.center,Nh).dot(e3);tS.push(P.start,P.count,R,S)}}const g=tS.list,_=this.customSort;_===null?g.sort(s.transparent?Uee:Oee):_.call(this,g,i);for(let S=0,b=g.length;S<b;S++){const E=g[S];c[x]=E.start*a,u[x]=E.count,v[x]=E.index,x++}tS.reset()}else for(let g=0,_=l.length;g<_;g++)if(l[g].visible&&l[g].active){const S=l[g].geometryIndex;let b=!1;if(f&&(this.getMatrixAt(g,Mr),this.getBoundingSphereAt(S,gc).applyMatrix4(Mr),b=!y.intersectsSphere(gc,i)),!b){const E=d[S];c[x]=E.start*a,u[x]=E.count,v[x]=g,x++}}m.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class yr extends Qi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new at(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const sx=new q,ox=new q,t3=new Mt,Oh=new wu,kv=new xi,nS=new q,n3=new q;class zl extends en{constructor(e=new Ut,t=new yr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)sx.fromBufferAttribute(t,r-1),ox.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=sx.distanceTo(ox);e.setAttribute("lineDistance",new mt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),kv.copy(i.boundingSphere),kv.applyMatrix4(r),kv.radius+=s,e.ray.intersectsSphere(kv)===!1)return;t3.copy(r).invert(),Oh.copy(e.ray).applyMatrix4(t3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=i.index,f=i.attributes.position;if(u!==null){const m=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let y=m,x=v-1;y<x;y+=c){const g=u.getX(y),_=u.getX(y+1),S=Nv(this,e,Oh,l,g,_,y);S&&t.push(S)}if(this.isLineLoop){const y=u.getX(v-1),x=u.getX(m),g=Nv(this,e,Oh,l,y,x,v-1);g&&t.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let y=m,x=v-1;y<x;y+=c){const g=Nv(this,e,Oh,l,y,y+1,y);g&&t.push(g)}if(this.isLineLoop){const y=Nv(this,e,Oh,l,v-1,m,v-1);y&&t.push(y)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Nv(n,e,t,i,r,s,o){const a=n.geometry.attributes.position;if(sx.fromBufferAttribute(a,r),ox.fromBufferAttribute(a,s),t.distanceSqToSegment(sx,ox,nS,n3)>i)return;nS.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(nS);if(!(c<e.near||c>e.far))return{distance:c,point:n3.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const i3=new q,r3=new q;class Go extends zl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)i3.fromBufferAttribute(t,r),r3.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+i3.distanceTo(r3);e.setAttribute("lineDistance",new mt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class qz extends zl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class JT extends Qi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const s3=new Mt,xM=new wu,Ov=new xi,Uv=new q;class Kz extends en{constructor(e=new Ut,t=new JT){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ov.copy(i.boundingSphere),Ov.applyMatrix4(r),Ov.radius+=s,e.ray.intersectsSphere(Ov)===!1)return;s3.copy(r).invert(),xM.copy(e.ray).applyMatrix4(s3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=f,y=m;v<y;v++){const x=c.getX(v);Uv.fromBufferAttribute(d,x),o3(Uv,x,l,r,e,t,this)}}else{const f=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=f,y=m;v<y;v++)Uv.fromBufferAttribute(d,v),o3(Uv,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function o3(n,e,t,i,r,s,o){const a=xM.distanceSqToPoint(n);if(a<t){const l=new q;xM.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class $z extends An{constructor(e,t,i,r,s=Wn,o=Wn,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Gee extends $z{constructor(e,t,i,r,s,o,a,l){super({},e,t,i,r,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Wee extends An{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ai,this.minFilter=Ai,this.generateMipmaps=!1,this.needsUpdate=!0}}class a1 extends An{constructor(e,t,i,r,s,o,a,l,c,u,d,f){super(null,o,a,l,c,u,r,s,d,f),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jee extends a1{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=As,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Xee extends a1{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Aa),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Yee extends An{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class e2 extends An{constructor(e,t,i=Pa,r,s,o,a=Ai,l=Ai,c,u=wf,d=1){if(u!==wf&&u!==Sf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:t,depth:d};super(f,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new yl(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class l1 extends Ut{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],c=[],u=t/2,d=Math.PI/2*e,f=t,m=2*d+f,v=i*2+s,y=r+1,x=new q,g=new q;for(let _=0;_<=v;_++){let S=0,b=0,E=0,C=0;if(_<=i){const I=_/i,T=I*Math.PI/2;b=-u-e*Math.cos(T),E=e*Math.sin(T),C=-e*Math.cos(T),S=I*d}else if(_<=i+s){const I=(_-i)/s;b=-u+I*t,E=e,C=0,S=d+I*f}else{const I=(_-i-s)/i,T=I*Math.PI/2;b=u+e*Math.sin(T),E=e*Math.cos(T),C=e*Math.sin(T),S=d+f+I*d}const P=Math.max(0,Math.min(1,S/m));let R=0;_===0?R=.5/r:_===v&&(R=-.5/r);for(let I=0;I<=r;I++){const T=I/r,O=T*Math.PI*2,U=Math.sin(O),j=Math.cos(O);g.x=-E*j,g.y=b,g.z=E*U,a.push(g.x,g.y,g.z),x.set(-E*j,C,E*U),x.normalize(),l.push(x.x,x.y,x.z),c.push(T+R,P)}if(_>0){const I=(_-1)*y;for(let T=0;T<r;T++){const O=I+T,U=I+T+1,j=_*y+T,W=_*y+T+1;o.push(O,U,j),o.push(U,W,j)}}}this.setIndex(o),this.setAttribute("position",new mt(a,3)),this.setAttribute("normal",new mt(l,3)),this.setAttribute("uv",new mt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l1(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class c1 extends Ut{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new q,u=new Fe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=t;d++,f+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new mt(o,3)),this.setAttribute("normal",new mt(a,3)),this.setAttribute("uv",new mt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new c1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vm extends Ut{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],f=[],m=[];let v=0;const y=[],x=i/2;let g=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new mt(d,3)),this.setAttribute("normal",new mt(f,3)),this.setAttribute("uv",new mt(m,2));function _(){const b=new q,E=new q;let C=0;const P=(t-e)/i;for(let R=0;R<=s;R++){const I=[],T=R/s,O=T*(t-e)+e;for(let U=0;U<=r;U++){const j=U/r,W=j*l+a,ee=Math.sin(W),K=Math.cos(W);E.x=O*ee,E.y=-T*i+x,E.z=O*K,d.push(E.x,E.y,E.z),b.set(ee,P,K).normalize(),f.push(b.x,b.y,b.z),m.push(j,1-T),I.push(v++)}y.push(I)}for(let R=0;R<r;R++)for(let I=0;I<s;I++){const T=y[I][R],O=y[I+1][R],U=y[I+1][R+1],j=y[I][R+1];(e>0||I!==0)&&(u.push(T,O,j),C+=3),(t>0||I!==s-1)&&(u.push(O,U,j),C+=3)}c.addGroup(g,C,0),g+=C}function S(b){const E=v,C=new Fe,P=new q;let R=0;const I=b===!0?e:t,T=b===!0?1:-1;for(let U=1;U<=r;U++)d.push(0,x*T,0),f.push(0,T,0),m.push(.5,.5),v++;const O=v;for(let U=0;U<=r;U++){const W=U/r*l+a,ee=Math.cos(W),K=Math.sin(W);P.x=I*K,P.y=x*T,P.z=I*ee,d.push(P.x,P.y,P.z),f.push(0,T,0),C.x=ee*.5+.5,C.y=K*.5*T+.5,m.push(C.x,C.y),v++}for(let U=0;U<r;U++){const j=E+U,W=O+U;b===!0?u.push(W,W+1,j):u.push(W+1,W,j),R+=3}c.addGroup(g,R,b===!0?1:2),g+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hm extends Vm{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Hm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xl extends Ut{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new mt(s,3)),this.setAttribute("normal",new mt(s.slice(),3)),this.setAttribute("uv",new mt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new q,b=new q,E=new q;for(let C=0;C<t.length;C+=3)m(t[C+0],S),m(t[C+1],b),m(t[C+2],E),l(S,b,E,_)}function l(_,S,b,E){const C=E+1,P=[];for(let R=0;R<=C;R++){P[R]=[];const I=_.clone().lerp(b,R/C),T=S.clone().lerp(b,R/C),O=C-R;for(let U=0;U<=O;U++)U===0&&R===C?P[R][U]=I:P[R][U]=I.clone().lerp(T,U/O)}for(let R=0;R<C;R++)for(let I=0;I<2*(C-R)-1;I++){const T=Math.floor(I/2);I%2===0?(f(P[R][T+1]),f(P[R+1][T]),f(P[R][T])):(f(P[R][T+1]),f(P[R+1][T+1]),f(P[R+1][T]))}}function c(_){const S=new q;for(let b=0;b<s.length;b+=3)S.x=s[b+0],S.y=s[b+1],S.z=s[b+2],S.normalize().multiplyScalar(_),s[b+0]=S.x,s[b+1]=S.y,s[b+2]=S.z}function u(){const _=new q;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const b=x(_)/2/Math.PI+.5,E=g(_)/Math.PI+.5;o.push(b,1-E)}v(),d()}function d(){for(let _=0;_<o.length;_+=6){const S=o[_+0],b=o[_+2],E=o[_+4],C=Math.max(S,b,E),P=Math.min(S,b,E);C>.9&&P<.1&&(S<.2&&(o[_+0]+=1),b<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function f(_){s.push(_.x,_.y,_.z)}function m(_,S){const b=_*3;S.x=e[b+0],S.y=e[b+1],S.z=e[b+2]}function v(){const _=new q,S=new q,b=new q,E=new q,C=new Fe,P=new Fe,R=new Fe;for(let I=0,T=0;I<s.length;I+=9,T+=6){_.set(s[I+0],s[I+1],s[I+2]),S.set(s[I+3],s[I+4],s[I+5]),b.set(s[I+6],s[I+7],s[I+8]),C.set(o[T+0],o[T+1]),P.set(o[T+2],o[T+3]),R.set(o[T+4],o[T+5]),E.copy(_).add(S).add(b).divideScalar(3);const O=x(E);y(C,T+0,_,O),y(P,T+2,S,O),y(R,T+4,b,O)}}function y(_,S,b,E){E<0&&_.x===1&&(o[S]=_.x-1),b.x===0&&b.z===0&&(o[S]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xl(e.vertices,e.indices,e.radius,e.details)}}class u1 extends Xl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new u1(e.radius,e.detail)}}const Fv=new q,zv=new q,iS=new q,Bv=new Ar;class Zz extends Ut{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Qc*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:x,c:g}=Bv;if(y.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),Bv.getNormal(iS),d[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const S=(_+1)%3,b=d[_],E=d[S],C=Bv[u[_]],P=Bv[u[S]],R=`${b}_${E}`,I=`${E}_${b}`;I in f&&f[I]?(iS.dot(f[I].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),f[I]=null):R in f||(f[R]={index0:c[_],index1:c[S],normal:iS.clone()})}}for(const v in f)if(f[v]){const{index0:y,index1:x}=f[v];Fv.fromBufferAttribute(a,y),zv.fromBufferAttribute(a,x),m.push(Fv.x,Fv.y,Fv.z),m.push(zv.x,zv.y,zv.z)}this.setAttribute("position",new mt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class fo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],f=i[r+1]-u,m=(o-u)/f;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Fe:new q);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new q,r=[],s=[],o=[],a=new q,l=new Mt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new q)}s[0]=new q,o[0]=new q;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Pt(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Pt(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class d1 extends fo{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new Fe){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*u-m*d+this.aX,c=f*d+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Qz extends d1{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function t2(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,m*=u,r(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Vv=new q,rS=new t2,sS=new t2,oS=new t2;class Jz extends fo{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new q){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Vv.subVectors(r[0],r[1]).add(r[0]),c=Vv);const d=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Vv.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Vv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(u),m);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),rS.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,v,y,x),sS.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,v,y,x),oS.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,v,y,x)}else this.curveType==="catmullrom"&&(rS.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),sS.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),oS.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return i.set(rS.calc(l),sS.calc(l),oS.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new q().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function a3(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function qee(n,e){const t=1-n;return t*t*e}function Kee(n,e){return 2*(1-n)*n*e}function $ee(n,e){return n*n*e}function wp(n,e,t,i){return qee(n,e)+Kee(n,t)+$ee(n,i)}function Zee(n,e){const t=1-n;return t*t*t*e}function Qee(n,e){const t=1-n;return 3*t*t*n*e}function Jee(n,e){return 3*(1-n)*n*n*e}function ete(n,e){return n*n*n*e}function Sp(n,e,t,i,r){return Zee(n,e)+Qee(n,t)+Jee(n,i)+ete(n,r)}class n2 extends fo{constructor(e=new Fe,t=new Fe,i=new Fe,r=new Fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Fe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Sp(e,r.x,s.x,o.x,a.x),Sp(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class e4 extends fo{constructor(e=new q,t=new q,i=new q,r=new q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new q){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Sp(e,r.x,s.x,o.x,a.x),Sp(e,r.y,s.y,o.y,a.y),Sp(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class i2 extends fo{constructor(e=new Fe,t=new Fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t4 extends fo{constructor(e=new q,t=new q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new q){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class r2 extends fo{constructor(e=new Fe,t=new Fe,i=new Fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Fe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(wp(e,r.x,s.x,o.x),wp(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class s2 extends fo{constructor(e=new q,t=new q,i=new q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new q){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(wp(e,r.x,s.x,o.x),wp(e,r.y,s.y,o.y),wp(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class o2 extends fo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Fe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(a3(a,l.x,c.x,u.x,d.x),a3(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Fe().fromArray(r))}return this}}var ax=Object.freeze({__proto__:null,ArcCurve:Qz,CatmullRomCurve3:Jz,CubicBezierCurve:n2,CubicBezierCurve3:e4,EllipseCurve:d1,LineCurve:i2,LineCurve3:t4,QuadraticBezierCurve:r2,QuadraticBezierCurve3:s2,SplineCurve:o2});class n4 extends fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ax[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new ax[r.type]().fromJSON(r))}return this}}class lx extends n4{constructor(e){super(),this.type="Path",this.currentPoint=new Fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new i2(this.currentPoint.clone(),new Fe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new r2(this.currentPoint.clone(),new Fe(e,t),new Fe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new n2(this.currentPoint.clone(),new Fe(e,t),new Fe(i,r),new Fe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new o2(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new d1(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class eu extends lx{constructor(e){super(e),this.uuid=as(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new lx().fromJSON(r))}return this}}function tte(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=i4(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(i&&(s=ote(n,e,s,t)),n.length>80*t){a=1/0,l=1/0;let u=-1/0,d=-1/0;for(let f=t;f<r;f+=t){const m=n[f],v=n[f+1];m<a&&(a=m),v<l&&(l=v),m>u&&(u=m),v>d&&(d=v)}c=Math.max(u-a,d-l),c=c!==0?32767/c:0}return mm(s,o,t,a,l,c,0),o}function i4(n,e,t,i,r){let s;if(r===vte(n,e,t,i)>0)for(let o=e;o<t;o+=i)s=l3(o/i|0,n[o],n[o+1],s);else for(let o=t-i;o>=e;o-=i)s=l3(o/i|0,n[o],n[o+1],s);return s&&Ef(s,s.next)&&(vm(s),s=s.next),s}function gu(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Ef(t,t.next)||En(t.prev,t,t.next)===0)){if(vm(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function mm(n,e,t,i,r,s,o){if(!n)return;!o&&s&&dte(n,i,r,s);let a=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(s?ite(n,i,r,s):nte(n)){e.push(l.i,n.i,c.i),vm(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=rte(gu(n),e),mm(n,e,t,i,r,s,2)):o===2&&ste(n,e,t,i,r,s):mm(gu(n),e,t,i,r,s,1);break}}}function nte(n){const e=n.prev,t=n,i=n.next;if(En(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,u=Math.min(r,s,o),d=Math.min(a,l,c),f=Math.max(r,s,o),m=Math.max(a,l,c);let v=i.next;for(;v!==e;){if(v.x>=u&&v.x<=f&&v.y>=d&&v.y<=m&&Yh(r,a,s,l,o,c,v.x,v.y)&&En(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function ite(n,e,t,i){const r=n.prev,s=n,o=n.next;if(En(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,f=o.y,m=Math.min(a,l,c),v=Math.min(u,d,f),y=Math.max(a,l,c),x=Math.max(u,d,f),g=_M(m,v,e,t,i),_=_M(y,x,e,t,i);let S=n.prevZ,b=n.nextZ;for(;S&&S.z>=g&&b&&b.z<=_;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Yh(a,u,l,d,c,f,S.x,S.y)&&En(S.prev,S,S.next)>=0||(S=S.prevZ,b.x>=m&&b.x<=y&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&Yh(a,u,l,d,c,f,b.x,b.y)&&En(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Yh(a,u,l,d,c,f,S.x,S.y)&&En(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;b&&b.z<=_;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&Yh(a,u,l,d,c,f,b.x,b.y)&&En(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function rte(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Ef(i,r)&&s4(i,t,t.next,r)&&gm(i,r)&&gm(r,i)&&(e.push(i.i,t.i,r.i),vm(t),vm(t.next),t=n=r),t=t.next}while(t!==n);return gu(t)}function ste(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&pte(o,a)){let l=o4(o,a);o=gu(o,o.next),l=gu(l,l.next),mm(o,e,t,i,r,s,0),mm(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function ote(n,e,t,i){const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=i4(n,a,l,i,!1);c===c.next&&(c.steiner=!0),r.push(hte(c))}r.sort(ate);for(let s=0;s<r.length;s++)t=lte(r[s],t);return t}function ate(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function lte(n,e){const t=cte(n,e);if(!t)return e;const i=o4(t,n);return gu(i,i.next),gu(t,t.next)}function cte(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;if(Ef(n,t))return t;do{if(Ef(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const d=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=i&&d>s&&(s=d,o=t.x<t.next.x?t:t.next,d===i))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let u=1/0;t=o;do{if(i>=t.x&&t.x>=l&&i!==t.x&&r4(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)){const d=Math.abs(r-t.y)/(i-t.x);gm(t,n)&&(d<u||d===u&&(t.x>o.x||t.x===o.x&&ute(o,t)))&&(o=t,u=d)}t=t.next}while(t!==a);return o}function ute(n,e){return En(n.prev,n,e.prev)<0&&En(e.next,n,n.next)<0}function dte(n,e,t,i){let r=n;do r.z===0&&(r.z=_M(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,fte(r)}function fte(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let o=i,a=0;for(let c=0;c<t&&(a++,o=o.nextZ,!!o);c++);let l=t;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,a--):(r=o,o=o.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=o}s.nextZ=null,t*=2}while(e>1);return n}function _M(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function hte(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function r4(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function Yh(n,e,t,i,r,s,o,a){return!(n===o&&e===a)&&r4(n,e,t,i,r,s,o,a)}function pte(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!mte(n,e)&&(gm(n,e)&&gm(e,n)&&gte(n,e)&&(En(n.prev,n,e.prev)||En(n,e.prev,e))||Ef(n,e)&&En(n.prev,n,n.next)>0&&En(e.prev,e,e.next)>0)}function En(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Ef(n,e){return n.x===e.x&&n.y===e.y}function s4(n,e,t,i){const r=Gv(En(n,e,t)),s=Gv(En(n,e,i)),o=Gv(En(t,i,n)),a=Gv(En(t,i,e));return!!(r!==s&&o!==a||r===0&&Hv(n,t,e)||s===0&&Hv(n,i,e)||o===0&&Hv(t,n,i)||a===0&&Hv(t,e,i))}function Hv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Gv(n){return n>0?1:n<0?-1:0}function mte(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&s4(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function gm(n,e){return En(n.prev,n,n.next)<0?En(n,e,n.next)>=0&&En(n,n.prev,e)>=0:En(n,e,n.prev)<0||En(n,n.next,e)<0}function gte(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function o4(n,e){const t=wM(n.i,n.x,n.y),i=wM(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function l3(n,e,t,i){const r=wM(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function vm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function wM(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function vte(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class yte{static triangulate(e,t,i=2){return tte(e,t,i)}}class Qs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Qs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];c3(e),u3(i,e);let o=e.length;t.forEach(c3);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,u3(i,t[l]);const a=yte.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function c3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function u3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class f1 extends Ut{constructor(e=new eu([new Fe(.5,.5),new Fe(-.5,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new mt(r,3)),this.setAttribute("uv",new mt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:xte;let S,b=!1,E,C,P,R;g&&(S=g.getSpacedPoints(u),b=!0,f=!1,E=g.computeFrenetFrames(u,!1),C=new q,P=new q,R=new q),f||(x=0,m=0,v=0,y=0);const I=a.extractPoints(c);let T=I.shape;const O=I.holes;if(!Qs.isClockWise(T)){T=T.reverse();for(let G=0,Re=O.length;G<Re;G++){const we=O[G];Qs.isClockWise(we)&&(O[G]=we.reverse())}}function j(G){const we=10000000000000001e-36;let De=G[0];for(let ae=1;ae<=G.length;ae++){const Ae=ae%G.length,ye=G[Ae],ue=ye.x-De.x,je=ye.y-De.y,V=ue*ue+je*je,N=Math.max(Math.abs(ye.x),Math.abs(ye.y),Math.abs(De.x),Math.abs(De.y)),re=we*N*N;if(V<=re){G.splice(Ae,1),ae--;continue}De=ye}}j(T),O.forEach(j);const W=O.length,ee=T;for(let G=0;G<W;G++){const Re=O[G];T=T.concat(Re)}function K(G,Re,we){return Re||console.error("THREE.ExtrudeGeometry: vec does not exist"),G.clone().addScaledVector(Re,we)}const ne=T.length;function k(G,Re,we){let De,ae,Ae;const ye=G.x-Re.x,ue=G.y-Re.y,je=we.x-G.x,V=we.y-G.y,N=ye*ye+ue*ue,re=ye*V-ue*je;if(Math.abs(re)>Number.EPSILON){const _e=Math.sqrt(N),ge=Math.sqrt(je*je+V*V),fe=Re.x-ue/_e,ze=Re.y+ye/_e,Be=we.x-V/ge,Xe=we.y+je/ge,Ye=((Be-fe)*V-(Xe-ze)*je)/(ye*V-ue*je);De=fe+ye*Ye-G.x,ae=ze+ue*Ye-G.y;const be=De*De+ae*ae;if(be<=2)return new Fe(De,ae);Ae=Math.sqrt(be/2)}else{let _e=!1;ye>Number.EPSILON?je>Number.EPSILON&&(_e=!0):ye<-Number.EPSILON?je<-Number.EPSILON&&(_e=!0):Math.sign(ue)===Math.sign(V)&&(_e=!0),_e?(De=-ue,ae=ye,Ae=Math.sqrt(N)):(De=ye,ae=ue,Ae=Math.sqrt(N/2))}return new Fe(De/Ae,ae/Ae)}const B=[];for(let G=0,Re=ee.length,we=Re-1,De=G+1;G<Re;G++,we++,De++)we===Re&&(we=0),De===Re&&(De=0),B[G]=k(ee[G],ee[we],ee[De]);const H=[];let F,Y=B.concat();for(let G=0,Re=W;G<Re;G++){const we=O[G];F=[];for(let De=0,ae=we.length,Ae=ae-1,ye=De+1;De<ae;De++,Ae++,ye++)Ae===ae&&(Ae=0),ye===ae&&(ye=0),F[De]=k(we[De],we[Ae],we[ye]);H.push(F),Y=Y.concat(F)}let ie;if(x===0)ie=Qs.triangulateShape(ee,O);else{const G=[],Re=[];for(let we=0;we<x;we++){const De=we/x,ae=m*Math.cos(De*Math.PI/2),Ae=v*Math.sin(De*Math.PI/2)+y;for(let ye=0,ue=ee.length;ye<ue;ye++){const je=K(ee[ye],B[ye],Ae);Ue(je.x,je.y,-ae),De===0&&G.push(je)}for(let ye=0,ue=W;ye<ue;ye++){const je=O[ye];F=H[ye];const V=[];for(let N=0,re=je.length;N<re;N++){const _e=K(je[N],F[N],Ae);Ue(_e.x,_e.y,-ae),De===0&&V.push(_e)}De===0&&Re.push(V)}}ie=Qs.triangulateShape(G,Re)}const $=ie.length,te=v+y;for(let G=0;G<ne;G++){const Re=f?K(T[G],Y[G],te):T[G];b?(P.copy(E.normals[0]).multiplyScalar(Re.x),C.copy(E.binormals[0]).multiplyScalar(Re.y),R.copy(S[0]).add(P).add(C),Ue(R.x,R.y,R.z)):Ue(Re.x,Re.y,0)}for(let G=1;G<=u;G++)for(let Re=0;Re<ne;Re++){const we=f?K(T[Re],Y[Re],te):T[Re];b?(P.copy(E.normals[G]).multiplyScalar(we.x),C.copy(E.binormals[G]).multiplyScalar(we.y),R.copy(S[G]).add(P).add(C),Ue(R.x,R.y,R.z)):Ue(we.x,we.y,d/u*G)}for(let G=x-1;G>=0;G--){const Re=G/x,we=m*Math.cos(Re*Math.PI/2),De=v*Math.sin(Re*Math.PI/2)+y;for(let ae=0,Ae=ee.length;ae<Ae;ae++){const ye=K(ee[ae],B[ae],De);Ue(ye.x,ye.y,d+we)}for(let ae=0,Ae=O.length;ae<Ae;ae++){const ye=O[ae];F=H[ae];for(let ue=0,je=ye.length;ue<je;ue++){const V=K(ye[ue],F[ue],De);b?Ue(V.x,V.y+S[u-1].y,S[u-1].x+we):Ue(V.x,V.y,d+we)}}}oe(),se();function oe(){const G=r.length/3;if(f){let Re=0,we=ne*Re;for(let De=0;De<$;De++){const ae=ie[De];Ne(ae[2]+we,ae[1]+we,ae[0]+we)}Re=u+x*2,we=ne*Re;for(let De=0;De<$;De++){const ae=ie[De];Ne(ae[0]+we,ae[1]+we,ae[2]+we)}}else{for(let Re=0;Re<$;Re++){const we=ie[Re];Ne(we[2],we[1],we[0])}for(let Re=0;Re<$;Re++){const we=ie[Re];Ne(we[0]+ne*u,we[1]+ne*u,we[2]+ne*u)}}i.addGroup(G,r.length/3-G,0)}function se(){const G=r.length/3;let Re=0;ve(ee,Re),Re+=ee.length;for(let we=0,De=O.length;we<De;we++){const ae=O[we];ve(ae,Re),Re+=ae.length}i.addGroup(G,r.length/3-G,1)}function ve(G,Re){let we=G.length;for(;--we>=0;){const De=we;let ae=we-1;ae<0&&(ae=G.length-1);for(let Ae=0,ye=u+x*2;Ae<ye;Ae++){const ue=ne*Ae,je=ne*(Ae+1),V=Re+De+ue,N=Re+ae+ue,re=Re+ae+je,_e=Re+De+je;Oe(V,N,re,_e)}}}function Ue(G,Re,we){l.push(G),l.push(Re),l.push(we)}function Ne(G,Re,we){Pe(G),Pe(Re),Pe(we);const De=r.length/3,ae=_.generateTopUV(i,r,De-3,De-2,De-1);We(ae[0]),We(ae[1]),We(ae[2])}function Oe(G,Re,we,De){Pe(G),Pe(Re),Pe(De),Pe(Re),Pe(we),Pe(De);const ae=r.length/3,Ae=_.generateSideWallUV(i,r,ae-6,ae-3,ae-2,ae-1);We(Ae[0]),We(Ae[1]),We(Ae[3]),We(Ae[1]),We(Ae[2]),We(Ae[3])}function Pe(G){r.push(l[G*3+0]),r.push(l[G*3+1]),r.push(l[G*3+2])}function We(G){s.push(G.x),s.push(G.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return _te(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ax[r.type]().fromJSON(r)),new f1(i,e.options)}}const xte={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Fe(s,o),new Fe(a,l),new Fe(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],f=e[r*3],m=e[r*3+1],v=e[r*3+2],y=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Fe(o,1-l),new Fe(c,1-d),new Fe(f,1-v),new Fe(y,1-g)]:[new Fe(a,1-l),new Fe(u,1-d),new Fe(m,1-v),new Fe(x,1-g)]}};function _te(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class h1 extends Xl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new h1(e.radius,e.detail)}}class p1 extends Ut{constructor(e=[new Fe(0,-.5),new Fe(.5,0),new Fe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Pt(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new q,f=new Fe,m=new q,v=new q,y=new q;let x=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let _=0;_<=t;_++){const S=i+_*u*r,b=Math.sin(S),E=Math.cos(S);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*b,d.y=e[C].y,d.z=e[C].x*E,o.push(d.x,d.y,d.z),f.x=_/t,f.y=C/(e.length-1),a.push(f.x,f.y);const P=l[3*C+0]*b,R=l[3*C+1],I=l[3*C+0]*E;c.push(P,R,I)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const b=S+_*e.length,E=b,C=b+e.length,P=b+e.length+1,R=b+1;s.push(E,C,R),s.push(P,R,C)}this.setIndex(s),this.setAttribute("position",new mt(o,3)),this.setAttribute("uv",new mt(a,2)),this.setAttribute("normal",new mt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p1(e.points,e.segments,e.phiStart,e.phiLength)}}class Gm extends Xl{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gm(e.radius,e.detail)}}class ka extends Ut{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,f=t/l,m=[],v=[],y=[],x=[];for(let g=0;g<u;g++){const _=g*f-o;for(let S=0;S<c;S++){const b=S*d-s;v.push(b,-_,0),y.push(0,0,1),x.push(S/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const S=_+c*g,b=_+c*(g+1),E=_+1+c*(g+1),C=_+1+c*g;m.push(S,b,C),m.push(b,E,C)}this.setIndex(m),this.setAttribute("position",new mt(v,3)),this.setAttribute("normal",new mt(y,3)),this.setAttribute("uv",new mt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ka(e.width,e.height,e.widthSegments,e.heightSegments)}}class m1 extends Ut{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const f=(t-e)/r,m=new q,v=new Fe;for(let y=0;y<=r;y++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}d+=f}for(let y=0;y<r;y++){const x=y*(i+1);for(let g=0;g<i;g++){const _=g+x,S=_,b=_+i+1,E=_+i+2,C=_+1;a.push(S,b,C),a.push(b,E,C)}}this.setIndex(a),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(c,3)),this.setAttribute("uv",new mt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class g1 extends Ut{constructor(e=new eu([new Fe(0,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new mt(r,3)),this.setAttribute("normal",new mt(s,3)),this.setAttribute("uv",new mt(o,2));function c(u){const d=r.length/3,f=u.extractPoints(t);let m=f.shape;const v=f.holes;Qs.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const _=v[x];Qs.isClockWise(_)===!0&&(v[x]=_.reverse())}const y=Qs.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const _=v[x];m=m.concat(_)}for(let x=0,g=m.length;x<g;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,g=y.length;x<g;x++){const _=y[x],S=_[0]+d,b=_[1]+d,E=_[2]+d;i.push(S,b,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return wte(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new g1(i,e.curveSegments)}}function wte(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Wm extends Ut{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new q,f=new q,m=[],v=[],y=[],x=[];for(let g=0;g<=i;g++){const _=[],S=g/i;let b=0;g===0&&o===0?b=.5/t:g===i&&l===Math.PI&&(b=-.5/t);for(let E=0;E<=t;E++){const C=E/t;d.x=-e*Math.cos(r+C*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(r+C*s)*Math.sin(o+S*a),v.push(d.x,d.y,d.z),f.copy(d).normalize(),y.push(f.x,f.y,f.z),x.push(C+b,1-S),_.push(c++)}u.push(_)}for(let g=0;g<i;g++)for(let _=0;_<t;_++){const S=u[g][_+1],b=u[g][_],E=u[g+1][_],C=u[g+1][_+1];(g!==0||o>0)&&m.push(S,b,C),(g!==i-1||l<Math.PI)&&m.push(b,E,C)}this.setIndex(m),this.setAttribute("position",new mt(v,3)),this.setAttribute("normal",new mt(y,3)),this.setAttribute("uv",new mt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class v1 extends Xl{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new v1(e.radius,e.detail)}}class y1 extends Ut{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new q,d=new q,f=new q;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const y=v/r*s,x=m/i*Math.PI*2;d.x=(e+t*Math.cos(x))*Math.cos(y),d.y=(e+t*Math.cos(x))*Math.sin(y),d.z=t*Math.sin(x),a.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const y=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,_=(r+1)*m+v;o.push(y,x,_),o.push(x,g,_)}this.setIndex(o),this.setAttribute("position",new mt(a,3)),this.setAttribute("normal",new mt(l,3)),this.setAttribute("uv",new mt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class x1 extends Ut{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new q,f=new q,m=new q,v=new q,y=new q,x=new q,g=new q;for(let S=0;S<=i;++S){const b=S/i*s*Math.PI*2;_(b,s,o,e,m),_(b+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),y.crossVectors(x,g),g.crossVectors(y,x),y.normalize(),g.normalize();for(let E=0;E<=r;++E){const C=E/r*Math.PI*2,P=-t*Math.cos(C),R=t*Math.sin(C);d.x=m.x+(P*g.x+R*y.x),d.y=m.y+(P*g.y+R*y.y),d.z=m.z+(P*g.z+R*y.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),c.push(f.x,f.y,f.z),u.push(S/i),u.push(E/r)}}for(let S=1;S<=i;S++)for(let b=1;b<=r;b++){const E=(r+1)*(S-1)+(b-1),C=(r+1)*S+(b-1),P=(r+1)*S+b,R=(r+1)*(S-1)+b;a.push(E,C,R),a.push(C,P,R)}this.setIndex(a),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(c,3)),this.setAttribute("uv",new mt(u,2));function _(S,b,E,C,P){const R=Math.cos(S),I=Math.sin(S),T=E/b*S,O=Math.cos(T);P.x=C*(2+O)*.5*R,P.y=C*(2+O)*I*.5,P.z=C*Math.sin(T)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _1 extends Ut{constructor(e=new s2(new q(-1,-1,0),new q(-1,1,0),new q(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new q,l=new q,c=new Fe;let u=new q;const d=[],f=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new mt(d,3)),this.setAttribute("normal",new mt(f,3)),this.setAttribute("uv",new mt(m,2));function y(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),_(),g()}function x(S){u=e.getPointAt(S/t,u);const b=o.normals[S],E=o.binormals[S];for(let C=0;C<=r;C++){const P=C/r*Math.PI*2,R=Math.sin(P),I=-Math.cos(P);l.x=I*b.x+R*E.x,l.y=I*b.y+R*E.y,l.z=I*b.z+R*E.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let b=1;b<=r;b++){const E=(r+1)*(S-1)+(b-1),C=(r+1)*S+(b-1),P=(r+1)*S+b,R=(r+1)*(S-1)+b;v.push(E,C,R),v.push(C,P,R)}}function _(){for(let S=0;S<=t;S++)for(let b=0;b<=r;b++)c.x=S/t,c.y=b/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _1(new ax[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class a4 extends Ut{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new q,s=new q;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,m=d.count;for(let v=f,y=f+m;v<y;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),_=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,_),d3(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),d3(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new mt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function d3(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var f3=Object.freeze({__proto__:null,BoxGeometry:Su,CapsuleGeometry:l1,CircleGeometry:c1,ConeGeometry:Hm,CylinderGeometry:Vm,DodecahedronGeometry:u1,EdgesGeometry:Zz,ExtrudeGeometry:f1,IcosahedronGeometry:h1,LatheGeometry:p1,OctahedronGeometry:Gm,PlaneGeometry:ka,PolyhedronGeometry:Xl,RingGeometry:m1,ShapeGeometry:g1,SphereGeometry:Wm,TetrahedronGeometry:v1,TorusGeometry:y1,TorusKnotGeometry:x1,TubeGeometry:_1,WireframeGeometry:a4});class l4 extends Qi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new at(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class c4 extends uo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class a2 extends Qi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new at(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class u4 extends a2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new at(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new at(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new at(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class d4 extends Qi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.combine=Um,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class f4 extends Qi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new at(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class h4 extends Qi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class p4 extends Qi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.combine=Um,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class w1 extends Qi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ez,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class S1 extends Qi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class m4 extends Qi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new at(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class g4 extends yr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hc(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function v4(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function y4(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function SM(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function l2(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function Ste(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){d.push(c.times[m]);for(let y=0;y<u;++y)f.push(c.values[m*u+y])}}d.length!==0&&(c.times=Hc(d,c.times.constructor),c.values=Hc(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function bte(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const g=u,_=d-u;y=a.values.slice(g,_)}else if(s>=a.times[v]){const g=v*d+u,_=g+d-u;y=a.values.slice(g,_)}else{const g=a.createInterpolant(),_=u,S=d-u;g.evaluate(s),y=g.resultBuffer.slice(_,S)}l==="quaternion"&&new $i().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let g=0;g<x;++g){const _=g*m+f;if(l==="quaternion")$i.multiplyQuaternionsFlat(c.values,_,y,0,c.values,_);else{const S=m-f*2;for(let b=0;b<S;++b)c.values[_+b]-=y[b]}}}return n.blendMode=HT,n}class Mte{static convertArray(e,t){return Hc(e,t)}static isTypedArray(e){return v4(e)}static getKeyframeOrder(e){return y4(e)}static sortedArray(e,t,i){return SM(e,t,i)}static flattenJSON(e,t,i,r){l2(e,t,i,r)}static subclip(e,t,i,r,s=30){return Ste(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return bte(e,t,i,r)}}class jm{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class x4 extends jm{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Bc,endingEnd:Bc}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Vc:s=e,a=2*t-i;break;case um:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Vc:o=e,l=2*i-t;break;case um:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),y=v*v,x=y*v,g=-f*x+2*f*y-f*v,_=(1+f)*x+(-1.5-2*f)*y+(-.5+f)*v+1,S=(-1-m)*x+(1.5+m)*y+.5*v,b=m*x-m*y;for(let E=0;E!==a;++E)s[E]=g*o[u+E]+_*o[c+E]+S*o[l+E]+b*o[d+E];return s}}class c2 extends jm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class _4 extends jm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Os{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hc(t,this.TimeBufferType),this.values=Hc(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Hc(e.times,Array),values:Hc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new _4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new c2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new x4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case cm:t=this.InterpolantFactoryMethodDiscrete;break;case rx:t=this.InterpolantFactoryMethodLinear;break;case Cy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return cm;case this.InterpolantFactoryMethodLinear:return rx;case this.InterpolantFactoryMethodSmooth:return Cy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&v4(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Cy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,f=d-i,m=d+i;for(let v=0;v!==i;++v){const y=t[d+v];if(y!==t[f+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,f=o*i;for(let m=0;m!==i;++m)t[f+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Os.prototype.ValueTypeName="";Os.prototype.TimeBufferType=Float32Array;Os.prototype.ValueBufferType=Float32Array;Os.prototype.DefaultInterpolation=rx;class bu extends Os{constructor(e,t,i){super(e,t,i)}}bu.prototype.ValueTypeName="bool";bu.prototype.ValueBufferType=Array;bu.prototype.DefaultInterpolation=cm;bu.prototype.InterpolantFactoryMethodLinear=void 0;bu.prototype.InterpolantFactoryMethodSmooth=void 0;class u2 extends Os{constructor(e,t,i,r){super(e,t,i,r)}}u2.prototype.ValueTypeName="color";class ym extends Os{constructor(e,t,i,r){super(e,t,i,r)}}ym.prototype.ValueTypeName="number";class w4 extends jm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)$i.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Xm extends Os{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new w4(this.times,this.values,this.getValueSize(),e)}}Xm.prototype.ValueTypeName="quaternion";Xm.prototype.InterpolantFactoryMethodSmooth=void 0;class Mu extends Os{constructor(e,t,i){super(e,t,i)}}Mu.prototype.ValueTypeName="string";Mu.prototype.ValueBufferType=Array;Mu.prototype.DefaultInterpolation=cm;Mu.prototype.InterpolantFactoryMethodLinear=void 0;Mu.prototype.InterpolantFactoryMethodSmooth=void 0;class xm extends Os{constructor(e,t,i,r){super(e,t,i,r)}}xm.prototype.ValueTypeName="vector";class _m{constructor(e="",t=-1,i=[],r=Jx){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=as(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Tte(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Os.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=y4(l);l=SM(l,1,u),c=SM(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ym(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=r[d];f||(r[d]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,m,v,y){if(m.length!==0){const x=[],g=[];l2(m,x,g,v),x.length!==0&&y.push(new d(f,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let y=0;y<f[v].morphTargets.length;y++)m[f[v].morphTargets[y]]=-1;for(const y in m){const x=[],g=[];for(let _=0;_!==f[v].morphTargets.length;++_){const S=f[v];x.push(S.time),g.push(S.morphTarget===y?1:0)}r.push(new ym(".morphTargetInfluence["+y+"]",x,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(xm,m+".position",f,"pos",r),i(Xm,m+".quaternion",f,"rot",r),i(xm,m+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ete(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ym;case"vector":case"vector2":case"vector3":case"vector4":return xm;case"color":return u2;case"quaternion":return Xm;case"bool":case"boolean":return bu;case"string":return Mu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Tte(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Ete(n.type);if(n.times===void 0){const t=[],i=[];l2(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ao={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class d2{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const S4=new d2;class Ur{constructor(e){this.manager=e!==void 0?e:S4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ur.DEFAULT_MATERIAL_NAME="__DEFAULT";const ra={};class Cte extends Error{constructor(e,t){super(e),this.response=t}}class Ra extends Ur{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ao.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ra[e]!==void 0){ra[e].push({onLoad:t,onProgress:i,onError:r});return}ra[e]=[],ra[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ra[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=f?parseInt(f):0,v=m!==0;let y=0;const x=new ReadableStream({start(g){_();function _(){d.read().then(({done:S,value:b})=>{if(S)g.close();else{y+=b.byteLength;const E=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let C=0,P=u.length;C<P;C++){const R=u[C];R.onProgress&&R.onProgress(E)}g.enqueue(b),_()}},S=>{g.error(S)})}}});return new Response(x)}else throw new Cte(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a==="")return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Ao.add(`file:${e}`,c);const u=ra[e];delete ra[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=ra[e];if(u===void 0)throw this.manager.itemError(e),c;delete ra[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ate extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ra(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=_m.parse(e[i]);t.push(r)}return t}}class Pte extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new a1,l=new Ra(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const m=s.parse(f,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Wn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)o[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+y]),o[v].format=f.format,o[v].width=f.width,o[v].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Wn),a.format=f.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}const ad=new WeakMap;class wm extends Ur{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ao.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let d=ad.get(o);d===void 0&&(d=[],ad.set(o,d)),d.push({onLoad:t,onError:r})}return o}const a=pm("img");function l(){u(),t&&t(this);const d=ad.get(this)||[];for(let f=0;f<d.length;f++){const m=d[f];m.onLoad&&m.onLoad(this)}ad.delete(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),Ao.remove(`image:${e}`);const f=ad.get(this)||[];for(let m=0;m<f.length;m++){const v=f[m];v.onError&&v.onError(d)}ad.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),Ao.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class Rte extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=new Bm;s.colorSpace=Tr;const o=new wm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Ite extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new No,a=new Ra(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:As,o.wrapT=c.wrapT!==void 0?c.wrapT:As,o.magFilter=c.magFilter!==void 0?c.magFilter:Wn,o.minFilter=c.minFilter!==void 0?c.minFilter:Wn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Co),c.mipmapCount===1&&(o.minFilter=Wn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class Dte extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=new An,o=new wm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Yl extends en{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new at(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class b4 extends Yl{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.groundColor=new at(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const aS=new Mt,h3=new q,p3=new q;class f2{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fe(512,512),this.mapType=Ns,this.map=null,this.mapPass=null,this.matrix=new Mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Bf,this._frameExtents=new Fe(1,1),this._viewportCount=1,this._viewports=[new Kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;h3.setFromMatrixPosition(e.matrixWorld),t.position.copy(h3),p3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(p3),t.updateMatrixWorld(),aS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aS),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(aS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Lte extends f2{constructor(){super(new Hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=bf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class M4 extends Yl{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Lte}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const m3=new Mt,Uh=new q,lS=new q;class kte extends f2{constructor(){super(new Hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fe(4,2),this._viewportCount=6,this._viewports=[new Kt(2,1,1,1),new Kt(0,1,1,1),new Kt(3,1,1,1),new Kt(1,1,1,1),new Kt(3,0,1,1),new Kt(1,0,1,1)],this._cubeDirections=[new q(1,0,0),new q(-1,0,0),new q(0,0,1),new q(0,0,-1),new q(0,1,0),new q(0,-1,0)],this._cubeUps=[new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,0,1),new q(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Uh.setFromMatrixPosition(e.matrixWorld),i.position.copy(Uh),lS.copy(i.position),lS.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(lS),i.updateMatrixWorld(),r.makeTranslation(-Uh.x,-Uh.y,-Uh.z),m3.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m3)}}class E4 extends Yl{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new kte}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Pl extends zm{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Nte extends f2{constructor(){super(new Pl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class T4 extends Yl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.shadow=new Nte}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class C4 extends Yl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class A4 extends Yl{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class P4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class R4 extends Yl{constructor(e=new P4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class b1 extends Ur{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Ra(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new at().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new at().setHex(o.value);break;case"v2":r.uniforms[s].value=new Fe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new q().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Kt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new At().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Mt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Fe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return b1.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:l4,SpriteMaterial:ZT,RawShaderMaterial:c4,ShaderMaterial:uo,PointsMaterial:JT,MeshPhysicalMaterial:u4,MeshStandardMaterial:a2,MeshPhongMaterial:d4,MeshToonMaterial:f4,MeshNormalMaterial:h4,MeshLambertMaterial:p4,MeshDepthMaterial:w1,MeshDistanceMaterial:S1,MeshBasicMaterial:La,MeshMatcapMaterial:m4,LineDashedMaterial:g4,LineBasicMaterial:yr,Material:Qi};return new t[e]}}class bM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class h2 extends Ut{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class I4 extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ra(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),_=Nd(x.type,g),S=new r1(_,x.stride);return S.uuid=x.uuid,t[v]=S,S}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new h2:new Ut,a=e.data.index;if(a!==void 0){const m=Nd(a.type,a.array);o.setIndex(new an(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);y=new pu(x,v.itemSize,v.offset,v.normalized)}else{const x=Nd(v.type,v.array),g=v.isInstancedBufferAttribute?mu:an;y=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],y=[];for(let x=0,g=v.length;x<g;x++){const _=v[x];let S;if(_.isInterleavedBufferAttribute){const b=r(e.data,_.data);S=new pu(b,_.itemSize,_.offset,_.normalized)}else{const b=Nd(_.type,_.array);S=new an(b,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),y.push(S)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const y=d[m];o.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;return f!==void 0&&(o.boundingSphere=new xi().fromJSON(f)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Ote extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?bM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ra(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?bM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ra(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let d=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new eu().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new s1().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new I4;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in f3?a=f3[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new b1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=_m.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:Nd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new d2(t);s=new wm(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const m=[];for(let v=0,y=f.length;v<y;v++){const x=f[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new No(g.data,g.width,g.height)))}r[d.uuid]=new yl(m)}else{const m=a(d.url);r[d.uuid]=new yl(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Nd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new wm(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new No(v.data,v.width,v.height)))}i[l.uuid]=new yl(u)}else{const u=await s(l.url);i[l.uuid]=new yl(u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Bm,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new No:u=new An,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,Ute)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],g3),u.wrapT=i(a.wrap[1],g3)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,v3)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,v3)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,i,r,s){let o;function a(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,y=f.length;v<y;v++){const x=f[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),r[f]}let u,d;switch(e.type){case"Scene":o=new $T,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new at(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new i1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new n1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Pl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new C4(e.color,e.intensity);break;case"DirectionalLight":o=new T4(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new E4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new A4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new M4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new b4(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new R4().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new jz(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Tn(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new Xz(u,d,f),o.instanceMatrix=new mu(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new mu(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),o=new Yz(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(y=>{let x=null,g=null;return y.boundingBox!==void 0&&(x=new yi().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(g=new xi().fromJSON(y.boundingSphere)),{...y,boundingBox:x,boundingSphere:g}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new xi().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new yi().fromJSON(e.boundingBox));break;case"LOD":o=new Wz;break;case"Line":o=new zl(a(e.geometry),l(e.material));break;case"LineLoop":o=new qz(a(e.geometry),l(e.material));break;case"LineSegments":o=new Go(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Kz(a(e.geometry),l(e.material));break;case"Sprite":o=new Gz(l(e.material));break;case"Group":o=new Od;break;case"Bone":o=new QT;break;default:o=new en}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],t,i,r,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new en}})}}const Ute={UVMapping:Xx,CubeReflectionMapping:Aa,CubeRefractionMapping:Fl,EquirectangularReflectionMapping:sm,EquirectangularRefractionMapping:om,CubeUVReflectionMapping:Ff},g3={RepeatWrapping:am,ClampToEdgeWrapping:As,MirroredRepeatWrapping:lm},v3={NearestFilter:Ai,NearestMipmapNearestFilter:kT,NearestMipmapLinearFilter:kd,LinearFilter:Wn,LinearMipmapNearestFilter:pp,LinearMipmapLinearFilter:Co},cS=new WeakMap;class Fte extends Ur{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ao.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{if(cS.has(o)===!0)r&&r(cS.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ao.add(`image-bitmap:${e}`,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),cS.set(l,c),Ao.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Ao.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}}let Wv;class p2{static getContext(){return Wv===void 0&&(Wv=new(window.AudioContext||window.webkitAudioContext)),Wv}static setContext(e){Wv=e}}class zte extends Ur{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ra(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);p2.getContext().decodeAudioData(c,function(d){t(d)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const y3=new Mt,x3=new Mt,yc=new Mt;class Bte{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,yc.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Qc*t.fov*.5)/t.zoom;let a,l;x3.elements[12]=-r,y3.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,yc.elements[0]=2*t.near/(l-a),yc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(yc),a=-o*t.aspect-s,l=o*t.aspect-s,yc.elements[0]=2*t.near/(l-a),yc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(yc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(x3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(y3)}}class D4 extends Hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class m2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const xc=new q,uS=new $i,Vte=new q,_c=new q,wc=new q;class Hte extends en{constructor(){super(),this.type="AudioListener",this.context=p2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new m2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xc,uS,Vte),_c.set(0,0,-1).applyQuaternion(uS),wc.set(0,1,0).applyQuaternion(uS),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(xc.x,i),t.positionY.linearRampToValueAtTime(xc.y,i),t.positionZ.linearRampToValueAtTime(xc.z,i),t.forwardX.linearRampToValueAtTime(_c.x,i),t.forwardY.linearRampToValueAtTime(_c.y,i),t.forwardZ.linearRampToValueAtTime(_c.z,i),t.upX.linearRampToValueAtTime(wc.x,i),t.upY.linearRampToValueAtTime(wc.y,i),t.upZ.linearRampToValueAtTime(wc.z,i)}else t.setPosition(xc.x,xc.y,xc.z),t.setOrientation(_c.x,_c.y,_c.z,wc.x,wc.y,wc.z)}}class L4 extends en{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Sc=new q,_3=new $i,Gte=new q,bc=new q;class Wte extends L4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Sc,_3,Gte),bc.set(0,0,1).applyQuaternion(_3);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Sc.x,i),t.positionY.linearRampToValueAtTime(Sc.y,i),t.positionZ.linearRampToValueAtTime(Sc.z,i),t.orientationX.linearRampToValueAtTime(bc.x,i),t.orientationY.linearRampToValueAtTime(bc.y,i),t.orientationZ.linearRampToValueAtTime(bc.z,i)}else t.setPosition(Sc.x,Sc.y,Sc.z),t.setOrientation(bc.x,bc.y,bc.z)}}class jte{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class k4{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){$i.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;$i.multiplyQuaternionsFlat(e,o,e,t,e,i),$i.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const g2="\\[\\]\\.:\\/",Xte=new RegExp("["+g2+"]","g"),v2="[^"+g2+"]",Yte="[^"+g2.replace("\\.","")+"]",qte=/((?:WC+[\/:])*)/.source.replace("WC",v2),Kte=/(WCOD+)?/.source.replace("WCOD",Yte),$te=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",v2),Zte=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",v2),Qte=new RegExp("^"+qte+Kte+$te+Zte+"$"),Jte=["material","materials","bones","map"];class ene{constructor(e,t,i){const r=i||Qt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Qt{constructor(e,t,i){this.path=t,this.parsedPath=i||Qt.parseTrackName(t),this.node=Qt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Qt.Composite(e,t,i):new Qt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xte,"")}static parseTrackName(e){const t=Qte.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Jte.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Qt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Qt.Composite=ene;Qt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Qt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Qt.prototype.GetterByBindingType=[Qt.prototype._getValue_direct,Qt.prototype._getValue_array,Qt.prototype._getValue_arrayElement,Qt.prototype._getValue_toArray];Qt.prototype.SetterByBindingTypeAndVersioning=[[Qt.prototype._setValue_direct,Qt.prototype._setValue_direct_setNeedsUpdate,Qt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_array,Qt.prototype._setValue_array_setNeedsUpdate,Qt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_arrayElement,Qt.prototype._setValue_arrayElement_setNeedsUpdate,Qt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_fromArray,Qt.prototype._setValue_fromArray_setNeedsUpdate,Qt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tne{constructor(){this.isAnimationObjectGroup=!0,this.uuid=as(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],m=f.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(f);for(let y=0,x=o;y!==x;++y)s[y].push(new Qt(f,i[y],r[y]))}else if(v<c){a=e[v];const y=--c,x=e[y];t[x.uuid]=v,e[v]=x,t[m]=y,e[y]=f;for(let g=0,_=o;g!==_;++g){const S=s[g],b=S[y];let E=S[v];S[v]=b,E===void 0&&(E=new Qt(f,i[g],r[g])),S[y]=E}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];t[f.uuid]=u,e[u]=f,t[c]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const y=i[m],x=y[d],g=y[u];y[u]=x,y[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const f=--s,m=e[f],v=--o,y=e[v];t[m.uuid]=d,e[d]=m,t[y.uuid]=f,e[f]=y,e.pop();for(let x=0,g=r;x!==g;++x){const _=i[x],S=_[f],b=_[v];_[d]=S,_[f]=b,_.pop()}}else{const f=--o,m=e[f];f>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,y=r;v!==y;++v){const x=i[v];x[d]=x[f],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let f=u,m=l.length;f!==m;++f){const v=l[f];d[f]=new Qt(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class N4{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Bc,endingEnd:Bc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case HT:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Jx:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===Mz;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===Sz){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Vc,r.endingEnd=Vc):(e?r.endingStart=this.zeroSlopeAtStart?Vc:Bc:r.endingStart=um,t?r.endingEnd=this.zeroSlopeAtEnd?Vc:Bc:r.endingEnd=um)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const nne=new Float32Array(1);class ine extends Ho{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=r[d],m=f.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[d].binding.parsedPath;v=new k4(Qt.create(i,m,y),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new c2(new Float32Array(2),new Float32Array(2),1,nne),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?_m.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Jx),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new N4(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?_m.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class rne extends XT{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new t1(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class y2{constructor(e){this.value=e}clone(){return new y2(this.value.clone===void 0?this.value:this.value.clone())}}let sne=0;class one extends Ho{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:sne++}),this.name="",this.usage=fm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class ane extends r1{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class lne{constructor(e,t,i,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const w3=new Mt;class O4{constructor(e,t,i=0,r=1/0){this.ray=new wu(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Jc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return w3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(w3),this}intersectObject(e,t=!0,i=[]){return MM(e,this,i,t),i.sort(S3),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)MM(e[r],this,i,t);return i.sort(S3),i}}function S3(n,e){return n.distance-e.distance}function MM(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)MM(s[o],e,t,!0)}}class EM{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Pt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Pt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cne{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class x2{constructor(e,t,i,r){x2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const b3=new Fe;class une{constructor(e=new Fe(1/0,1/0),t=new Fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=b3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,b3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const M3=new q,jv=new q;class dne{constructor(e=new q,t=new q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){M3.subVectors(e,this.start),jv.subVectors(this.end,this.start);const i=jv.dot(jv);let s=jv.dot(M3)/i;return t&&(s=Pt(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const E3=new q;class fne extends en{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Ut,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new mt(r,3));const s=new yr({fog:!1,toneMapped:!1});this.cone=new Go(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),E3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(E3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const tl=new q,Xv=new Mt,dS=new Mt;class hne extends Go{constructor(e){const t=U4(e),i=new Ut,r=[],s=[],o=new at(0,0,1),a=new at(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new mt(r,3)),i.setAttribute("color",new mt(s,3));const l=new yr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");dS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Xv.multiplyMatrices(dS,a.matrixWorld),tl.setFromMatrixPosition(Xv),r.setXYZ(o,tl.x,tl.y,tl.z),Xv.multiplyMatrices(dS,a.parent.matrixWorld),tl.setFromMatrixPosition(Xv),r.setXYZ(o+1,tl.x,tl.y,tl.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function U4(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...U4(n.children[t]));return e}class pne extends Tn{constructor(e,t,i){const r=new Wm(t,4,2),s=new La({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mne=new q,T3=new at,C3=new at;class gne extends en{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Gm(t);r.rotateY(Math.PI*.5),this.material=new La({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new an(o,3)),this.add(new Tn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");T3.copy(this.light.color),C3.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?T3:C3;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mne.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vne extends Go{constructor(e=10,t=10,i=4473924,r=8947848){i=new at(i),r=new at(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let f=0,m=0,v=-a;f<=t;f++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=f===s?i:r;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new Ut;u.setAttribute("position",new mt(l,3)),u.setAttribute("color",new mt(c,3));const d=new yr({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yne extends Go{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new at(s),o=new at(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const f=d/t*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,v);const y=d&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<i;d++){const f=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let y=v/r*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m;a.push(x,0,g),l.push(f.r,f.g,f.b),y=(v+1)/r*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m,a.push(x,0,g),l.push(f.r,f.g,f.b)}}const c=new Ut;c.setAttribute("position",new mt(a,3)),c.setAttribute("color",new mt(l,3));const u=new yr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const A3=new q,Yv=new q,P3=new q;class xne extends en{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Ut;r.setAttribute("position",new mt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new yr({fog:!1,toneMapped:!1});this.lightPlane=new zl(r,s),this.add(this.lightPlane),r=new Ut,r.setAttribute("position",new mt([0,0,0,0,0,1],3)),this.targetLine=new zl(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),A3.setFromMatrixPosition(this.light.matrixWorld),Yv.setFromMatrixPosition(this.light.target.matrixWorld),P3.subVectors(Yv,A3),this.lightPlane.lookAt(Yv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yv),this.targetLine.scale.z=P3.length()}}const qv=new q,Dn=new zm;class _ne extends Go{constructor(e){const t=new Ut,i=new yr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new mt(r,3)),t.setAttribute("color",new mt(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new at(16755200),u=new at(16711680),d=new at(43775),f=new at(16777215),m=new at(3355443);this.setColors(c,u,d,f,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Dn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Ps?-1:0;zn("c",t,e,Dn,0,0,s),zn("t",t,e,Dn,0,0,1),zn("n1",t,e,Dn,-i,-r,s),zn("n2",t,e,Dn,i,-r,s),zn("n3",t,e,Dn,-i,r,s),zn("n4",t,e,Dn,i,r,s),zn("f1",t,e,Dn,-i,-r,1),zn("f2",t,e,Dn,i,-r,1),zn("f3",t,e,Dn,-i,r,1),zn("f4",t,e,Dn,i,r,1),zn("u1",t,e,Dn,i*.7,r*1.1,s),zn("u2",t,e,Dn,-i*.7,r*1.1,s),zn("u3",t,e,Dn,0,r*2,s),zn("cf1",t,e,Dn,-i,0,1),zn("cf2",t,e,Dn,i,0,1),zn("cf3",t,e,Dn,0,-r,1),zn("cf4",t,e,Dn,0,r,1),zn("cn1",t,e,Dn,-i,0,s),zn("cn2",t,e,Dn,i,0,s),zn("cn3",t,e,Dn,0,-r,s),zn("cn4",t,e,Dn,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zn(n,e,t,i,r,s,o){qv.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],qv.x,qv.y,qv.z)}}const Kv=new yi;class wne extends Go{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Ut;s.setIndex(new an(i,1)),s.setAttribute("position",new an(r,3)),super(s,new yr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Kv.setFromObject(this.object),Kv.isEmpty())return;const e=Kv.min,t=Kv.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sne extends Go{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ut;s.setIndex(new an(i,1)),s.setAttribute("position",new mt(r,3)),super(s,new yr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class bne extends zl{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ut;o.setAttribute("position",new mt(s,3)),o.computeBoundingSphere(),super(o,new yr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ut;l.setAttribute("position",new mt(a,3)),l.computeBoundingSphere(),this.add(new Tn(l,new La({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const R3=new q;let $v,fS;class Mne extends en{constructor(e=new q(0,0,1),t=new q(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",$v===void 0&&($v=new Ut,$v.setAttribute("position",new mt([0,0,0,0,1,0],3)),fS=new Hm(.5,1,5,1),fS.translate(0,-.5,0)),this.position.copy(t),this.line=new zl($v,new yr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Tn(fS,new La({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{R3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(R3,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ene extends Go{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ut;r.setAttribute("position",new mt(t,3)),r.setAttribute("color",new mt(i,3));const s=new yr({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new at,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tne{constructor(){this.type="ShapePath",this.color=new at,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new lx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const _=[];for(let S=0,b=g.length;S<b;S++){const E=g[S],C=new eu;C.curves=E.curves,_.push(C)}return _}function i(g,_){const S=_.length;let b=!1;for(let E=S-1,C=0;C<S;E=C++){let P=_[E],R=_[C],I=R.x-P.x,T=R.y-P.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(P=_[C],I=-I,R=_[E],T=-T),g.y<P.y||g.y>R.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const O=T*(g.x-P.x)-I*(g.y-P.y);if(O===0)return!0;if(O<0)continue;b=!b}}else{if(g.y!==P.y)continue;if(R.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=R.x)return!0}}return b}const r=Qs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new eu,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],f=[];let m=[],v=0,y;f[v]=void 0,m[v]=[];for(let g=0,_=s.length;g<_;g++)a=s[g],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!u&&f[v]&&v++,f[v]={s:new eu,p:y},f[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!f[0])return t(s);if(f.length>1){let g=!1,_=0;for(let S=0,b=f.length;S<b;S++)d[S]=[];for(let S=0,b=f.length;S<b;S++){const E=m[S];for(let C=0;C<E.length;C++){const P=E[C];let R=!0;for(let I=0;I<f.length;I++)i(P.p,f[I].p)&&(S!==I&&_++,R?(R=!1,d[I].push(P)):g=!0);R&&d[S].push(P)}}_>0&&g===!1&&(m=d)}let x;for(let g=0,_=f.length;g<_;g++){l=f[g].s,c.push(l),x=m[g];for(let S=0,b=x.length;S<b;S++)l.holes.push(x[S].h)}return c}}class Cne extends Ho{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Ane(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Pne(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Rne(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function TM(n,e,t,i){const r=Ine(i);switch(t){case FT:return n*e;case $x:return n*e/r.components*r.byteLength;case Fm:return n*e/r.components*r.byteLength;case BT:return n*e*2/r.components*r.byteLength;case Zx:return n*e*2/r.components*r.byteLength;case zT:return n*e*3/r.components*r.byteLength;case Yi:return n*e*4/r.components*r.byteLength;case Qx:return n*e*4/r.components*r.byteLength;case mp:case gp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case vp:case yp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case L0:case N0:return Math.max(n,16)*Math.max(e,8)/4;case D0:case k0:return Math.max(n,8)*Math.max(e,8)/2;case O0:case U0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case F0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case z0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case B0:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case V0:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case H0:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case G0:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case W0:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case j0:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case X0:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Y0:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case q0:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case K0:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case $0:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Z0:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Q0:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case xp:case J0:case ex:return Math.ceil(n/4)*Math.ceil(e/4)*16;case VT:case tx:return Math.ceil(n/4)*Math.ceil(e/4)*8;case nx:case ix:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Ine(n){switch(n){case Ns:case NT:return{byteLength:1,components:1};case xf:case OT:case zf:return{byteLength:2,components:1};case qx:case Kx:return{byteLength:2,components:4};case Pa:case Yx:case Dr:return{byteLength:4,components:1};case UT:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Dne{static contain(e,t){return Ane(e,t)}static cover(e,t){return Pne(e,t)}static fill(e){return Rne(e)}static getByteLength(e,t,i,r){return TM(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Wx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Wx);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function F4(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Lne(n){const e=new WeakMap;function t(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=n.createBuffer();n.bindBuffer(l,f),n.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)m=n.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,c){const u=l.array,d=l.updateRanges;if(n.bindBuffer(c,a),d.length===0)n.bufferSubData(c,0,u);else{d.sort((m,v)=>m.start-v.start);let f=0;for(let m=1;m<d.length;m++){const v=d[f],y=d[m];y.start<=v.start+v.count+1?v.count=Math.max(v.count,y.start+y.count-v.start):(++f,d[f]=y)}d.length=f+1;for(let m=0,v=d.length;m<v;m++){const y=d[m];n.bufferSubData(c,y.start*u.BYTES_PER_ELEMENT,u,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}var kne=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Nne=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,One=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Une=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fne=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,zne=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Bne=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Vne=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Hne=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Gne=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Wne=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jne=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Xne=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Yne=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,qne=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Kne=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,$ne=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Zne=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Qne=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Jne=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,eie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,nie=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,iie=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,rie=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sie=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oie=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aie=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,lie=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cie=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uie="gl_FragColor = linearToOutputTexel( gl_FragColor );",die=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,fie=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hie=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pie=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mie=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gie=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,vie=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yie=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xie=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_ie=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wie=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Sie=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,bie=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Mie=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Eie=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Tie=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Cie=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Aie=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Pie=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Rie=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Iie=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Die=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Lie=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,kie=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Nie=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Oie=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Uie=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fie=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zie=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Bie=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Vie=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Hie=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Gie=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wie=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jie=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Xie=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Yie=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,qie=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Kie=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,$ie=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Zie=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Qie=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Jie=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ere=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tre=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nre=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ire=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,rre=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sre=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ore=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,are=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lre=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,cre=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ure=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dre=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fre=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hre=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,pre=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,mre=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,gre=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vre=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,yre=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xre=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_re=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,wre=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Sre=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,bre=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Mre=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ere=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Tre=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Cre=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Are=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Pre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Rre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ire=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Dre=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Lre=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,kre=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ore=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ure=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Fre=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Bre=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Vre=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Hre=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Gre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Wre=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jre=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Xre=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,qre=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kre=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$re=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zre=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Qre=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jre=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ese=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,tse=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nse=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ise=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,rse=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sse=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ose=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ase=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cse=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,use=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dse=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Nt={alphahash_fragment:kne,alphahash_pars_fragment:Nne,alphamap_fragment:One,alphamap_pars_fragment:Une,alphatest_fragment:Fne,alphatest_pars_fragment:zne,aomap_fragment:Bne,aomap_pars_fragment:Vne,batching_pars_vertex:Hne,batching_vertex:Gne,begin_vertex:Wne,beginnormal_vertex:jne,bsdfs:Xne,iridescence_fragment:Yne,bumpmap_pars_fragment:qne,clipping_planes_fragment:Kne,clipping_planes_pars_fragment:$ne,clipping_planes_pars_vertex:Zne,clipping_planes_vertex:Qne,color_fragment:Jne,color_pars_fragment:eie,color_pars_vertex:tie,color_vertex:nie,common:iie,cube_uv_reflection_fragment:rie,defaultnormal_vertex:sie,displacementmap_pars_vertex:oie,displacementmap_vertex:aie,emissivemap_fragment:lie,emissivemap_pars_fragment:cie,colorspace_fragment:uie,colorspace_pars_fragment:die,envmap_fragment:fie,envmap_common_pars_fragment:hie,envmap_pars_fragment:pie,envmap_pars_vertex:mie,envmap_physical_pars_fragment:Tie,envmap_vertex:gie,fog_vertex:vie,fog_pars_vertex:yie,fog_fragment:xie,fog_pars_fragment:_ie,gradientmap_pars_fragment:wie,lightmap_pars_fragment:Sie,lights_lambert_fragment:bie,lights_lambert_pars_fragment:Mie,lights_pars_begin:Eie,lights_toon_fragment:Cie,lights_toon_pars_fragment:Aie,lights_phong_fragment:Pie,lights_phong_pars_fragment:Rie,lights_physical_fragment:Iie,lights_physical_pars_fragment:Die,lights_fragment_begin:Lie,lights_fragment_maps:kie,lights_fragment_end:Nie,logdepthbuf_fragment:Oie,logdepthbuf_pars_fragment:Uie,logdepthbuf_pars_vertex:Fie,logdepthbuf_vertex:zie,map_fragment:Bie,map_pars_fragment:Vie,map_particle_fragment:Hie,map_particle_pars_fragment:Gie,metalnessmap_fragment:Wie,metalnessmap_pars_fragment:jie,morphinstance_vertex:Xie,morphcolor_vertex:Yie,morphnormal_vertex:qie,morphtarget_pars_vertex:Kie,morphtarget_vertex:$ie,normal_fragment_begin:Zie,normal_fragment_maps:Qie,normal_pars_fragment:Jie,normal_pars_vertex:ere,normal_vertex:tre,normalmap_pars_fragment:nre,clearcoat_normal_fragment_begin:ire,clearcoat_normal_fragment_maps:rre,clearcoat_pars_fragment:sre,iridescence_pars_fragment:ore,opaque_fragment:are,packing:lre,premultiplied_alpha_fragment:cre,project_vertex:ure,dithering_fragment:dre,dithering_pars_fragment:fre,roughnessmap_fragment:hre,roughnessmap_pars_fragment:pre,shadowmap_pars_fragment:mre,shadowmap_pars_vertex:gre,shadowmap_vertex:vre,shadowmask_pars_fragment:yre,skinbase_vertex:xre,skinning_pars_vertex:_re,skinning_vertex:wre,skinnormal_vertex:Sre,specularmap_fragment:bre,specularmap_pars_fragment:Mre,tonemapping_fragment:Ere,tonemapping_pars_fragment:Tre,transmission_fragment:Cre,transmission_pars_fragment:Are,uv_pars_fragment:Pre,uv_pars_vertex:Rre,uv_vertex:Ire,worldpos_vertex:Dre,background_vert:Lre,background_frag:kre,backgroundCube_vert:Nre,backgroundCube_frag:Ore,cube_vert:Ure,cube_frag:Fre,depth_vert:zre,depth_frag:Bre,distanceRGBA_vert:Vre,distanceRGBA_frag:Hre,equirect_vert:Gre,equirect_frag:Wre,linedashed_vert:jre,linedashed_frag:Xre,meshbasic_vert:Yre,meshbasic_frag:qre,meshlambert_vert:Kre,meshlambert_frag:$re,meshmatcap_vert:Zre,meshmatcap_frag:Qre,meshnormal_vert:Jre,meshnormal_frag:ese,meshphong_vert:tse,meshphong_frag:nse,meshphysical_vert:ise,meshphysical_frag:rse,meshtoon_vert:sse,meshtoon_frag:ose,points_vert:ase,points_frag:lse,shadow_vert:cse,shadow_frag:use,sprite_vert:dse,sprite_frag:fse},st={common:{diffuse:{value:new at(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new At},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new At}},envmap:{envMap:{value:null},envMapRotation:{value:new At},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new At}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new At}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new At},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new At},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new At},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new At}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new At}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new At}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new at(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new at(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0},uvTransform:{value:new At}},sprite:{diffuse:{value:new at(16777215)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new At},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0}}},$s={basic:{uniforms:ar([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:Nt.meshbasic_vert,fragmentShader:Nt.meshbasic_frag},lambert:{uniforms:ar([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new at(0)}}]),vertexShader:Nt.meshlambert_vert,fragmentShader:Nt.meshlambert_frag},phong:{uniforms:ar([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:Nt.meshphong_vert,fragmentShader:Nt.meshphong_frag},standard:{uniforms:ar([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new at(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag},toon:{uniforms:ar([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new at(0)}}]),vertexShader:Nt.meshtoon_vert,fragmentShader:Nt.meshtoon_frag},matcap:{uniforms:ar([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:Nt.meshmatcap_vert,fragmentShader:Nt.meshmatcap_frag},points:{uniforms:ar([st.points,st.fog]),vertexShader:Nt.points_vert,fragmentShader:Nt.points_frag},dashed:{uniforms:ar([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Nt.linedashed_vert,fragmentShader:Nt.linedashed_frag},depth:{uniforms:ar([st.common,st.displacementmap]),vertexShader:Nt.depth_vert,fragmentShader:Nt.depth_frag},normal:{uniforms:ar([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:Nt.meshnormal_vert,fragmentShader:Nt.meshnormal_frag},sprite:{uniforms:ar([st.sprite,st.fog]),vertexShader:Nt.sprite_vert,fragmentShader:Nt.sprite_frag},background:{uniforms:{uvTransform:{value:new At},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Nt.background_vert,fragmentShader:Nt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new At}},vertexShader:Nt.backgroundCube_vert,fragmentShader:Nt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Nt.cube_vert,fragmentShader:Nt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Nt.equirect_vert,fragmentShader:Nt.equirect_frag},distanceRGBA:{uniforms:ar([st.common,st.displacementmap,{referencePosition:{value:new q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Nt.distanceRGBA_vert,fragmentShader:Nt.distanceRGBA_frag},shadow:{uniforms:ar([st.lights,st.fog,{color:{value:new at(0)},opacity:{value:1}}]),vertexShader:Nt.shadow_vert,fragmentShader:Nt.shadow_frag}};$s.physical={uniforms:ar([$s.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new At},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new At},clearcoatNormalScale:{value:new Fe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new At},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new At},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new At},sheen:{value:0},sheenColor:{value:new at(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new At},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new At},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new At},transmissionSamplerSize:{value:new Fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new At},attenuationDistance:{value:0},attenuationColor:{value:new at(0)},specularColor:{value:new at(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new At},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new At},anisotropyVector:{value:new Fe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new At}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag};const Zv={r:0,b:0,g:0},Mc=new cs,hse=new Mt;function pse(n,e,t,i,r,s,o){const a=new at(0);let l=s===!0?0:1,c,u,d=null,f=0,m=null;function v(S){let b=S.isScene===!0?S.background:null;return b&&b.isTexture&&(b=(S.backgroundBlurriness>0?t:e).get(b)),b}function y(S){let b=!1;const E=v(S);E===null?g(a,l):E&&E.isColor&&(g(E,1),b=!0);const C=n.xr.getEnvironmentBlendMode();C==="additive"?i.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||b)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function x(S,b){const E=v(b);E&&(E.isCubeTexture||E.mapping===Ff)?(u===void 0&&(u=new Tn(new Su(1,1,1),new uo({name:"BackgroundCubeMaterial",uniforms:Mf($s.backgroundCube.uniforms),vertexShader:$s.backgroundCube.vertexShader,fragmentShader:$s.backgroundCube.fragmentShader,side:mr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Mc.copy(b.backgroundRotation),Mc.x*=-1,Mc.y*=-1,Mc.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Mc.y*=-1,Mc.z*=-1),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(hse.makeRotationFromEuler(Mc)),u.material.toneMapped=$t.getTransfer(E.colorSpace)!==sn,(d!==E||f!==E.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=E,f=E.version,m=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new Tn(new ka(2,2),new uo({name:"BackgroundMaterial",uniforms:Mf($s.background.uniforms),vertexShader:$s.background.vertexShader,fragmentShader:$s.background.fragmentShader,side:Ca,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=$t.getTransfer(E.colorSpace)!==sn,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(d!==E||f!==E.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=E,f=E.version,m=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function g(S,b){S.getRGB(Zv,zz(n)),i.buffers.color.setClear(Zv.r,Zv.g,Zv.b,b,o)}function _(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(S,b=1){a.set(S),l=b,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,g(a,l)},render:y,addToRenderList:x,dispose:_}}function mse(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=f(null);let s=r,o=!1;function a(T,O,U,j,W){let ee=!1;const K=d(j,U,O);s!==K&&(s=K,c(s.object)),ee=m(T,j,U,W),ee&&v(T,j,U,W),W!==null&&e.update(W,n.ELEMENT_ARRAY_BUFFER),(ee||o)&&(o=!1,b(T,O,U,j),W!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(W).buffer))}function l(){return n.createVertexArray()}function c(T){return n.bindVertexArray(T)}function u(T){return n.deleteVertexArray(T)}function d(T,O,U){const j=U.wireframe===!0;let W=i[T.id];W===void 0&&(W={},i[T.id]=W);let ee=W[O.id];ee===void 0&&(ee={},W[O.id]=ee);let K=ee[j];return K===void 0&&(K=f(l()),ee[j]=K),K}function f(T){const O=[],U=[],j=[];for(let W=0;W<t;W++)O[W]=0,U[W]=0,j[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:U,attributeDivisors:j,object:T,attributes:{},index:null}}function m(T,O,U,j){const W=s.attributes,ee=O.attributes;let K=0;const ne=U.getAttributes();for(const k in ne)if(ne[k].location>=0){const H=W[k];let F=ee[k];if(F===void 0&&(k==="instanceMatrix"&&T.instanceMatrix&&(F=T.instanceMatrix),k==="instanceColor"&&T.instanceColor&&(F=T.instanceColor)),H===void 0||H.attribute!==F||F&&H.data!==F.data)return!0;K++}return s.attributesNum!==K||s.index!==j}function v(T,O,U,j){const W={},ee=O.attributes;let K=0;const ne=U.getAttributes();for(const k in ne)if(ne[k].location>=0){let H=ee[k];H===void 0&&(k==="instanceMatrix"&&T.instanceMatrix&&(H=T.instanceMatrix),k==="instanceColor"&&T.instanceColor&&(H=T.instanceColor));const F={};F.attribute=H,H&&H.data&&(F.data=H.data),W[k]=F,K++}s.attributes=W,s.attributesNum=K,s.index=j}function y(){const T=s.newAttributes;for(let O=0,U=T.length;O<U;O++)T[O]=0}function x(T){g(T,0)}function g(T,O){const U=s.newAttributes,j=s.enabledAttributes,W=s.attributeDivisors;U[T]=1,j[T]===0&&(n.enableVertexAttribArray(T),j[T]=1),W[T]!==O&&(n.vertexAttribDivisor(T,O),W[T]=O)}function _(){const T=s.newAttributes,O=s.enabledAttributes;for(let U=0,j=O.length;U<j;U++)O[U]!==T[U]&&(n.disableVertexAttribArray(U),O[U]=0)}function S(T,O,U,j,W,ee,K){K===!0?n.vertexAttribIPointer(T,O,U,W,ee):n.vertexAttribPointer(T,O,U,j,W,ee)}function b(T,O,U,j){y();const W=j.attributes,ee=U.getAttributes(),K=O.defaultAttributeValues;for(const ne in ee){const k=ee[ne];if(k.location>=0){let B=W[ne];if(B===void 0&&(ne==="instanceMatrix"&&T.instanceMatrix&&(B=T.instanceMatrix),ne==="instanceColor"&&T.instanceColor&&(B=T.instanceColor)),B!==void 0){const H=B.normalized,F=B.itemSize,Y=e.get(B);if(Y===void 0)continue;const ie=Y.buffer,$=Y.type,te=Y.bytesPerElement,oe=$===n.INT||$===n.UNSIGNED_INT||B.gpuType===Yx;if(B.isInterleavedBufferAttribute){const se=B.data,ve=se.stride,Ue=B.offset;if(se.isInstancedInterleavedBuffer){for(let Ne=0;Ne<k.locationSize;Ne++)g(k.location+Ne,se.meshPerAttribute);T.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Ne=0;Ne<k.locationSize;Ne++)x(k.location+Ne);n.bindBuffer(n.ARRAY_BUFFER,ie);for(let Ne=0;Ne<k.locationSize;Ne++)S(k.location+Ne,F/k.locationSize,$,H,ve*te,(Ue+F/k.locationSize*Ne)*te,oe)}else{if(B.isInstancedBufferAttribute){for(let se=0;se<k.locationSize;se++)g(k.location+se,B.meshPerAttribute);T.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let se=0;se<k.locationSize;se++)x(k.location+se);n.bindBuffer(n.ARRAY_BUFFER,ie);for(let se=0;se<k.locationSize;se++)S(k.location+se,F/k.locationSize,$,H,F*te,F/k.locationSize*se*te,oe)}}else if(K!==void 0){const H=K[ne];if(H!==void 0)switch(H.length){case 2:n.vertexAttrib2fv(k.location,H);break;case 3:n.vertexAttrib3fv(k.location,H);break;case 4:n.vertexAttrib4fv(k.location,H);break;default:n.vertexAttrib1fv(k.location,H)}}}}_()}function E(){R();for(const T in i){const O=i[T];for(const U in O){const j=O[U];for(const W in j)u(j[W].object),delete j[W];delete O[U]}delete i[T]}}function C(T){if(i[T.id]===void 0)return;const O=i[T.id];for(const U in O){const j=O[U];for(const W in j)u(j[W].object),delete j[W];delete O[U]}delete i[T.id]}function P(T){for(const O in i){const U=i[O];if(U[T.id]===void 0)continue;const j=U[T.id];for(const W in j)u(j[W].object),delete j[W];delete U[T.id]}}function R(){I(),o=!0,s!==r&&(s=r,c(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:R,resetDefaultState:I,dispose:E,releaseStatesOfGeometry:C,releaseStatesOfProgram:P,initAttributes:y,enableAttribute:x,disableUnusedAttributes:_}}function gse(n,e,t){let i;function r(c){i=c}function s(c,u){n.drawArrays(i,c,u),t.update(u,i,1)}function o(c,u,d){d!==0&&(n.drawArraysInstanced(i,c,u,d),t.update(u,i,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,d);let m=0;for(let v=0;v<d;v++)m+=u[v];t.update(m,i,1)}function l(c,u,d,f){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)o(c[v],u[v],f[v]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,u,0,f,0,d);let v=0;for(let y=0;y<d;y++)v+=u[y]*f[y];t.update(v,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function vse(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(P){return!(P!==Yi&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(P){const R=P===zf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Ns&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Dr&&!R)}function l(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=t.logarithmicDepthBuffer===!0,f=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),b=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),E=v>0,C=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:m,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:x,maxAttributes:g,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:b,vertexTextures:E,maxSamples:C}}function yse(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ca,a=new At,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||i!==0||r;return r=f,i=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,m){const v=d.clippingPlanes,y=d.clipIntersection,x=d.clipShadows,g=n.get(d);if(!r||v===null||v.length===0||s&&!x)s?u(null):c();else{const _=s?0:i,S=_*4;let b=g.clippingState||null;l.value=b,b=u(v,f,S,m);for(let E=0;E!==S;++E)b[E]=t[E];g.clippingState=b,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,f,m,v){const y=d!==null?d.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const g=m+y*4,_=f.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<g)&&(x=new Float32Array(g));for(let S=0,b=m;S!==y;++S,b+=4)o.copy(d[S]).applyMatrix4(_,a),o.normal.toArray(x,b),x[b+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function xse(n){let e=new WeakMap;function t(o,a){return a===sm?o.mapping=Aa:a===om&&(o.mapping=Fl),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===sm||a===om)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Vz(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const Ud=4,I3=[.125,.215,.35,.446,.526,.582],kc=20,hS=new Pl,D3=new at;let pS=null,mS=0,gS=0,vS=!1;const Lc=(1+Math.sqrt(5))/2,ld=1/Lc,L3=[new q(-Lc,ld,0),new q(Lc,ld,0),new q(-ld,0,Lc),new q(ld,0,Lc),new q(0,Lc,-ld),new q(0,Lc,ld),new q(-1,1,-1),new q(1,1,-1),new q(-1,1,1),new q(1,1,1)],_se=new q;class CM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:o=256,position:a=_se}=s;pS=this._renderer.getRenderTarget(),mS=this._renderer.getActiveCubeFace(),gS=this._renderer.getActiveMipmapLevel(),vS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,a),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=O3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=N3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(pS,mS,gS),this._renderer.xr.enabled=vS,e.scissorTest=!1,Qv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Aa||e.mapping===Fl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),pS=this._renderer.getRenderTarget(),mS=this._renderer.getActiveCubeFace(),gS=this._renderer.getActiveMipmapLevel(),vS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Wn,minFilter:Wn,generateMipmaps:!1,type:zf,format:Yi,colorSpace:hu,depthBuffer:!1},r=k3(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=k3(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=wse(s)),this._blurMaterial=Sse(s,e,t)}return r}_compileMaterial(e){const t=new Tn(this._lodPlanes[0],e);this._renderer.compile(t,hS)}_sceneToCubeUV(e,t,i,r,s){const l=new Hn(90,1,t,i),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,m=d.toneMapping;d.getClearColor(D3),d.toneMapping=ko,d.autoClear=!1;const v=new La({name:"PMREM.Background",side:mr,depthWrite:!1,depthTest:!1}),y=new Tn(new Su,v);let x=!1;const g=e.background;g?g.isColor&&(v.color.copy(g),e.background=null,x=!0):(v.color.copy(D3),x=!0);for(let _=0;_<6;_++){const S=_%3;S===0?(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+u[_],s.y,s.z)):S===1?(l.up.set(0,0,c[_]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+u[_],s.z)):(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+u[_]));const b=this._cubeSize;Qv(r,S*b,_>2?b:0,b,b),d.setRenderTarget(r),x&&d.render(y,l),d.render(e,l)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=m,d.autoClear=f,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Aa||e.mapping===Fl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=O3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=N3());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Tn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Qv(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,hS)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=L3[(r-s-1)%L3.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Tn(this._lodPlanes[r],c),f=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*kc-1),y=s/v,x=isFinite(s)?1+Math.floor(u*y):kc;x>kc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${kc}`);const g=[];let _=0;for(let P=0;P<kc;++P){const R=P/y,I=Math.exp(-R*R/2);g.push(I),P===0?_+=I:P<x&&(_+=2*I)}for(let P=0;P<g.length;P++)g[P]=g[P]/_;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=g,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=v,f.mipInt.value=S-i;const b=this._sizeLods[r],E=3*b*(r>S-Ud?r-S+Ud:0),C=4*(this._cubeSize-b);Qv(t,E,C,3*b,2*b),l.setRenderTarget(t),l.render(d,hS)}}function wse(n){const e=[],t=[],i=[];let r=n;const s=n-Ud+1+I3.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Ud?l=I3[o-n+Ud-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,v=6,y=3,x=2,g=1,_=new Float32Array(y*v*m),S=new Float32Array(x*v*m),b=new Float32Array(g*v*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,R=C>2?0:-1,I=[P,R,0,P+2/3,R,0,P+2/3,R+1,0,P,R,0,P+2/3,R+1,0,P,R+1,0];_.set(I,y*v*C),S.set(f,x*v*C);const T=[C,C,C,C,C,C];b.set(T,g*v*C)}const E=new Ut;E.setAttribute("position",new an(_,y)),E.setAttribute("uv",new an(S,x)),E.setAttribute("faceIndex",new an(b,g)),e.push(E),r>Ud&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function k3(n,e,t){const i=new Fo(n,e,t);return i.texture.mapping=Ff,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Qv(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Sse(n,e,t){const i=new Float32Array(kc),r=new q(0,1,0);return new uo({name:"SphericalGaussianBlur",defines:{n:kc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:_2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function N3(){return new uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function O3(){return new uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function _2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function bse(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===sm||l===om,u=l===Aa||l===Fl;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return t===null&&(t=new CM(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&r(m)?(t===null&&(t=new CM(n)),d=c?t.fromEquirectangular(a):t.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Mse(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&qd("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Ese(n,e,t,i){const r={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);f.removeEventListener("dispose",o),delete r[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(d,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const m in f)e.update(f[m],n.ARRAY_BUFFER)}function c(d){const f=[],m=d.index,v=d.attributes.position;let y=0;if(m!==null){const _=m.array;y=m.version;for(let S=0,b=_.length;S<b;S+=3){const E=_[S+0],C=_[S+1],P=_[S+2];f.push(E,C,C,P,P,E)}}else if(v!==void 0){const _=v.array;y=v.version;for(let S=0,b=_.length/3-1;S<b;S+=3){const E=S+0,C=S+1,P=S+2;f.push(E,C,C,P,P,E)}}else return;const x=new(Nz(f)?qT:YT)(f,1);x.version=y;const g=s.get(d);g&&e.remove(g),s.set(d,x)}function u(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Tse(n,e,t){let i;function r(f){i=f}let s,o;function a(f){s=f.type,o=f.bytesPerElement}function l(f,m){n.drawElements(i,m,s,f*o),t.update(m,i,1)}function c(f,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,f*o,v),t.update(m,i,v))}function u(f,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,s,f,0,v);let x=0;for(let g=0;g<v;g++)x+=m[g];t.update(x,i,1)}function d(f,m,v,y){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let g=0;g<f.length;g++)c(f[g]/o,m[g],y[g]);else{x.multiDrawElementsInstancedWEBGL(i,m,0,s,f,0,y,0,v);let g=0;for(let _=0;_<v;_++)g+=m[_]*y[_];t.update(g,i,1)}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Cse(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Ase(n,e,t){const i=new WeakMap,r=new Kt;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=i.get(a);if(f===void 0||f.count!==d){let T=function(){R.dispose(),i.delete(a),a.removeEventListener("dispose",T)};var m=T;f!==void 0&&f.texture.dispose();const v=a.morphAttributes.position!==void 0,y=a.morphAttributes.normal!==void 0,x=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],_=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let b=0;v===!0&&(b=1),y===!0&&(b=2),x===!0&&(b=3);let E=a.attributes.position.count*b,C=1;E>e.maxTextureSize&&(C=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const P=new Float32Array(E*C*4*d),R=new e1(P,E,C,d);R.type=Dr,R.needsUpdate=!0;const I=b*4;for(let O=0;O<d;O++){const U=g[O],j=_[O],W=S[O],ee=E*C*4*O;for(let K=0;K<U.count;K++){const ne=K*I;v===!0&&(r.fromBufferAttribute(U,K),P[ee+ne+0]=r.x,P[ee+ne+1]=r.y,P[ee+ne+2]=r.z,P[ee+ne+3]=0),y===!0&&(r.fromBufferAttribute(j,K),P[ee+ne+4]=r.x,P[ee+ne+5]=r.y,P[ee+ne+6]=r.z,P[ee+ne+7]=0),x===!0&&(r.fromBufferAttribute(W,K),P[ee+ne+8]=r.x,P[ee+ne+9]=r.y,P[ee+ne+10]=r.z,P[ee+ne+11]=W.itemSize===4?r.w:1)}}f={count:d,texture:R,size:new Fe(E,C)},i.set(a,f),a.addEventListener("dispose",T)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let x=0;x<c.length;x++)v+=c[x];const y=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",y),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}return{update:s}}function Pse(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;r.get(f)!==c&&(f.update(),r.set(f,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const z4=new An,U3=new e2(1,1),B4=new e1,V4=new t1,H4=new Bm,F3=[],z3=[],B3=new Float32Array(16),V3=new Float32Array(9),H3=new Float32Array(4);function Vf(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=F3[r];if(s===void 0&&(s=new Float32Array(r),F3[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function li(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ci(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function M1(n,e){let t=z3[e];t===void 0&&(t=new Int32Array(e),z3[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Rse(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ise(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2fv(this.addr,e),ci(t,e)}}function Dse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(li(t,e))return;n.uniform3fv(this.addr,e),ci(t,e)}}function Lse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4fv(this.addr,e),ci(t,e)}}function kse(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(li(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ci(t,e)}else{if(li(t,i))return;H3.set(i),n.uniformMatrix2fv(this.addr,!1,H3),ci(t,i)}}function Nse(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(li(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ci(t,e)}else{if(li(t,i))return;V3.set(i),n.uniformMatrix3fv(this.addr,!1,V3),ci(t,i)}}function Ose(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(li(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ci(t,e)}else{if(li(t,i))return;B3.set(i),n.uniformMatrix4fv(this.addr,!1,B3),ci(t,i)}}function Use(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Fse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2iv(this.addr,e),ci(t,e)}}function zse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(li(t,e))return;n.uniform3iv(this.addr,e),ci(t,e)}}function Bse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4iv(this.addr,e),ci(t,e)}}function Vse(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Hse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2uiv(this.addr,e),ci(t,e)}}function Gse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(li(t,e))return;n.uniform3uiv(this.addr,e),ci(t,e)}}function Wse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4uiv(this.addr,e),ci(t,e)}}function jse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(U3.compareFunction=WT,s=U3):s=z4,t.setTexture2D(e||s,r)}function Xse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||V4,r)}function Yse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||H4,r)}function qse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||B4,r)}function Kse(n){switch(n){case 5126:return Rse;case 35664:return Ise;case 35665:return Dse;case 35666:return Lse;case 35674:return kse;case 35675:return Nse;case 35676:return Ose;case 5124:case 35670:return Use;case 35667:case 35671:return Fse;case 35668:case 35672:return zse;case 35669:case 35673:return Bse;case 5125:return Vse;case 36294:return Hse;case 36295:return Gse;case 36296:return Wse;case 35678:case 36198:case 36298:case 36306:case 35682:return jse;case 35679:case 36299:case 36307:return Xse;case 35680:case 36300:case 36308:case 36293:return Yse;case 36289:case 36303:case 36311:case 36292:return qse}}function $se(n,e){n.uniform1fv(this.addr,e)}function Zse(n,e){const t=Vf(e,this.size,2);n.uniform2fv(this.addr,t)}function Qse(n,e){const t=Vf(e,this.size,3);n.uniform3fv(this.addr,t)}function Jse(n,e){const t=Vf(e,this.size,4);n.uniform4fv(this.addr,t)}function eoe(n,e){const t=Vf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function toe(n,e){const t=Vf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function noe(n,e){const t=Vf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ioe(n,e){n.uniform1iv(this.addr,e)}function roe(n,e){n.uniform2iv(this.addr,e)}function soe(n,e){n.uniform3iv(this.addr,e)}function ooe(n,e){n.uniform4iv(this.addr,e)}function aoe(n,e){n.uniform1uiv(this.addr,e)}function loe(n,e){n.uniform2uiv(this.addr,e)}function coe(n,e){n.uniform3uiv(this.addr,e)}function uoe(n,e){n.uniform4uiv(this.addr,e)}function doe(n,e,t){const i=this.cache,r=e.length,s=M1(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ci(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||z4,s[o])}function foe(n,e,t){const i=this.cache,r=e.length,s=M1(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ci(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||V4,s[o])}function hoe(n,e,t){const i=this.cache,r=e.length,s=M1(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ci(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||H4,s[o])}function poe(n,e,t){const i=this.cache,r=e.length,s=M1(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ci(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||B4,s[o])}function moe(n){switch(n){case 5126:return $se;case 35664:return Zse;case 35665:return Qse;case 35666:return Jse;case 35674:return eoe;case 35675:return toe;case 35676:return noe;case 5124:case 35670:return ioe;case 35667:case 35671:return roe;case 35668:case 35672:return soe;case 35669:case 35673:return ooe;case 5125:return aoe;case 36294:return loe;case 36295:return coe;case 36296:return uoe;case 35678:case 36198:case 36298:case 36306:case 35682:return doe;case 35679:case 36299:case 36307:return foe;case 35680:case 36300:case 36308:case 36293:return hoe;case 36289:case 36303:case 36311:case 36292:return poe}}class goe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Kse(t.type)}}class voe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=moe(t.type)}}class yoe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const yS=/(\w+)(\])?(\[|\.)?/g;function G3(n,e){n.seq.push(e),n.map[e.id]=e}function xoe(n,e,t){const i=n.name,r=i.length;for(yS.lastIndex=0;;){const s=yS.exec(i),o=yS.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){G3(t,c===void 0?new goe(a,n,e):new voe(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new yoe(a),G3(t,d)),t=d}}}class Py{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);xoe(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function W3(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const _oe=37297;let woe=0;function Soe(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}const j3=new At;function boe(n){$t._getMatrix(j3,$t.workingColorSpace,n);const e=`mat3( ${j3.elements.map(t=>t.toFixed(4))} )`;switch($t.getTransfer(n)){case dm:return[e,"LinearTransferOETF"];case sn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function X3(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Soe(n.getShaderSource(e),o)}else return r}function Moe(n,e){const t=boe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Eoe(n,e){let t;switch(e){case mz:t="Linear";break;case gz:t="Reinhard";break;case vz:t="Cineon";break;case LT:t="ACESFilmic";break;case xz:t="AgX";break;case _z:t="Neutral";break;case yz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Jv=new q;function Toe(){$t.getLuminanceCoefficients(Jv);const n=Jv.x.toFixed(4),e=Jv.y.toFixed(4),t=Jv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Coe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(qh).join(`
`)}function Aoe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Poe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function qh(n){return n!==""}function Y3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function q3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Roe=/^[ \t]*#include +<([\w\d./]+)>/gm;function AM(n){return n.replace(Roe,Doe)}const Ioe=new Map;function Doe(n,e){let t=Nt[e];if(t===void 0){const i=Ioe.get(e);if(i!==void 0)t=Nt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return AM(t)}const Loe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function K3(n){return n.replace(Loe,koe)}function koe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function $3(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Noe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===jx?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===hp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Xs&&(e="SHADOWMAP_TYPE_VSM"),e}function Ooe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Aa:case Fl:e="ENVMAP_TYPE_CUBE";break;case Ff:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Uoe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Fl:e="ENVMAP_MODE_REFRACTION";break}return e}function Foe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Um:e="ENVMAP_BLENDING_MULTIPLY";break;case hz:e="ENVMAP_BLENDING_MIX";break;case pz:e="ENVMAP_BLENDING_ADD";break}return e}function zoe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Boe(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Noe(t),c=Ooe(t),u=Uoe(t),d=Foe(t),f=zoe(t),m=Coe(t),v=Aoe(s),y=r.createProgram();let x,g,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(qh).join(`
`),x.length>0&&(x+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(qh).join(`
`),g.length>0&&(g+=`
`)):(x=[$3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qh).join(`
`),g=[$3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ko?"#define TONE_MAPPING":"",t.toneMapping!==ko?Nt.tonemapping_pars_fragment:"",t.toneMapping!==ko?Eoe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Nt.colorspace_pars_fragment,Moe("linearToOutputTexel",t.outputColorSpace),Toe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(qh).join(`
`)),o=AM(o),o=Y3(o,t),o=q3(o,t),a=AM(a),a=Y3(a,t),a=q3(a,t),o=K3(o),a=K3(a),t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===yM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===yM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=_+x+o,b=_+g+a,E=W3(r,r.VERTEX_SHADER,S),C=W3(r,r.FRAGMENT_SHADER,b);r.attachShader(y,E),r.attachShader(y,C),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function P(O){if(n.debug.checkShaderErrors){const U=r.getProgramInfoLog(y).trim(),j=r.getShaderInfoLog(E).trim(),W=r.getShaderInfoLog(C).trim();let ee=!0,K=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(ee=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,y,E,C);else{const ne=X3(r,E,"vertex"),k=X3(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+U+`
`+ne+`
`+k)}else U!==""?console.warn("THREE.WebGLProgram: Program Info Log:",U):(j===""||W==="")&&(K=!1);K&&(O.diagnostics={runnable:ee,programLog:U,vertexShader:{log:j,prefix:x},fragmentShader:{log:W,prefix:g}})}r.deleteShader(E),r.deleteShader(C),R=new Py(r,y),I=Poe(r,y)}let R;this.getUniforms=function(){return R===void 0&&P(this),R};let I;this.getAttributes=function(){return I===void 0&&P(this),I};let T=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return T===!1&&(T=r.getProgramParameter(y,_oe)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=woe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=C,this}let Voe=0;class Hoe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Goe(e),t.set(e,i)),i}}class Goe{constructor(e){this.id=Voe++,this.code=e,this.usedTimes=0}}function Woe(n,e,t,i,r,s,o){const a=new Jc,l=new Hoe,c=new Set,u=[],d=r.logarithmicDepthBuffer,f=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(I){return c.add(I),I===0?"uv":`uv${I}`}function x(I,T,O,U,j){const W=U.fog,ee=j.geometry,K=I.isMeshStandardMaterial?U.environment:null,ne=(I.isMeshStandardMaterial?t:e).get(I.envMap||K),k=ne&&ne.mapping===Ff?ne.image.height:null,B=v[I.type];I.precision!==null&&(m=r.getMaxPrecision(I.precision),m!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",m,"instead."));const H=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,F=H!==void 0?H.length:0;let Y=0;ee.morphAttributes.position!==void 0&&(Y=1),ee.morphAttributes.normal!==void 0&&(Y=2),ee.morphAttributes.color!==void 0&&(Y=3);let ie,$,te,oe;if(B){const gt=$s[B];ie=gt.vertexShader,$=gt.fragmentShader}else ie=I.vertexShader,$=I.fragmentShader,l.update(I),te=l.getVertexShaderID(I),oe=l.getFragmentShaderID(I);const se=n.getRenderTarget(),ve=n.state.buffers.depth.getReversed(),Ue=j.isInstancedMesh===!0,Ne=j.isBatchedMesh===!0,Oe=!!I.map,Pe=!!I.matcap,We=!!ne,G=!!I.aoMap,Re=!!I.lightMap,we=!!I.bumpMap,De=!!I.normalMap,ae=!!I.displacementMap,Ae=!!I.emissiveMap,ye=!!I.metalnessMap,ue=!!I.roughnessMap,je=I.anisotropy>0,V=I.clearcoat>0,N=I.dispersion>0,re=I.iridescence>0,_e=I.sheen>0,ge=I.transmission>0,fe=je&&!!I.anisotropyMap,ze=V&&!!I.clearcoatMap,Be=V&&!!I.clearcoatNormalMap,Xe=V&&!!I.clearcoatRoughnessMap,Ye=re&&!!I.iridescenceMap,be=re&&!!I.iridescenceThicknessMap,Ve=_e&&!!I.sheenColorMap,He=_e&&!!I.sheenRoughnessMap,Q=!!I.specularMap,de=!!I.specularColorMap,Ee=!!I.specularIntensityMap,Z=ge&&!!I.transmissionMap,xe=ge&&!!I.thicknessMap,Te=!!I.gradientMap,$e=!!I.alphaMap,ke=I.alphaTest>0,Se=!!I.alphaHash,Ke=!!I.extensions;let nt=ko;I.toneMapped&&(se===null||se.isXRRenderTarget===!0)&&(nt=n.toneMapping);const rt={shaderID:B,shaderType:I.type,shaderName:I.name,vertexShader:ie,fragmentShader:$,defines:I.defines,customVertexShaderID:te,customFragmentShaderID:oe,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:m,batching:Ne,batchingColor:Ne&&j._colorsTexture!==null,instancing:Ue,instancingColor:Ue&&j.instanceColor!==null,instancingMorph:Ue&&j.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:se===null?n.outputColorSpace:se.isXRRenderTarget===!0?se.texture.colorSpace:hu,alphaToCoverage:!!I.alphaToCoverage,map:Oe,matcap:Pe,envMap:We,envMapMode:We&&ne.mapping,envMapCubeUVHeight:k,aoMap:G,lightMap:Re,bumpMap:we,normalMap:De,displacementMap:f&&ae,emissiveMap:Ae,normalMapObjectSpace:De&&I.normalMapType===Tz,normalMapTangentSpace:De&&I.normalMapType===jl,metalnessMap:ye,roughnessMap:ue,anisotropy:je,anisotropyMap:fe,clearcoat:V,clearcoatMap:ze,clearcoatNormalMap:Be,clearcoatRoughnessMap:Xe,dispersion:N,iridescence:re,iridescenceMap:Ye,iridescenceThicknessMap:be,sheen:_e,sheenColorMap:Ve,sheenRoughnessMap:He,specularMap:Q,specularColorMap:de,specularIntensityMap:Ee,transmission:ge,transmissionMap:Z,thicknessMap:xe,gradientMap:Te,opaque:I.transparent===!1&&I.blending===Zc&&I.alphaToCoverage===!1,alphaMap:$e,alphaTest:ke,alphaHash:Se,combine:I.combine,mapUv:Oe&&y(I.map.channel),aoMapUv:G&&y(I.aoMap.channel),lightMapUv:Re&&y(I.lightMap.channel),bumpMapUv:we&&y(I.bumpMap.channel),normalMapUv:De&&y(I.normalMap.channel),displacementMapUv:ae&&y(I.displacementMap.channel),emissiveMapUv:Ae&&y(I.emissiveMap.channel),metalnessMapUv:ye&&y(I.metalnessMap.channel),roughnessMapUv:ue&&y(I.roughnessMap.channel),anisotropyMapUv:fe&&y(I.anisotropyMap.channel),clearcoatMapUv:ze&&y(I.clearcoatMap.channel),clearcoatNormalMapUv:Be&&y(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xe&&y(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&y(I.iridescenceMap.channel),iridescenceThicknessMapUv:be&&y(I.iridescenceThicknessMap.channel),sheenColorMapUv:Ve&&y(I.sheenColorMap.channel),sheenRoughnessMapUv:He&&y(I.sheenRoughnessMap.channel),specularMapUv:Q&&y(I.specularMap.channel),specularColorMapUv:de&&y(I.specularColorMap.channel),specularIntensityMapUv:Ee&&y(I.specularIntensityMap.channel),transmissionMapUv:Z&&y(I.transmissionMap.channel),thicknessMapUv:xe&&y(I.thicknessMap.channel),alphaMapUv:$e&&y(I.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(De||je),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!ee.attributes.uv&&(Oe||$e),fog:!!W,useFog:I.fog===!0,fogExp2:!!W&&W.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:ve,skinning:j.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:F,morphTextureStride:Y,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:nt,decodeVideoTexture:Oe&&I.map.isVideoTexture===!0&&$t.getTransfer(I.map.colorSpace)===sn,decodeVideoTextureEmissive:Ae&&I.emissiveMap.isVideoTexture===!0&&$t.getTransfer(I.emissiveMap.colorSpace)===sn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Zs,flipSided:I.side===mr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Ke&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ke&&I.extensions.multiDraw===!0||Ne)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return rt.vertexUv1s=c.has(1),rt.vertexUv2s=c.has(2),rt.vertexUv3s=c.has(3),c.clear(),rt}function g(I){const T=[];if(I.shaderID?T.push(I.shaderID):(T.push(I.customVertexShaderID),T.push(I.customFragmentShaderID)),I.defines!==void 0)for(const O in I.defines)T.push(O),T.push(I.defines[O]);return I.isRawShaderMaterial===!1&&(_(T,I),S(T,I),T.push(n.outputColorSpace)),T.push(I.customProgramCacheKey),T.join()}function _(I,T){I.push(T.precision),I.push(T.outputColorSpace),I.push(T.envMapMode),I.push(T.envMapCubeUVHeight),I.push(T.mapUv),I.push(T.alphaMapUv),I.push(T.lightMapUv),I.push(T.aoMapUv),I.push(T.bumpMapUv),I.push(T.normalMapUv),I.push(T.displacementMapUv),I.push(T.emissiveMapUv),I.push(T.metalnessMapUv),I.push(T.roughnessMapUv),I.push(T.anisotropyMapUv),I.push(T.clearcoatMapUv),I.push(T.clearcoatNormalMapUv),I.push(T.clearcoatRoughnessMapUv),I.push(T.iridescenceMapUv),I.push(T.iridescenceThicknessMapUv),I.push(T.sheenColorMapUv),I.push(T.sheenRoughnessMapUv),I.push(T.specularMapUv),I.push(T.specularColorMapUv),I.push(T.specularIntensityMapUv),I.push(T.transmissionMapUv),I.push(T.thicknessMapUv),I.push(T.combine),I.push(T.fogExp2),I.push(T.sizeAttenuation),I.push(T.morphTargetsCount),I.push(T.morphAttributeCount),I.push(T.numDirLights),I.push(T.numPointLights),I.push(T.numSpotLights),I.push(T.numSpotLightMaps),I.push(T.numHemiLights),I.push(T.numRectAreaLights),I.push(T.numDirLightShadows),I.push(T.numPointLightShadows),I.push(T.numSpotLightShadows),I.push(T.numSpotLightShadowsWithMaps),I.push(T.numLightProbes),I.push(T.shadowMapType),I.push(T.toneMapping),I.push(T.numClippingPlanes),I.push(T.numClipIntersection),I.push(T.depthPacking)}function S(I,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),T.gradientMap&&a.enable(22),I.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.reverseDepthBuffer&&a.enable(4),T.skinning&&a.enable(5),T.morphTargets&&a.enable(6),T.morphNormals&&a.enable(7),T.morphColors&&a.enable(8),T.premultipliedAlpha&&a.enable(9),T.shadowMapEnabled&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.transmission&&a.enable(15),T.sheen&&a.enable(16),T.opaque&&a.enable(17),T.pointsUvs&&a.enable(18),T.decodeVideoTexture&&a.enable(19),T.decodeVideoTextureEmissive&&a.enable(20),T.alphaToCoverage&&a.enable(21),I.push(a.mask)}function b(I){const T=v[I.type];let O;if(T){const U=$s[T];O=KT.clone(U.uniforms)}else O=I.uniforms;return O}function E(I,T){let O;for(let U=0,j=u.length;U<j;U++){const W=u[U];if(W.cacheKey===T){O=W,++O.usedTimes;break}}return O===void 0&&(O=new Boe(n,T,I,s),u.push(O)),O}function C(I){if(--I.usedTimes===0){const T=u.indexOf(I);u[T]=u[u.length-1],u.pop(),I.destroy()}}function P(I){l.remove(I)}function R(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:b,acquireProgram:E,releaseProgram:C,releaseShaderCache:P,programs:u,dispose:R}}function joe(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function i(o){n.delete(o)}function r(o,a,l){n.get(o)[a]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function Xoe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Z3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Q3(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,f,m,v,y,x){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:m,groupOrder:v,renderOrder:d.renderOrder,z:y,group:x},n[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=y,g.group=x),e++,g}function a(d,f,m,v,y,x){const g=o(d,f,m,v,y,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,f,m,v,y,x){const g=o(d,f,m,v,y,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,f){t.length>1&&t.sort(d||Xoe),i.length>1&&i.sort(f||Z3),r.length>1&&r.sort(f||Z3)}function u(){for(let d=e,f=n.length;d<f;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function Yoe(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new Q3,n.set(i,[o])):r>=s.length?(o=new Q3,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function qoe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new q,color:new at};break;case"SpotLight":t={position:new q,direction:new q,color:new at,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new q,color:new at,distance:0,decay:0};break;case"HemisphereLight":t={direction:new q,skyColor:new at,groundColor:new at};break;case"RectAreaLight":t={color:new at,position:new q,halfWidth:new q,halfHeight:new q};break}return n[e.id]=t,t}}}function Koe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let $oe=0;function Zoe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Qoe(n){const e=new qoe,t=Koe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new q);const r=new q,s=new Mt,o=new Mt;function a(c){let u=0,d=0,f=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let m=0,v=0,y=0,x=0,g=0,_=0,S=0,b=0,E=0,C=0,P=0;c.sort(Zoe);for(let I=0,T=c.length;I<T;I++){const O=c[I],U=O.color,j=O.intensity,W=O.distance,ee=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=U.r*j,d+=U.g*j,f+=U.b*j;else if(O.isLightProbe){for(let K=0;K<9;K++)i.probe[K].addScaledVector(O.sh.coefficients[K],j);P++}else if(O.isDirectionalLight){const K=e.get(O);if(K.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const ne=O.shadow,k=t.get(O);k.shadowIntensity=ne.intensity,k.shadowBias=ne.bias,k.shadowNormalBias=ne.normalBias,k.shadowRadius=ne.radius,k.shadowMapSize=ne.mapSize,i.directionalShadow[m]=k,i.directionalShadowMap[m]=ee,i.directionalShadowMatrix[m]=O.shadow.matrix,_++}i.directional[m]=K,m++}else if(O.isSpotLight){const K=e.get(O);K.position.setFromMatrixPosition(O.matrixWorld),K.color.copy(U).multiplyScalar(j),K.distance=W,K.coneCos=Math.cos(O.angle),K.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),K.decay=O.decay,i.spot[y]=K;const ne=O.shadow;if(O.map&&(i.spotLightMap[E]=O.map,E++,ne.updateMatrices(O),O.castShadow&&C++),i.spotLightMatrix[y]=ne.matrix,O.castShadow){const k=t.get(O);k.shadowIntensity=ne.intensity,k.shadowBias=ne.bias,k.shadowNormalBias=ne.normalBias,k.shadowRadius=ne.radius,k.shadowMapSize=ne.mapSize,i.spotShadow[y]=k,i.spotShadowMap[y]=ee,b++}y++}else if(O.isRectAreaLight){const K=e.get(O);K.color.copy(U).multiplyScalar(j),K.halfWidth.set(O.width*.5,0,0),K.halfHeight.set(0,O.height*.5,0),i.rectArea[x]=K,x++}else if(O.isPointLight){const K=e.get(O);if(K.color.copy(O.color).multiplyScalar(O.intensity),K.distance=O.distance,K.decay=O.decay,O.castShadow){const ne=O.shadow,k=t.get(O);k.shadowIntensity=ne.intensity,k.shadowBias=ne.bias,k.shadowNormalBias=ne.normalBias,k.shadowRadius=ne.radius,k.shadowMapSize=ne.mapSize,k.shadowCameraNear=ne.camera.near,k.shadowCameraFar=ne.camera.far,i.pointShadow[v]=k,i.pointShadowMap[v]=ee,i.pointShadowMatrix[v]=O.shadow.matrix,S++}i.point[v]=K,v++}else if(O.isHemisphereLight){const K=e.get(O);K.skyColor.copy(O.color).multiplyScalar(j),K.groundColor.copy(O.groundColor).multiplyScalar(j),i.hemi[g]=K,g++}}x>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=st.LTC_FLOAT_1,i.rectAreaLTC2=st.LTC_FLOAT_2):(i.rectAreaLTC1=st.LTC_HALF_1,i.rectAreaLTC2=st.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=f;const R=i.hash;(R.directionalLength!==m||R.pointLength!==v||R.spotLength!==y||R.rectAreaLength!==x||R.hemiLength!==g||R.numDirectionalShadows!==_||R.numPointShadows!==S||R.numSpotShadows!==b||R.numSpotMaps!==E||R.numLightProbes!==P)&&(i.directional.length=m,i.spot.length=y,i.rectArea.length=x,i.point.length=v,i.hemi.length=g,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=S,i.pointShadowMap.length=S,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=S,i.spotLightMatrix.length=b+E-C,i.spotLightMap.length=E,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=P,R.directionalLength=m,R.pointLength=v,R.spotLength=y,R.rectAreaLength=x,R.hemiLength=g,R.numDirectionalShadows=_,R.numPointShadows=S,R.numSpotShadows=b,R.numSpotMaps=E,R.numLightProbes=P,i.version=$oe++)}function l(c,u){let d=0,f=0,m=0,v=0,y=0;const x=u.matrixWorldInverse;for(let g=0,_=c.length;g<_;g++){const S=c[g];if(S.isDirectionalLight){const b=i.directional[d];b.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(x),d++}else if(S.isSpotLight){const b=i.spot[m];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(x),b.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(x),m++}else if(S.isRectAreaLight){const b=i.rectArea[v];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(x),o.identity(),s.copy(S.matrixWorld),s.premultiply(x),o.extractRotation(s),b.halfWidth.set(S.width*.5,0,0),b.halfHeight.set(0,S.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(S.isPointLight){const b=i.point[f];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(x),f++}else if(S.isHemisphereLight){const b=i.hemi[y];b.direction.setFromMatrixPosition(S.matrixWorld),b.direction.transformDirection(x),y++}}}return{setup:a,setupView:l,state:i}}function J3(n){const e=new Qoe(n),t=[],i=[];function r(u){c.camera=u,t.length=0,i.length=0}function s(u){t.push(u)}function o(u){i.push(u)}function a(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Joe(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new J3(n),e.set(r,[a])):s>=o.length?(a=new J3(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}const eae=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,tae=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nae(n,e,t){let i=new Bf;const r=new Fe,s=new Fe,o=new Kt,a=new w1({depthPacking:GT}),l=new S1,c={},u=t.maxTextureSize,d={[Ca]:mr,[mr]:Ca,[Zs]:Zs},f=new uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fe},radius:{value:4}},vertexShader:eae,fragmentShader:tae}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new Ut;v.setAttribute("position",new an(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Tn(v,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jx;let g=this.type;this.render=function(C,P,R){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const I=n.getRenderTarget(),T=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),U=n.state;U.setBlending(va),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const j=g!==Xs&&this.type===Xs,W=g===Xs&&this.type!==Xs;for(let ee=0,K=C.length;ee<K;ee++){const ne=C[ee],k=ne.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const B=k.getFrameExtents();if(r.multiply(B),s.copy(k.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/B.x),r.x=s.x*B.x,k.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/B.y),r.y=s.y*B.y,k.mapSize.y=s.y)),k.map===null||j===!0||W===!0){const F=this.type!==Xs?{minFilter:Ai,magFilter:Ai}:{};k.map!==null&&k.map.dispose(),k.map=new Fo(r.x,r.y,F),k.map.texture.name=ne.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const H=k.getViewportCount();for(let F=0;F<H;F++){const Y=k.getViewport(F);o.set(s.x*Y.x,s.y*Y.y,s.x*Y.z,s.y*Y.w),U.viewport(o),k.updateMatrices(ne,F),i=k.getFrustum(),b(P,R,k.camera,ne,this.type)}k.isPointLightShadow!==!0&&this.type===Xs&&_(k,R),k.needsUpdate=!1}g=this.type,x.needsUpdate=!1,n.setRenderTarget(I,T,O)};function _(C,P){const R=e.update(y);f.defines.VSM_SAMPLES!==C.blurSamples&&(f.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Fo(r.x,r.y)),f.uniforms.shadow_pass.value=C.map.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(P,null,R,f,y,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(P,null,R,m,y,null)}function S(C,P,R,I){let T=null;const O=R.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(O!==void 0)T=O;else if(T=R.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const U=T.uuid,j=P.uuid;let W=c[U];W===void 0&&(W={},c[U]=W);let ee=W[j];ee===void 0&&(ee=T.clone(),W[j]=ee,P.addEventListener("dispose",E)),T=ee}if(T.visible=P.visible,T.wireframe=P.wireframe,I===Xs?T.side=P.shadowSide!==null?P.shadowSide:P.side:T.side=P.shadowSide!==null?P.shadowSide:d[P.side],T.alphaMap=P.alphaMap,T.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,T.map=P.map,T.clipShadows=P.clipShadows,T.clippingPlanes=P.clippingPlanes,T.clipIntersection=P.clipIntersection,T.displacementMap=P.displacementMap,T.displacementScale=P.displacementScale,T.displacementBias=P.displacementBias,T.wireframeLinewidth=P.wireframeLinewidth,T.linewidth=P.linewidth,R.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const U=n.properties.get(T);U.light=R}return T}function b(C,P,R,I,T){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&T===Xs)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,C.matrixWorld);const j=e.update(C),W=C.material;if(Array.isArray(W)){const ee=j.groups;for(let K=0,ne=ee.length;K<ne;K++){const k=ee[K],B=W[k.materialIndex];if(B&&B.visible){const H=S(C,B,I,T);C.onBeforeShadow(n,C,P,R,j,H,k),n.renderBufferDirect(R,null,j,H,C,k),C.onAfterShadow(n,C,P,R,j,H,k)}}}else if(W.visible){const ee=S(C,W,I,T);C.onBeforeShadow(n,C,P,R,j,ee,null),n.renderBufferDirect(R,null,j,ee,C,null),C.onAfterShadow(n,C,P,R,j,ee,null)}}const U=C.children;for(let j=0,W=U.length;j<W;j++)b(U[j],P,R,I,T)}function E(C){C.target.removeEventListener("dispose",E);for(const R in c){const I=c[R],T=C.target.uuid;T in I&&(I[T].dispose(),delete I[T])}}}const iae={[E0]:T0,[C0]:R0,[A0]:I0,[fu]:P0,[T0]:E0,[R0]:C0,[I0]:A0,[P0]:fu};function rae(n,e){function t(){let Z=!1;const xe=new Kt;let Te=null;const $e=new Kt(0,0,0,0);return{setMask:function(ke){Te!==ke&&!Z&&(n.colorMask(ke,ke,ke,ke),Te=ke)},setLocked:function(ke){Z=ke},setClear:function(ke,Se,Ke,nt,rt){rt===!0&&(ke*=nt,Se*=nt,Ke*=nt),xe.set(ke,Se,Ke,nt),$e.equals(xe)===!1&&(n.clearColor(ke,Se,Ke,nt),$e.copy(xe))},reset:function(){Z=!1,Te=null,$e.set(-1,0,0,0)}}}function i(){let Z=!1,xe=!1,Te=null,$e=null,ke=null;return{setReversed:function(Se){if(xe!==Se){const Ke=e.get("EXT_clip_control");Se?Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.ZERO_TO_ONE_EXT):Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.NEGATIVE_ONE_TO_ONE_EXT),xe=Se;const nt=ke;ke=null,this.setClear(nt)}},getReversed:function(){return xe},setTest:function(Se){Se?se(n.DEPTH_TEST):ve(n.DEPTH_TEST)},setMask:function(Se){Te!==Se&&!Z&&(n.depthMask(Se),Te=Se)},setFunc:function(Se){if(xe&&(Se=iae[Se]),$e!==Se){switch(Se){case E0:n.depthFunc(n.NEVER);break;case T0:n.depthFunc(n.ALWAYS);break;case C0:n.depthFunc(n.LESS);break;case fu:n.depthFunc(n.LEQUAL);break;case A0:n.depthFunc(n.EQUAL);break;case P0:n.depthFunc(n.GEQUAL);break;case R0:n.depthFunc(n.GREATER);break;case I0:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}$e=Se}},setLocked:function(Se){Z=Se},setClear:function(Se){ke!==Se&&(xe&&(Se=1-Se),n.clearDepth(Se),ke=Se)},reset:function(){Z=!1,Te=null,$e=null,ke=null,xe=!1}}}function r(){let Z=!1,xe=null,Te=null,$e=null,ke=null,Se=null,Ke=null,nt=null,rt=null;return{setTest:function(gt){Z||(gt?se(n.STENCIL_TEST):ve(n.STENCIL_TEST))},setMask:function(gt){xe!==gt&&!Z&&(n.stencilMask(gt),xe=gt)},setFunc:function(gt,Yt,Zt){(Te!==gt||$e!==Yt||ke!==Zt)&&(n.stencilFunc(gt,Yt,Zt),Te=gt,$e=Yt,ke=Zt)},setOp:function(gt,Yt,Zt){(Se!==gt||Ke!==Yt||nt!==Zt)&&(n.stencilOp(gt,Yt,Zt),Se=gt,Ke=Yt,nt=Zt)},setLocked:function(gt){Z=gt},setClear:function(gt){rt!==gt&&(n.clearStencil(gt),rt=gt)},reset:function(){Z=!1,xe=null,Te=null,$e=null,ke=null,Se=null,Ke=null,nt=null,rt=null}}}const s=new t,o=new i,a=new r,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,m=[],v=null,y=!1,x=null,g=null,_=null,S=null,b=null,E=null,C=null,P=new at(0,0,0),R=0,I=!1,T=null,O=null,U=null,j=null,W=null;const ee=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,ne=0;const k=n.getParameter(n.VERSION);k.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(k)[1]),K=ne>=1):k.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),K=ne>=2);let B=null,H={};const F=n.getParameter(n.SCISSOR_BOX),Y=n.getParameter(n.VIEWPORT),ie=new Kt().fromArray(F),$=new Kt().fromArray(Y);function te(Z,xe,Te,$e){const ke=new Uint8Array(4),Se=n.createTexture();n.bindTexture(Z,Se),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ke=0;Ke<Te;Ke++)Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY?n.texImage3D(xe,0,n.RGBA,1,1,$e,0,n.RGBA,n.UNSIGNED_BYTE,ke):n.texImage2D(xe+Ke,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ke);return Se}const oe={};oe[n.TEXTURE_2D]=te(n.TEXTURE_2D,n.TEXTURE_2D,1),oe[n.TEXTURE_CUBE_MAP]=te(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[n.TEXTURE_2D_ARRAY]=te(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),oe[n.TEXTURE_3D]=te(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),se(n.DEPTH_TEST),o.setFunc(fu),we(!1),De(fM),se(n.CULL_FACE),G(va);function se(Z){u[Z]!==!0&&(n.enable(Z),u[Z]=!0)}function ve(Z){u[Z]!==!1&&(n.disable(Z),u[Z]=!1)}function Ue(Z,xe){return d[Z]!==xe?(n.bindFramebuffer(Z,xe),d[Z]=xe,Z===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=xe),Z===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=xe),!0):!1}function Ne(Z,xe){let Te=m,$e=!1;if(Z){Te=f.get(xe),Te===void 0&&(Te=[],f.set(xe,Te));const ke=Z.textures;if(Te.length!==ke.length||Te[0]!==n.COLOR_ATTACHMENT0){for(let Se=0,Ke=ke.length;Se<Ke;Se++)Te[Se]=n.COLOR_ATTACHMENT0+Se;Te.length=ke.length,$e=!0}}else Te[0]!==n.BACK&&(Te[0]=n.BACK,$e=!0);$e&&n.drawBuffers(Te)}function Oe(Z){return v!==Z?(n.useProgram(Z),v=Z,!0):!1}const Pe={[ll]:n.FUNC_ADD,[$F]:n.FUNC_SUBTRACT,[ZF]:n.FUNC_REVERSE_SUBTRACT};Pe[QF]=n.MIN,Pe[JF]=n.MAX;const We={[ez]:n.ZERO,[tz]:n.ONE,[nz]:n.SRC_COLOR,[b0]:n.SRC_ALPHA,[lz]:n.SRC_ALPHA_SATURATE,[oz]:n.DST_COLOR,[rz]:n.DST_ALPHA,[iz]:n.ONE_MINUS_SRC_COLOR,[M0]:n.ONE_MINUS_SRC_ALPHA,[az]:n.ONE_MINUS_DST_COLOR,[sz]:n.ONE_MINUS_DST_ALPHA,[cz]:n.CONSTANT_COLOR,[uz]:n.ONE_MINUS_CONSTANT_COLOR,[dz]:n.CONSTANT_ALPHA,[fz]:n.ONE_MINUS_CONSTANT_ALPHA};function G(Z,xe,Te,$e,ke,Se,Ke,nt,rt,gt){if(Z===va){y===!0&&(ve(n.BLEND),y=!1);return}if(y===!1&&(se(n.BLEND),y=!0),Z!==KF){if(Z!==x||gt!==I){if((g!==ll||b!==ll)&&(n.blendEquation(n.FUNC_ADD),g=ll,b=ll),gt)switch(Z){case Zc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case hM:n.blendFunc(n.ONE,n.ONE);break;case pM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case mM:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case Zc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case hM:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case pM:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case mM:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}_=null,S=null,E=null,C=null,P.set(0,0,0),R=0,x=Z,I=gt}return}ke=ke||xe,Se=Se||Te,Ke=Ke||$e,(xe!==g||ke!==b)&&(n.blendEquationSeparate(Pe[xe],Pe[ke]),g=xe,b=ke),(Te!==_||$e!==S||Se!==E||Ke!==C)&&(n.blendFuncSeparate(We[Te],We[$e],We[Se],We[Ke]),_=Te,S=$e,E=Se,C=Ke),(nt.equals(P)===!1||rt!==R)&&(n.blendColor(nt.r,nt.g,nt.b,rt),P.copy(nt),R=rt),x=Z,I=!1}function Re(Z,xe){Z.side===Zs?ve(n.CULL_FACE):se(n.CULL_FACE);let Te=Z.side===mr;xe&&(Te=!Te),we(Te),Z.blending===Zc&&Z.transparent===!1?G(va):G(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),o.setFunc(Z.depthFunc),o.setTest(Z.depthTest),o.setMask(Z.depthWrite),s.setMask(Z.colorWrite);const $e=Z.stencilWrite;a.setTest($e),$e&&(a.setMask(Z.stencilWriteMask),a.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),a.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),Ae(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?se(n.SAMPLE_ALPHA_TO_COVERAGE):ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function we(Z){T!==Z&&(Z?n.frontFace(n.CW):n.frontFace(n.CCW),T=Z)}function De(Z){Z!==XF?(se(n.CULL_FACE),Z!==O&&(Z===fM?n.cullFace(n.BACK):Z===YF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ve(n.CULL_FACE),O=Z}function ae(Z){Z!==U&&(K&&n.lineWidth(Z),U=Z)}function Ae(Z,xe,Te){Z?(se(n.POLYGON_OFFSET_FILL),(j!==xe||W!==Te)&&(n.polygonOffset(xe,Te),j=xe,W=Te)):ve(n.POLYGON_OFFSET_FILL)}function ye(Z){Z?se(n.SCISSOR_TEST):ve(n.SCISSOR_TEST)}function ue(Z){Z===void 0&&(Z=n.TEXTURE0+ee-1),B!==Z&&(n.activeTexture(Z),B=Z)}function je(Z,xe,Te){Te===void 0&&(B===null?Te=n.TEXTURE0+ee-1:Te=B);let $e=H[Te];$e===void 0&&($e={type:void 0,texture:void 0},H[Te]=$e),($e.type!==Z||$e.texture!==xe)&&(B!==Te&&(n.activeTexture(Te),B=Te),n.bindTexture(Z,xe||oe[Z]),$e.type=Z,$e.texture=xe)}function V(){const Z=H[B];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function N(){try{n.compressedTexImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function re(){try{n.compressedTexImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function _e(){try{n.texSubImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ge(){try{n.texSubImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function fe(){try{n.compressedTexSubImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ze(){try{n.compressedTexSubImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Be(){try{n.texStorage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Xe(){try{n.texStorage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ye(){try{n.texImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function be(){try{n.texImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ve(Z){ie.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),ie.copy(Z))}function He(Z){$.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),$.copy(Z))}function Q(Z,xe){let Te=c.get(xe);Te===void 0&&(Te=new WeakMap,c.set(xe,Te));let $e=Te.get(Z);$e===void 0&&($e=n.getUniformBlockIndex(xe,Z.name),Te.set(Z,$e))}function de(Z,xe){const $e=c.get(xe).get(Z);l.get(xe)!==$e&&(n.uniformBlockBinding(xe,$e,Z.__bindingPointIndex),l.set(xe,$e))}function Ee(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},B=null,H={},d={},f=new WeakMap,m=[],v=null,y=!1,x=null,g=null,_=null,S=null,b=null,E=null,C=null,P=new at(0,0,0),R=0,I=!1,T=null,O=null,U=null,j=null,W=null,ie.set(0,0,n.canvas.width,n.canvas.height),$.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:se,disable:ve,bindFramebuffer:Ue,drawBuffers:Ne,useProgram:Oe,setBlending:G,setMaterial:Re,setFlipSided:we,setCullFace:De,setLineWidth:ae,setPolygonOffset:Ae,setScissorTest:ye,activeTexture:ue,bindTexture:je,unbindTexture:V,compressedTexImage2D:N,compressedTexImage3D:re,texImage2D:Ye,texImage3D:be,updateUBOMapping:Q,uniformBlockBinding:de,texStorage2D:Be,texStorage3D:Xe,texSubImage2D:_e,texSubImage3D:ge,compressedTexSubImage2D:fe,compressedTexSubImage3D:ze,scissor:Ve,viewport:He,reset:Ee}}function sae(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Fe,u=new WeakMap;let d;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(V,N){return m?new OffscreenCanvas(V,N):pm("canvas")}function y(V,N,re){let _e=1;const ge=je(V);if((ge.width>re||ge.height>re)&&(_e=re/Math.max(ge.width,ge.height)),_e<1)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap||typeof VideoFrame<"u"&&V instanceof VideoFrame){const fe=Math.floor(_e*ge.width),ze=Math.floor(_e*ge.height);d===void 0&&(d=v(fe,ze));const Be=N?v(fe,ze):d;return Be.width=fe,Be.height=ze,Be.getContext("2d").drawImage(V,0,0,fe,ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ge.width+"x"+ge.height+") to ("+fe+"x"+ze+")."),Be}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ge.width+"x"+ge.height+")."),V;return V}function x(V){return V.generateMipmaps}function g(V){n.generateMipmap(V)}function _(V){return V.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:V.isWebGL3DRenderTarget?n.TEXTURE_3D:V.isWebGLArrayRenderTarget||V.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function S(V,N,re,_e,ge=!1){if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let fe=N;if(N===n.RED&&(re===n.FLOAT&&(fe=n.R32F),re===n.HALF_FLOAT&&(fe=n.R16F),re===n.UNSIGNED_BYTE&&(fe=n.R8)),N===n.RED_INTEGER&&(re===n.UNSIGNED_BYTE&&(fe=n.R8UI),re===n.UNSIGNED_SHORT&&(fe=n.R16UI),re===n.UNSIGNED_INT&&(fe=n.R32UI),re===n.BYTE&&(fe=n.R8I),re===n.SHORT&&(fe=n.R16I),re===n.INT&&(fe=n.R32I)),N===n.RG&&(re===n.FLOAT&&(fe=n.RG32F),re===n.HALF_FLOAT&&(fe=n.RG16F),re===n.UNSIGNED_BYTE&&(fe=n.RG8)),N===n.RG_INTEGER&&(re===n.UNSIGNED_BYTE&&(fe=n.RG8UI),re===n.UNSIGNED_SHORT&&(fe=n.RG16UI),re===n.UNSIGNED_INT&&(fe=n.RG32UI),re===n.BYTE&&(fe=n.RG8I),re===n.SHORT&&(fe=n.RG16I),re===n.INT&&(fe=n.RG32I)),N===n.RGB_INTEGER&&(re===n.UNSIGNED_BYTE&&(fe=n.RGB8UI),re===n.UNSIGNED_SHORT&&(fe=n.RGB16UI),re===n.UNSIGNED_INT&&(fe=n.RGB32UI),re===n.BYTE&&(fe=n.RGB8I),re===n.SHORT&&(fe=n.RGB16I),re===n.INT&&(fe=n.RGB32I)),N===n.RGBA_INTEGER&&(re===n.UNSIGNED_BYTE&&(fe=n.RGBA8UI),re===n.UNSIGNED_SHORT&&(fe=n.RGBA16UI),re===n.UNSIGNED_INT&&(fe=n.RGBA32UI),re===n.BYTE&&(fe=n.RGBA8I),re===n.SHORT&&(fe=n.RGBA16I),re===n.INT&&(fe=n.RGBA32I)),N===n.RGB&&re===n.UNSIGNED_INT_5_9_9_9_REV&&(fe=n.RGB9_E5),N===n.RGBA){const ze=ge?dm:$t.getTransfer(_e);re===n.FLOAT&&(fe=n.RGBA32F),re===n.HALF_FLOAT&&(fe=n.RGBA16F),re===n.UNSIGNED_BYTE&&(fe=ze===sn?n.SRGB8_ALPHA8:n.RGBA8),re===n.UNSIGNED_SHORT_4_4_4_4&&(fe=n.RGBA4),re===n.UNSIGNED_SHORT_5_5_5_1&&(fe=n.RGB5_A1)}return(fe===n.R16F||fe===n.R32F||fe===n.RG16F||fe===n.RG32F||fe===n.RGBA16F||fe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),fe}function b(V,N){let re;return V?N===null||N===Pa||N===_f?re=n.DEPTH24_STENCIL8:N===Dr?re=n.DEPTH32F_STENCIL8:N===xf&&(re=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):N===null||N===Pa||N===_f?re=n.DEPTH_COMPONENT24:N===Dr?re=n.DEPTH_COMPONENT32F:N===xf&&(re=n.DEPTH_COMPONENT16),re}function E(V,N){return x(V)===!0||V.isFramebufferTexture&&V.minFilter!==Ai&&V.minFilter!==Wn?Math.log2(Math.max(N.width,N.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?N.mipmaps.length:1}function C(V){const N=V.target;N.removeEventListener("dispose",C),R(N),N.isVideoTexture&&u.delete(N)}function P(V){const N=V.target;N.removeEventListener("dispose",P),T(N)}function R(V){const N=i.get(V);if(N.__webglInit===void 0)return;const re=V.source,_e=f.get(re);if(_e){const ge=_e[N.__cacheKey];ge.usedTimes--,ge.usedTimes===0&&I(V),Object.keys(_e).length===0&&f.delete(re)}i.remove(V)}function I(V){const N=i.get(V);n.deleteTexture(N.__webglTexture);const re=V.source,_e=f.get(re);delete _e[N.__cacheKey],o.memory.textures--}function T(V){const N=i.get(V);if(V.depthTexture&&(V.depthTexture.dispose(),i.remove(V.depthTexture)),V.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++){if(Array.isArray(N.__webglFramebuffer[_e]))for(let ge=0;ge<N.__webglFramebuffer[_e].length;ge++)n.deleteFramebuffer(N.__webglFramebuffer[_e][ge]);else n.deleteFramebuffer(N.__webglFramebuffer[_e]);N.__webglDepthbuffer&&n.deleteRenderbuffer(N.__webglDepthbuffer[_e])}else{if(Array.isArray(N.__webglFramebuffer))for(let _e=0;_e<N.__webglFramebuffer.length;_e++)n.deleteFramebuffer(N.__webglFramebuffer[_e]);else n.deleteFramebuffer(N.__webglFramebuffer);if(N.__webglDepthbuffer&&n.deleteRenderbuffer(N.__webglDepthbuffer),N.__webglMultisampledFramebuffer&&n.deleteFramebuffer(N.__webglMultisampledFramebuffer),N.__webglColorRenderbuffer)for(let _e=0;_e<N.__webglColorRenderbuffer.length;_e++)N.__webglColorRenderbuffer[_e]&&n.deleteRenderbuffer(N.__webglColorRenderbuffer[_e]);N.__webglDepthRenderbuffer&&n.deleteRenderbuffer(N.__webglDepthRenderbuffer)}const re=V.textures;for(let _e=0,ge=re.length;_e<ge;_e++){const fe=i.get(re[_e]);fe.__webglTexture&&(n.deleteTexture(fe.__webglTexture),o.memory.textures--),i.remove(re[_e])}i.remove(V)}let O=0;function U(){O=0}function j(){const V=O;return V>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+r.maxTextures),O+=1,V}function W(V){const N=[];return N.push(V.wrapS),N.push(V.wrapT),N.push(V.wrapR||0),N.push(V.magFilter),N.push(V.minFilter),N.push(V.anisotropy),N.push(V.internalFormat),N.push(V.format),N.push(V.type),N.push(V.generateMipmaps),N.push(V.premultiplyAlpha),N.push(V.flipY),N.push(V.unpackAlignment),N.push(V.colorSpace),N.join()}function ee(V,N){const re=i.get(V);if(V.isVideoTexture&&ye(V),V.isRenderTargetTexture===!1&&V.version>0&&re.__version!==V.version){const _e=V.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(re,V,N);return}}t.bindTexture(n.TEXTURE_2D,re.__webglTexture,n.TEXTURE0+N)}function K(V,N){const re=i.get(V);if(V.version>0&&re.__version!==V.version){oe(re,V,N);return}t.bindTexture(n.TEXTURE_2D_ARRAY,re.__webglTexture,n.TEXTURE0+N)}function ne(V,N){const re=i.get(V);if(V.version>0&&re.__version!==V.version){oe(re,V,N);return}t.bindTexture(n.TEXTURE_3D,re.__webglTexture,n.TEXTURE0+N)}function k(V,N){const re=i.get(V);if(V.version>0&&re.__version!==V.version){se(re,V,N);return}t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+N)}const B={[am]:n.REPEAT,[As]:n.CLAMP_TO_EDGE,[lm]:n.MIRRORED_REPEAT},H={[Ai]:n.NEAREST,[kT]:n.NEAREST_MIPMAP_NEAREST,[kd]:n.NEAREST_MIPMAP_LINEAR,[Wn]:n.LINEAR,[pp]:n.LINEAR_MIPMAP_NEAREST,[Co]:n.LINEAR_MIPMAP_LINEAR},F={[Cz]:n.NEVER,[Lz]:n.ALWAYS,[Az]:n.LESS,[WT]:n.LEQUAL,[Pz]:n.EQUAL,[Dz]:n.GEQUAL,[Rz]:n.GREATER,[Iz]:n.NOTEQUAL};function Y(V,N){if(N.type===Dr&&e.has("OES_texture_float_linear")===!1&&(N.magFilter===Wn||N.magFilter===pp||N.magFilter===kd||N.magFilter===Co||N.minFilter===Wn||N.minFilter===pp||N.minFilter===kd||N.minFilter===Co)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(V,n.TEXTURE_WRAP_S,B[N.wrapS]),n.texParameteri(V,n.TEXTURE_WRAP_T,B[N.wrapT]),(V===n.TEXTURE_3D||V===n.TEXTURE_2D_ARRAY)&&n.texParameteri(V,n.TEXTURE_WRAP_R,B[N.wrapR]),n.texParameteri(V,n.TEXTURE_MAG_FILTER,H[N.magFilter]),n.texParameteri(V,n.TEXTURE_MIN_FILTER,H[N.minFilter]),N.compareFunction&&(n.texParameteri(V,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(V,n.TEXTURE_COMPARE_FUNC,F[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(N.magFilter===Ai||N.minFilter!==kd&&N.minFilter!==Co||N.type===Dr&&e.has("OES_texture_float_linear")===!1)return;if(N.anisotropy>1||i.get(N).__currentAnisotropy){const re=e.get("EXT_texture_filter_anisotropic");n.texParameterf(V,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy}}}function ie(V,N){let re=!1;V.__webglInit===void 0&&(V.__webglInit=!0,N.addEventListener("dispose",C));const _e=N.source;let ge=f.get(_e);ge===void 0&&(ge={},f.set(_e,ge));const fe=W(N);if(fe!==V.__cacheKey){ge[fe]===void 0&&(ge[fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,re=!0),ge[fe].usedTimes++;const ze=ge[V.__cacheKey];ze!==void 0&&(ge[V.__cacheKey].usedTimes--,ze.usedTimes===0&&I(N)),V.__cacheKey=fe,V.__webglTexture=ge[fe].texture}return re}function $(V,N,re){return Math.floor(Math.floor(V/re)/N)}function te(V,N,re,_e){const fe=V.updateRanges;if(fe.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,N.width,N.height,re,_e,N.data);else{fe.sort((be,Ve)=>be.start-Ve.start);let ze=0;for(let be=1;be<fe.length;be++){const Ve=fe[ze],He=fe[be],Q=Ve.start+Ve.count,de=$(He.start,N.width,4),Ee=$(Ve.start,N.width,4);He.start<=Q+1&&de===Ee&&$(He.start+He.count-1,N.width,4)===de?Ve.count=Math.max(Ve.count,He.start+He.count-Ve.start):(++ze,fe[ze]=He)}fe.length=ze+1;const Be=n.getParameter(n.UNPACK_ROW_LENGTH),Xe=n.getParameter(n.UNPACK_SKIP_PIXELS),Ye=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,N.width);for(let be=0,Ve=fe.length;be<Ve;be++){const He=fe[be],Q=Math.floor(He.start/4),de=Math.ceil(He.count/4),Ee=Q%N.width,Z=Math.floor(Q/N.width),xe=de,Te=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ee),n.pixelStorei(n.UNPACK_SKIP_ROWS,Z),t.texSubImage2D(n.TEXTURE_2D,0,Ee,Z,xe,Te,re,_e,N.data)}V.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Be),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Xe),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ye)}}function oe(V,N,re){let _e=n.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(_e=n.TEXTURE_2D_ARRAY),N.isData3DTexture&&(_e=n.TEXTURE_3D);const ge=ie(V,N),fe=N.source;t.bindTexture(_e,V.__webglTexture,n.TEXTURE0+re);const ze=i.get(fe);if(fe.version!==ze.__version||ge===!0){t.activeTexture(n.TEXTURE0+re);const Be=$t.getPrimaries($t.workingColorSpace),Xe=N.colorSpace===ua?null:$t.getPrimaries(N.colorSpace),Ye=N.colorSpace===ua||Be===Xe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);let be=y(N.image,!1,r.maxTextureSize);be=ue(N,be);const Ve=s.convert(N.format,N.colorSpace),He=s.convert(N.type);let Q=S(N.internalFormat,Ve,He,N.colorSpace,N.isVideoTexture);Y(_e,N);let de;const Ee=N.mipmaps,Z=N.isVideoTexture!==!0,xe=ze.__version===void 0||ge===!0,Te=fe.dataReady,$e=E(N,be);if(N.isDepthTexture)Q=b(N.format===Sf,N.type),xe&&(Z?t.texStorage2D(n.TEXTURE_2D,1,Q,be.width,be.height):t.texImage2D(n.TEXTURE_2D,0,Q,be.width,be.height,0,Ve,He,null));else if(N.isDataTexture)if(Ee.length>0){Z&&xe&&t.texStorage2D(n.TEXTURE_2D,$e,Q,Ee[0].width,Ee[0].height);for(let ke=0,Se=Ee.length;ke<Se;ke++)de=Ee[ke],Z?Te&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,de.width,de.height,Ve,He,de.data):t.texImage2D(n.TEXTURE_2D,ke,Q,de.width,de.height,0,Ve,He,de.data);N.generateMipmaps=!1}else Z?(xe&&t.texStorage2D(n.TEXTURE_2D,$e,Q,be.width,be.height),Te&&te(N,be,Ve,He)):t.texImage2D(n.TEXTURE_2D,0,Q,be.width,be.height,0,Ve,He,be.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){Z&&xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,$e,Q,Ee[0].width,Ee[0].height,be.depth);for(let ke=0,Se=Ee.length;ke<Se;ke++)if(de=Ee[ke],N.format!==Yi)if(Ve!==null)if(Z){if(Te)if(N.layerUpdates.size>0){const Ke=TM(de.width,de.height,N.format,N.type);for(const nt of N.layerUpdates){const rt=de.data.subarray(nt*Ke/de.data.BYTES_PER_ELEMENT,(nt+1)*Ke/de.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,nt,de.width,de.height,1,Ve,rt)}N.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,0,de.width,de.height,be.depth,Ve,de.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ke,Q,de.width,de.height,be.depth,0,de.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Z?Te&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,0,de.width,de.height,be.depth,Ve,He,de.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ke,Q,de.width,de.height,be.depth,0,Ve,He,de.data)}else{Z&&xe&&t.texStorage2D(n.TEXTURE_2D,$e,Q,Ee[0].width,Ee[0].height);for(let ke=0,Se=Ee.length;ke<Se;ke++)de=Ee[ke],N.format!==Yi?Ve!==null?Z?Te&&t.compressedTexSubImage2D(n.TEXTURE_2D,ke,0,0,de.width,de.height,Ve,de.data):t.compressedTexImage2D(n.TEXTURE_2D,ke,Q,de.width,de.height,0,de.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?Te&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,de.width,de.height,Ve,He,de.data):t.texImage2D(n.TEXTURE_2D,ke,Q,de.width,de.height,0,Ve,He,de.data)}else if(N.isDataArrayTexture)if(Z){if(xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,$e,Q,be.width,be.height,be.depth),Te)if(N.layerUpdates.size>0){const ke=TM(be.width,be.height,N.format,N.type);for(const Se of N.layerUpdates){const Ke=be.data.subarray(Se*ke/be.data.BYTES_PER_ELEMENT,(Se+1)*ke/be.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Se,be.width,be.height,1,Ve,He,Ke)}N.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,be.width,be.height,be.depth,Ve,He,be.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Q,be.width,be.height,be.depth,0,Ve,He,be.data);else if(N.isData3DTexture)Z?(xe&&t.texStorage3D(n.TEXTURE_3D,$e,Q,be.width,be.height,be.depth),Te&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,be.width,be.height,be.depth,Ve,He,be.data)):t.texImage3D(n.TEXTURE_3D,0,Q,be.width,be.height,be.depth,0,Ve,He,be.data);else if(N.isFramebufferTexture){if(xe)if(Z)t.texStorage2D(n.TEXTURE_2D,$e,Q,be.width,be.height);else{let ke=be.width,Se=be.height;for(let Ke=0;Ke<$e;Ke++)t.texImage2D(n.TEXTURE_2D,Ke,Q,ke,Se,0,Ve,He,null),ke>>=1,Se>>=1}}else if(Ee.length>0){if(Z&&xe){const ke=je(Ee[0]);t.texStorage2D(n.TEXTURE_2D,$e,Q,ke.width,ke.height)}for(let ke=0,Se=Ee.length;ke<Se;ke++)de=Ee[ke],Z?Te&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,Ve,He,de):t.texImage2D(n.TEXTURE_2D,ke,Q,Ve,He,de);N.generateMipmaps=!1}else if(Z){if(xe){const ke=je(be);t.texStorage2D(n.TEXTURE_2D,$e,Q,ke.width,ke.height)}Te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ve,He,be)}else t.texImage2D(n.TEXTURE_2D,0,Q,Ve,He,be);x(N)&&g(_e),ze.__version=fe.version,N.onUpdate&&N.onUpdate(N)}V.__version=N.version}function se(V,N,re){if(N.image.length!==6)return;const _e=ie(V,N),ge=N.source;t.bindTexture(n.TEXTURE_CUBE_MAP,V.__webglTexture,n.TEXTURE0+re);const fe=i.get(ge);if(ge.version!==fe.__version||_e===!0){t.activeTexture(n.TEXTURE0+re);const ze=$t.getPrimaries($t.workingColorSpace),Be=N.colorSpace===ua?null:$t.getPrimaries(N.colorSpace),Xe=N.colorSpace===ua||ze===Be?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const Ye=N.isCompressedTexture||N.image[0].isCompressedTexture,be=N.image[0]&&N.image[0].isDataTexture,Ve=[];for(let Se=0;Se<6;Se++)!Ye&&!be?Ve[Se]=y(N.image[Se],!0,r.maxCubemapSize):Ve[Se]=be?N.image[Se].image:N.image[Se],Ve[Se]=ue(N,Ve[Se]);const He=Ve[0],Q=s.convert(N.format,N.colorSpace),de=s.convert(N.type),Ee=S(N.internalFormat,Q,de,N.colorSpace),Z=N.isVideoTexture!==!0,xe=fe.__version===void 0||_e===!0,Te=ge.dataReady;let $e=E(N,He);Y(n.TEXTURE_CUBE_MAP,N);let ke;if(Ye){Z&&xe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,$e,Ee,He.width,He.height);for(let Se=0;Se<6;Se++){ke=Ve[Se].mipmaps;for(let Ke=0;Ke<ke.length;Ke++){const nt=ke[Ke];N.format!==Yi?Q!==null?Z?Te&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke,0,0,nt.width,nt.height,Q,nt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke,Ee,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke,0,0,nt.width,nt.height,Q,de,nt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke,Ee,nt.width,nt.height,0,Q,de,nt.data)}}}else{if(ke=N.mipmaps,Z&&xe){ke.length>0&&$e++;const Se=je(Ve[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,$e,Ee,Se.width,Se.height)}for(let Se=0;Se<6;Se++)if(be){Z?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,Ve[Se].width,Ve[Se].height,Q,de,Ve[Se].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Ee,Ve[Se].width,Ve[Se].height,0,Q,de,Ve[Se].data);for(let Ke=0;Ke<ke.length;Ke++){const rt=ke[Ke].image[Se].image;Z?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke+1,0,0,rt.width,rt.height,Q,de,rt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke+1,Ee,rt.width,rt.height,0,Q,de,rt.data)}}else{Z?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,Q,de,Ve[Se]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Ee,Q,de,Ve[Se]);for(let Ke=0;Ke<ke.length;Ke++){const nt=ke[Ke];Z?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke+1,0,0,Q,de,nt.image[Se]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ke+1,Ee,Q,de,nt.image[Se])}}}x(N)&&g(n.TEXTURE_CUBE_MAP),fe.__version=ge.version,N.onUpdate&&N.onUpdate(N)}V.__version=N.version}function ve(V,N,re,_e,ge,fe){const ze=s.convert(re.format,re.colorSpace),Be=s.convert(re.type),Xe=S(re.internalFormat,ze,Be,re.colorSpace),Ye=i.get(N),be=i.get(re);if(be.__renderTarget=N,!Ye.__hasExternalTextures){const Ve=Math.max(1,N.width>>fe),He=Math.max(1,N.height>>fe);ge===n.TEXTURE_3D||ge===n.TEXTURE_2D_ARRAY?t.texImage3D(ge,fe,Xe,Ve,He,N.depth,0,ze,Be,null):t.texImage2D(ge,fe,Xe,Ve,He,0,ze,Be,null)}t.bindFramebuffer(n.FRAMEBUFFER,V),Ae(N)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,_e,ge,be.__webglTexture,0,ae(N)):(ge===n.TEXTURE_2D||ge>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ge<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,_e,ge,be.__webglTexture,fe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ue(V,N,re){if(n.bindRenderbuffer(n.RENDERBUFFER,V),N.depthBuffer){const _e=N.depthTexture,ge=_e&&_e.isDepthTexture?_e.type:null,fe=b(N.stencilBuffer,ge),ze=N.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Be=ae(N);Ae(N)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Be,fe,N.width,N.height):re?n.renderbufferStorageMultisample(n.RENDERBUFFER,Be,fe,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,fe,N.width,N.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ze,n.RENDERBUFFER,V)}else{const _e=N.textures;for(let ge=0;ge<_e.length;ge++){const fe=_e[ge],ze=s.convert(fe.format,fe.colorSpace),Be=s.convert(fe.type),Xe=S(fe.internalFormat,ze,Be,fe.colorSpace),Ye=ae(N);re&&Ae(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ye,Xe,N.width,N.height):Ae(N)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ye,Xe,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,Xe,N.width,N.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ne(V,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,V),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const _e=i.get(N.depthTexture);_e.__renderTarget=N,(!_e.__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),ee(N.depthTexture,0);const ge=_e.__webglTexture,fe=ae(N);if(N.depthTexture.format===wf)Ae(N)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0);else if(N.depthTexture.format===Sf)Ae(N)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0);else throw new Error("Unknown depthTexture format")}function Oe(V){const N=i.get(V),re=V.isWebGLCubeRenderTarget===!0;if(N.__boundDepthTexture!==V.depthTexture){const _e=V.depthTexture;if(N.__depthDisposeCallback&&N.__depthDisposeCallback(),_e){const ge=()=>{delete N.__boundDepthTexture,delete N.__depthDisposeCallback,_e.removeEventListener("dispose",ge)};_e.addEventListener("dispose",ge),N.__depthDisposeCallback=ge}N.__boundDepthTexture=_e}if(V.depthTexture&&!N.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");const _e=V.texture.mipmaps;_e&&_e.length>0?Ne(N.__webglFramebuffer[0],V):Ne(N.__webglFramebuffer,V)}else if(re){N.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)if(t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer[_e]),N.__webglDepthbuffer[_e]===void 0)N.__webglDepthbuffer[_e]=n.createRenderbuffer(),Ue(N.__webglDepthbuffer[_e],V,!1);else{const ge=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=N.__webglDepthbuffer[_e];n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ge,n.RENDERBUFFER,fe)}}else{const _e=V.texture.mipmaps;if(_e&&_e.length>0?t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer===void 0)N.__webglDepthbuffer=n.createRenderbuffer(),Ue(N.__webglDepthbuffer,V,!1);else{const ge=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=N.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ge,n.RENDERBUFFER,fe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Pe(V,N,re){const _e=i.get(V);N!==void 0&&ve(_e.__webglFramebuffer,V,V.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),re!==void 0&&Oe(V)}function We(V){const N=V.texture,re=i.get(V),_e=i.get(N);V.addEventListener("dispose",P);const ge=V.textures,fe=V.isWebGLCubeRenderTarget===!0,ze=ge.length>1;if(ze||(_e.__webglTexture===void 0&&(_e.__webglTexture=n.createTexture()),_e.__version=N.version,o.memory.textures++),fe){re.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(N.mipmaps&&N.mipmaps.length>0){re.__webglFramebuffer[Be]=[];for(let Xe=0;Xe<N.mipmaps.length;Xe++)re.__webglFramebuffer[Be][Xe]=n.createFramebuffer()}else re.__webglFramebuffer[Be]=n.createFramebuffer()}else{if(N.mipmaps&&N.mipmaps.length>0){re.__webglFramebuffer=[];for(let Be=0;Be<N.mipmaps.length;Be++)re.__webglFramebuffer[Be]=n.createFramebuffer()}else re.__webglFramebuffer=n.createFramebuffer();if(ze)for(let Be=0,Xe=ge.length;Be<Xe;Be++){const Ye=i.get(ge[Be]);Ye.__webglTexture===void 0&&(Ye.__webglTexture=n.createTexture(),o.memory.textures++)}if(V.samples>0&&Ae(V)===!1){re.__webglMultisampledFramebuffer=n.createFramebuffer(),re.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let Be=0;Be<ge.length;Be++){const Xe=ge[Be];re.__webglColorRenderbuffer[Be]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,re.__webglColorRenderbuffer[Be]);const Ye=s.convert(Xe.format,Xe.colorSpace),be=s.convert(Xe.type),Ve=S(Xe.internalFormat,Ye,be,Xe.colorSpace,V.isXRRenderTarget===!0),He=ae(V);n.renderbufferStorageMultisample(n.RENDERBUFFER,He,Ve,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Be,n.RENDERBUFFER,re.__webglColorRenderbuffer[Be])}n.bindRenderbuffer(n.RENDERBUFFER,null),V.depthBuffer&&(re.__webglDepthRenderbuffer=n.createRenderbuffer(),Ue(re.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(fe){t.bindTexture(n.TEXTURE_CUBE_MAP,_e.__webglTexture),Y(n.TEXTURE_CUBE_MAP,N);for(let Be=0;Be<6;Be++)if(N.mipmaps&&N.mipmaps.length>0)for(let Xe=0;Xe<N.mipmaps.length;Xe++)ve(re.__webglFramebuffer[Be][Xe],V,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Xe);else ve(re.__webglFramebuffer[Be],V,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);x(N)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ze){for(let Be=0,Xe=ge.length;Be<Xe;Be++){const Ye=ge[Be],be=i.get(Ye);t.bindTexture(n.TEXTURE_2D,be.__webglTexture),Y(n.TEXTURE_2D,Ye),ve(re.__webglFramebuffer,V,Ye,n.COLOR_ATTACHMENT0+Be,n.TEXTURE_2D,0),x(Ye)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Be=n.TEXTURE_2D;if((V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(Be=V.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Be,_e.__webglTexture),Y(Be,N),N.mipmaps&&N.mipmaps.length>0)for(let Xe=0;Xe<N.mipmaps.length;Xe++)ve(re.__webglFramebuffer[Xe],V,N,n.COLOR_ATTACHMENT0,Be,Xe);else ve(re.__webglFramebuffer,V,N,n.COLOR_ATTACHMENT0,Be,0);x(N)&&g(Be),t.unbindTexture()}V.depthBuffer&&Oe(V)}function G(V){const N=V.textures;for(let re=0,_e=N.length;re<_e;re++){const ge=N[re];if(x(ge)){const fe=_(V),ze=i.get(ge).__webglTexture;t.bindTexture(fe,ze),g(fe),t.unbindTexture()}}}const Re=[],we=[];function De(V){if(V.samples>0){if(Ae(V)===!1){const N=V.textures,re=V.width,_e=V.height;let ge=n.COLOR_BUFFER_BIT;const fe=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ze=i.get(V),Be=N.length>1;if(Be)for(let Ye=0;Ye<N.length;Ye++)t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ye,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ye,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ze.__webglMultisampledFramebuffer);const Xe=V.texture.mipmaps;Xe&&Xe.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ze.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ze.__webglFramebuffer);for(let Ye=0;Ye<N.length;Ye++){if(V.resolveDepthBuffer&&(V.depthBuffer&&(ge|=n.DEPTH_BUFFER_BIT),V.stencilBuffer&&V.resolveStencilBuffer&&(ge|=n.STENCIL_BUFFER_BIT)),Be){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ze.__webglColorRenderbuffer[Ye]);const be=i.get(N[Ye]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,be,0)}n.blitFramebuffer(0,0,re,_e,0,0,re,_e,ge,n.NEAREST),l===!0&&(Re.length=0,we.length=0,Re.push(n.COLOR_ATTACHMENT0+Ye),V.depthBuffer&&V.resolveDepthBuffer===!1&&(Re.push(fe),we.push(fe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,we)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Re))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Be)for(let Ye=0;Ye<N.length;Ye++){t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ye,n.RENDERBUFFER,ze.__webglColorRenderbuffer[Ye]);const be=i.get(N[Ye]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ye,n.TEXTURE_2D,be,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ze.__webglMultisampledFramebuffer)}else if(V.depthBuffer&&V.resolveDepthBuffer===!1&&l){const N=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[N])}}}function ae(V){return Math.min(r.maxSamples,V.samples)}function Ae(V){const N=i.get(V);return V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function ye(V){const N=o.render.frame;u.get(V)!==N&&(u.set(V,N),V.update())}function ue(V,N){const re=V.colorSpace,_e=V.format,ge=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||re!==hu&&re!==ua&&($t.getTransfer(re)===sn?(_e!==Yi||ge!==Ns)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),N}function je(V){return typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement?(c.width=V.naturalWidth||V.width,c.height=V.naturalHeight||V.height):typeof VideoFrame<"u"&&V instanceof VideoFrame?(c.width=V.displayWidth,c.height=V.displayHeight):(c.width=V.width,c.height=V.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=U,this.setTexture2D=ee,this.setTexture2DArray=K,this.setTexture3D=ne,this.setTextureCube=k,this.rebindTextures=Pe,this.setupRenderTarget=We,this.updateRenderTargetMipmap=G,this.updateMultisampleRenderTarget=De,this.setupDepthRenderbuffer=Oe,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Ae}function G4(n,e){function t(i,r=ua){let s;const o=$t.getTransfer(r);if(i===Ns)return n.UNSIGNED_BYTE;if(i===qx)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Kx)return n.UNSIGNED_SHORT_5_5_5_1;if(i===UT)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===NT)return n.BYTE;if(i===OT)return n.SHORT;if(i===xf)return n.UNSIGNED_SHORT;if(i===Yx)return n.INT;if(i===Pa)return n.UNSIGNED_INT;if(i===Dr)return n.FLOAT;if(i===zf)return n.HALF_FLOAT;if(i===FT)return n.ALPHA;if(i===zT)return n.RGB;if(i===Yi)return n.RGBA;if(i===wf)return n.DEPTH_COMPONENT;if(i===Sf)return n.DEPTH_STENCIL;if(i===$x)return n.RED;if(i===Fm)return n.RED_INTEGER;if(i===BT)return n.RG;if(i===Zx)return n.RG_INTEGER;if(i===Qx)return n.RGBA_INTEGER;if(i===mp||i===gp||i===vp||i===yp)if(o===sn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===mp)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===gp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===vp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===yp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===mp)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===gp)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===vp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===yp)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===D0||i===L0||i===k0||i===N0)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===D0)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===L0)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===k0)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===N0)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===O0||i===U0||i===F0)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===O0||i===U0)return o===sn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===F0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===z0||i===B0||i===V0||i===H0||i===G0||i===W0||i===j0||i===X0||i===Y0||i===q0||i===K0||i===$0||i===Z0||i===Q0)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===z0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===B0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===V0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===H0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===G0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===W0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===j0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===X0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Y0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===q0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===K0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===$0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Z0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Q0)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===xp||i===J0||i===ex)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===xp)return o===sn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===J0)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===ex)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===VT||i===tx||i===nx||i===ix)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===xp)return s.COMPRESSED_RED_RGTC1_EXT;if(i===tx)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===nx)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===ix)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===_f?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const oae=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,aae=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class lae{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new An,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new uo({vertexShader:oae,fragmentShader:aae,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Tn(new ka(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class cae extends Ho{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,m=null,v=null;const y=new lae,x=t.getContextAttributes();let g=null,_=null;const S=[],b=[],E=new Fe;let C=null;const P=new Hn;P.viewport=new Kt;const R=new Hn;R.viewport=new Kt;const I=[P,R],T=new D4;let O=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let te=S[$];return te===void 0&&(te=new Ay,S[$]=te),te.getTargetRaySpace()},this.getControllerGrip=function($){let te=S[$];return te===void 0&&(te=new Ay,S[$]=te),te.getGripSpace()},this.getHand=function($){let te=S[$];return te===void 0&&(te=new Ay,S[$]=te),te.getHandSpace()};function j($){const te=b.indexOf($.inputSource);if(te===-1)return;const oe=S[te];oe!==void 0&&(oe.update($.inputSource,$.frame,c||o),oe.dispatchEvent({type:$.type,data:$.inputSource}))}function W(){r.removeEventListener("select",j),r.removeEventListener("selectstart",j),r.removeEventListener("selectend",j),r.removeEventListener("squeeze",j),r.removeEventListener("squeezestart",j),r.removeEventListener("squeezeend",j),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",ee);for(let $=0;$<S.length;$++){const te=b[$];te!==null&&(b[$]=null,S[$].disconnect(te))}O=null,U=null,y.reset(),e.setRenderTarget(g),m=null,f=null,d=null,r=null,_=null,ie.stop(),i.isPresenting=!1,e.setPixelRatio(C),e.setSize(E.width,E.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){s=$,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){a=$,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function($){c=$},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function($){if(r=$,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",j),r.addEventListener("selectstart",j),r.addEventListener("selectend",j),r.addEventListener("squeeze",j),r.addEventListener("squeezestart",j),r.addEventListener("squeezeend",j),r.addEventListener("end",W),r.addEventListener("inputsourceschange",ee),x.xrCompatible!==!0&&await t.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(E),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let oe=null,se=null,ve=null;x.depth&&(ve=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,oe=x.stencil?Sf:wf,se=x.stencil?_f:Pa);const Ue={colorFormat:t.RGBA8,depthFormat:ve,scaleFactor:s};d=new XRWebGLBinding(r,t),f=d.createProjectionLayer(Ue),r.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),_=new Fo(f.textureWidth,f.textureHeight,{format:Yi,type:Ns,depthTexture:new e2(f.textureWidth,f.textureHeight,se,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const oe={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,oe),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),_=new Fo(m.framebufferWidth,m.framebufferHeight,{format:Yi,type:Ns,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ie.setContext(r),ie.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function ee($){for(let te=0;te<$.removed.length;te++){const oe=$.removed[te],se=b.indexOf(oe);se>=0&&(b[se]=null,S[se].disconnect(oe))}for(let te=0;te<$.added.length;te++){const oe=$.added[te];let se=b.indexOf(oe);if(se===-1){for(let Ue=0;Ue<S.length;Ue++)if(Ue>=b.length){b.push(oe),se=Ue;break}else if(b[Ue]===null){b[Ue]=oe,se=Ue;break}if(se===-1)break}const ve=S[se];ve&&ve.connect(oe)}}const K=new q,ne=new q;function k($,te,oe){K.setFromMatrixPosition(te.matrixWorld),ne.setFromMatrixPosition(oe.matrixWorld);const se=K.distanceTo(ne),ve=te.projectionMatrix.elements,Ue=oe.projectionMatrix.elements,Ne=ve[14]/(ve[10]-1),Oe=ve[14]/(ve[10]+1),Pe=(ve[9]+1)/ve[5],We=(ve[9]-1)/ve[5],G=(ve[8]-1)/ve[0],Re=(Ue[8]+1)/Ue[0],we=Ne*G,De=Ne*Re,ae=se/(-G+Re),Ae=ae*-G;if(te.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(Ae),$.translateZ(ae),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert(),ve[10]===-1)$.projectionMatrix.copy(te.projectionMatrix),$.projectionMatrixInverse.copy(te.projectionMatrixInverse);else{const ye=Ne+ae,ue=Oe+ae,je=we-Ae,V=De+(se-Ae),N=Pe*Oe/ue*ye,re=We*Oe/ue*ye;$.projectionMatrix.makePerspective(je,V,N,re,ye,ue),$.projectionMatrixInverse.copy($.projectionMatrix).invert()}}function B($,te){te===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(te.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(r===null)return;let te=$.near,oe=$.far;y.texture!==null&&(y.depthNear>0&&(te=y.depthNear),y.depthFar>0&&(oe=y.depthFar)),T.near=R.near=P.near=te,T.far=R.far=P.far=oe,(O!==T.near||U!==T.far)&&(r.updateRenderState({depthNear:T.near,depthFar:T.far}),O=T.near,U=T.far),P.layers.mask=$.layers.mask|2,R.layers.mask=$.layers.mask|4,T.layers.mask=P.layers.mask|R.layers.mask;const se=$.parent,ve=T.cameras;B(T,se);for(let Ue=0;Ue<ve.length;Ue++)B(ve[Ue],se);ve.length===2?k(T,P,R):T.projectionMatrix.copy(P.projectionMatrix),H($,T,se)};function H($,te,oe){oe===null?$.matrix.copy(te.matrixWorld):($.matrix.copy(oe.matrixWorld),$.matrix.invert(),$.matrix.multiply(te.matrixWorld)),$.matrix.decompose($.position,$.quaternion,$.scale),$.updateMatrixWorld(!0),$.projectionMatrix.copy(te.projectionMatrix),$.projectionMatrixInverse.copy(te.projectionMatrixInverse),$.isPerspectiveCamera&&($.fov=bf*2*Math.atan(1/$.projectionMatrix.elements[5]),$.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function($){l=$,f!==null&&(f.fixedFoveation=$),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=$)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(T)};let F=null;function Y($,te){if(u=te.getViewerPose(c||o),v=te,u!==null){const oe=u.views;m!==null&&(e.setRenderTargetFramebuffer(_,m.framebuffer),e.setRenderTarget(_));let se=!1;oe.length!==T.cameras.length&&(T.cameras.length=0,se=!0);for(let Ne=0;Ne<oe.length;Ne++){const Oe=oe[Ne];let Pe=null;if(m!==null)Pe=m.getViewport(Oe);else{const G=d.getViewSubImage(f,Oe);Pe=G.viewport,Ne===0&&(e.setRenderTargetTextures(_,G.colorTexture,G.depthStencilTexture),e.setRenderTarget(_))}let We=I[Ne];We===void 0&&(We=new Hn,We.layers.enable(Ne),We.viewport=new Kt,I[Ne]=We),We.matrix.fromArray(Oe.transform.matrix),We.matrix.decompose(We.position,We.quaternion,We.scale),We.projectionMatrix.fromArray(Oe.projectionMatrix),We.projectionMatrixInverse.copy(We.projectionMatrix).invert(),We.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),Ne===0&&(T.matrix.copy(We.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),se===!0&&T.cameras.push(We)}const ve=r.enabledFeatures;if(ve&&ve.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&d){const Ne=d.getDepthInformation(oe[0]);Ne&&Ne.isValid&&Ne.texture&&y.init(e,Ne,r.renderState)}}for(let oe=0;oe<S.length;oe++){const se=b[oe],ve=S[oe];se!==null&&ve!==void 0&&ve.update(se,te,c||o)}F&&F($,te),te.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:te}),v=null}const ie=new F4;ie.setAnimationLoop(Y),this.setAnimationLoop=function($){F=$},this.dispose=function(){}}}const Ec=new cs,uae=new Mt;function dae(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,zz(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,_,S,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),d(x,g)):g.isMeshPhongMaterial?(s(x,g),u(x,g)):g.isMeshStandardMaterial?(s(x,g),f(x,g),g.isMeshPhysicalMaterial&&m(x,g,b)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),y(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,_,S):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===mr&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===mr&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const _=e.get(g),S=_.envMap,b=_.envMapRotation;S&&(x.envMap.value=S,Ec.copy(b),Ec.x*=-1,Ec.y*=-1,Ec.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Ec.y*=-1,Ec.z*=-1),x.envMapRotation.value.setFromMatrix4(uae.makeRotationFromEuler(Ec)),x.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap&&(x.lightMap.value=g.lightMap,x.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,x.lightMapTransform)),g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,_,S){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*_,x.scale.value=S*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function d(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function f(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),g.envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,_){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===mr&&x.clearcoatNormalScale.value.negate())),g.dispersion>0&&(x.dispersion.value=g.dispersion),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function y(x,g){const _=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function fae(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,S){const b=S.program;i.uniformBlockBinding(_,b)}function c(_,S){let b=r[_.id];b===void 0&&(v(_),b=u(_),r[_.id]=b,_.addEventListener("dispose",x));const E=S.program;i.updateUBOMapping(_,E);const C=e.render.frame;s[_.id]!==C&&(f(_),s[_.id]=C)}function u(_){const S=d();_.__bindingPointIndex=S;const b=n.createBuffer(),E=_.__size,C=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,E,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,b),b}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const S=r[_.id],b=_.uniforms,E=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let C=0,P=b.length;C<P;C++){const R=Array.isArray(b[C])?b[C]:[b[C]];for(let I=0,T=R.length;I<T;I++){const O=R[I];if(m(O,C,I,E)===!0){const U=O.__offset,j=Array.isArray(O.value)?O.value:[O.value];let W=0;for(let ee=0;ee<j.length;ee++){const K=j[ee],ne=y(K);typeof K=="number"||typeof K=="boolean"?(O.__data[0]=K,n.bufferSubData(n.UNIFORM_BUFFER,U+W,O.__data)):K.isMatrix3?(O.__data[0]=K.elements[0],O.__data[1]=K.elements[1],O.__data[2]=K.elements[2],O.__data[3]=0,O.__data[4]=K.elements[3],O.__data[5]=K.elements[4],O.__data[6]=K.elements[5],O.__data[7]=0,O.__data[8]=K.elements[6],O.__data[9]=K.elements[7],O.__data[10]=K.elements[8],O.__data[11]=0):(K.toArray(O.__data,W),W+=ne.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,U,O.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(_,S,b,E){const C=_.value,P=S+"_"+b;if(E[P]===void 0)return typeof C=="number"||typeof C=="boolean"?E[P]=C:E[P]=C.clone(),!0;{const R=E[P];if(typeof C=="number"||typeof C=="boolean"){if(R!==C)return E[P]=C,!0}else if(R.equals(C)===!1)return R.copy(C),!0}return!1}function v(_){const S=_.uniforms;let b=0;const E=16;for(let P=0,R=S.length;P<R;P++){const I=Array.isArray(S[P])?S[P]:[S[P]];for(let T=0,O=I.length;T<O;T++){const U=I[T],j=Array.isArray(U.value)?U.value:[U.value];for(let W=0,ee=j.length;W<ee;W++){const K=j[W],ne=y(K),k=b%E,B=k%ne.boundary,H=k+B;b+=B,H!==0&&E-H<ne.storage&&(b+=E-H),U.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=b,b+=ne.storage}}}const C=b%E;return C>0&&(b+=E-C),_.__size=b,_.__cache={},this}function y(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function x(_){const S=_.target;S.removeEventListener("dispose",x);const b=o.indexOf(S.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class W4{constructor(e={}){const{canvas:t=Oz(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let m;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=i.getContextAttributes().alpha}else m=o;const v=new Uint32Array(4),y=new Int32Array(4);let x=null,g=null;const _=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ko,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const b=this;let E=!1;this._outputColorSpace=Tr;let C=0,P=0,R=null,I=-1,T=null;const O=new Kt,U=new Kt;let j=null;const W=new at(0);let ee=0,K=t.width,ne=t.height,k=1,B=null,H=null;const F=new Kt(0,0,K,ne),Y=new Kt(0,0,K,ne);let ie=!1;const $=new Bf;let te=!1,oe=!1;const se=new Mt,ve=new Mt,Ue=new q,Ne=new Kt,Oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pe=!1;function We(){return R===null?k:1}let G=i;function Re(X,pe){return t.getContext(X,pe)}try{const X={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Wx}`),t.addEventListener("webglcontextlost",$e,!1),t.addEventListener("webglcontextrestored",ke,!1),t.addEventListener("webglcontextcreationerror",Se,!1),G===null){const pe="webgl2";if(G=Re(pe,X),G===null)throw Re(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let we,De,ae,Ae,ye,ue,je,V,N,re,_e,ge,fe,ze,Be,Xe,Ye,be,Ve,He,Q,de,Ee,Z;function xe(){we=new Mse(G),we.init(),de=new G4(G,we),De=new vse(G,we,e,de),ae=new rae(G,we),De.reverseDepthBuffer&&f&&ae.buffers.depth.setReversed(!0),Ae=new Cse(G),ye=new joe,ue=new sae(G,we,ae,ye,De,de,Ae),je=new xse(b),V=new bse(b),N=new Lne(G),Ee=new mse(G,N),re=new Ese(G,N,Ae,Ee),_e=new Pse(G,re,N,Ae),Ve=new Ase(G,De,ue),Xe=new yse(ye),ge=new Woe(b,je,V,we,De,Ee,Xe),fe=new dae(b,ye),ze=new Yoe,Be=new Joe(we),be=new pse(b,je,V,ae,_e,m,l),Ye=new nae(b,_e,De),Z=new fae(G,Ae,De,ae),He=new gse(G,we,Ae),Q=new Tse(G,we,Ae),Ae.programs=ge.programs,b.capabilities=De,b.extensions=we,b.properties=ye,b.renderLists=ze,b.shadowMap=Ye,b.state=ae,b.info=Ae}xe();const Te=new cae(b,G);this.xr=Te,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const X=we.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=we.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(X){X!==void 0&&(k=X,this.setSize(K,ne,!1))},this.getSize=function(X){return X.set(K,ne)},this.setSize=function(X,pe,Ce=!0){if(Te.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=X,ne=pe,t.width=Math.floor(X*k),t.height=Math.floor(pe*k),Ce===!0&&(t.style.width=X+"px",t.style.height=pe+"px"),this.setViewport(0,0,X,pe)},this.getDrawingBufferSize=function(X){return X.set(K*k,ne*k).floor()},this.setDrawingBufferSize=function(X,pe,Ce){K=X,ne=pe,k=Ce,t.width=Math.floor(X*Ce),t.height=Math.floor(pe*Ce),this.setViewport(0,0,X,pe)},this.getCurrentViewport=function(X){return X.copy(O)},this.getViewport=function(X){return X.copy(F)},this.setViewport=function(X,pe,Ce,le){X.isVector4?F.set(X.x,X.y,X.z,X.w):F.set(X,pe,Ce,le),ae.viewport(O.copy(F).multiplyScalar(k).round())},this.getScissor=function(X){return X.copy(Y)},this.setScissor=function(X,pe,Ce,le){X.isVector4?Y.set(X.x,X.y,X.z,X.w):Y.set(X,pe,Ce,le),ae.scissor(U.copy(Y).multiplyScalar(k).round())},this.getScissorTest=function(){return ie},this.setScissorTest=function(X){ae.setScissorTest(ie=X)},this.setOpaqueSort=function(X){B=X},this.setTransparentSort=function(X){H=X},this.getClearColor=function(X){return X.copy(be.getClearColor())},this.setClearColor=function(){be.setClearColor(...arguments)},this.getClearAlpha=function(){return be.getClearAlpha()},this.setClearAlpha=function(){be.setClearAlpha(...arguments)},this.clear=function(X=!0,pe=!0,Ce=!0){let le=0;if(X){let he=!1;if(R!==null){const qe=R.texture.format;he=qe===Qx||qe===Zx||qe===Fm}if(he){const qe=R.texture.type,et=qe===Ns||qe===Pa||qe===xf||qe===_f||qe===qx||qe===Kx,ut=be.getClearColor(),lt=be.getClearAlpha(),xt=ut.r,vt=ut.g,Je=ut.b;et?(v[0]=xt,v[1]=vt,v[2]=Je,v[3]=lt,G.clearBufferuiv(G.COLOR,0,v)):(y[0]=xt,y[1]=vt,y[2]=Je,y[3]=lt,G.clearBufferiv(G.COLOR,0,y))}else le|=G.COLOR_BUFFER_BIT}pe&&(le|=G.DEPTH_BUFFER_BIT),Ce&&(le|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",$e,!1),t.removeEventListener("webglcontextrestored",ke,!1),t.removeEventListener("webglcontextcreationerror",Se,!1),be.dispose(),ze.dispose(),Be.dispose(),ye.dispose(),je.dispose(),V.dispose(),_e.dispose(),Ee.dispose(),Z.dispose(),ge.dispose(),Te.dispose(),Te.removeEventListener("sessionstart",mn),Te.removeEventListener("sessionend",Ii),ti.stop()};function $e(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const X=Ae.autoReset,pe=Ye.enabled,Ce=Ye.autoUpdate,le=Ye.needsUpdate,he=Ye.type;xe(),Ae.autoReset=X,Ye.enabled=pe,Ye.autoUpdate=Ce,Ye.needsUpdate=le,Ye.type=he}function Se(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Ke(X){const pe=X.target;pe.removeEventListener("dispose",Ke),nt(pe)}function nt(X){rt(X),ye.remove(X)}function rt(X){const pe=ye.get(X).programs;pe!==void 0&&(pe.forEach(function(Ce){ge.releaseProgram(Ce)}),X.isShaderMaterial&&ge.releaseShaderCache(X))}this.renderBufferDirect=function(X,pe,Ce,le,he,qe){pe===null&&(pe=Oe);const et=he.isMesh&&he.matrixWorld.determinant()<0,ut=Gf(X,pe,Ce,le,he);ae.setMaterial(le,et);let lt=Ce.index,xt=1;if(le.wireframe===!0){if(lt=re.getWireframeAttribute(Ce),lt===void 0)return;xt=2}const vt=Ce.drawRange,Je=Ce.attributes.position;let dt=vt.start*xt,Dt=(vt.start+vt.count)*xt;qe!==null&&(dt=Math.max(dt,qe.start*xt),Dt=Math.min(Dt,(qe.start+qe.count)*xt)),lt!==null?(dt=Math.max(dt,0),Dt=Math.min(Dt,lt.count)):Je!=null&&(dt=Math.max(dt,0),Dt=Math.min(Dt,Je.count));const Lt=Dt-dt;if(Lt<0||Lt===1/0)return;Ee.setup(he,le,ut,Ce,lt);let Tt,Gt=He;if(lt!==null&&(Tt=N.get(lt),Gt=Q,Gt.setIndex(Tt)),he.isMesh)le.wireframe===!0?(ae.setLineWidth(le.wireframeLinewidth*We()),Gt.setMode(G.LINES)):Gt.setMode(G.TRIANGLES);else if(he.isLine){let pt=le.linewidth;pt===void 0&&(pt=1),ae.setLineWidth(pt*We()),he.isLineSegments?Gt.setMode(G.LINES):he.isLineLoop?Gt.setMode(G.LINE_LOOP):Gt.setMode(G.LINE_STRIP)}else he.isPoints?Gt.setMode(G.POINTS):he.isSprite&&Gt.setMode(G.TRIANGLES);if(he.isBatchedMesh)if(he._multiDrawInstances!==null)qd("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Gt.renderMultiDrawInstances(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount,he._multiDrawInstances);else if(we.get("WEBGL_multi_draw"))Gt.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else{const pt=he._multiDrawStarts,kt=he._multiDrawCounts,Ct=he._multiDrawCount,Xn=lt?N.get(lt).bytesPerElement:1,zr=ye.get(le).currentProgram.getUniforms();for(let Rn=0;Rn<Ct;Rn++)zr.setValue(G,"_gl_DrawID",Rn),Gt.render(pt[Rn]/Xn,kt[Rn])}else if(he.isInstancedMesh)Gt.renderInstances(dt,Lt,he.count);else if(Ce.isInstancedBufferGeometry){const pt=Ce._maxInstanceCount!==void 0?Ce._maxInstanceCount:1/0,kt=Math.min(Ce.instanceCount,pt);Gt.renderInstances(dt,Lt,kt)}else Gt.render(dt,Lt)};function gt(X,pe,Ce){X.transparent===!0&&X.side===Zs&&X.forceSinglePass===!1?(X.side=mr,X.needsUpdate=!0,xr(X,pe,Ce),X.side=Ca,X.needsUpdate=!0,xr(X,pe,Ce),X.side=Zs):xr(X,pe,Ce)}this.compile=function(X,pe,Ce=null){Ce===null&&(Ce=X),g=Be.get(Ce),g.init(pe),S.push(g),Ce.traverseVisible(function(he){he.isLight&&he.layers.test(pe.layers)&&(g.pushLight(he),he.castShadow&&g.pushShadow(he))}),X!==Ce&&X.traverseVisible(function(he){he.isLight&&he.layers.test(pe.layers)&&(g.pushLight(he),he.castShadow&&g.pushShadow(he))}),g.setupLights();const le=new Set;return X.traverse(function(he){if(!(he.isMesh||he.isPoints||he.isLine||he.isSprite))return;const qe=he.material;if(qe)if(Array.isArray(qe))for(let et=0;et<qe.length;et++){const ut=qe[et];gt(ut,Ce,he),le.add(ut)}else gt(qe,Ce,he),le.add(qe)}),g=S.pop(),le},this.compileAsync=function(X,pe,Ce=null){const le=this.compile(X,pe,Ce);return new Promise(he=>{function qe(){if(le.forEach(function(et){ye.get(et).currentProgram.isReady()&&le.delete(et)}),le.size===0){he(X);return}setTimeout(qe,10)}we.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let Yt=null;function Zt(X){Yt&&Yt(X)}function mn(){ti.stop()}function Ii(){ti.start()}const ti=new F4;ti.setAnimationLoop(Zt),typeof self<"u"&&ti.setContext(self),this.setAnimationLoop=function(X){Yt=X,Te.setAnimationLoop(X),X===null?ti.stop():ti.start()},Te.addEventListener("sessionstart",mn),Te.addEventListener("sessionend",Ii),this.render=function(X,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),Te.enabled===!0&&Te.isPresenting===!0&&(Te.cameraAutoUpdate===!0&&Te.updateCamera(pe),pe=Te.getCamera()),X.isScene===!0&&X.onBeforeRender(b,X,pe,R),g=Be.get(X,S.length),g.init(pe),S.push(g),ve.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),$.setFromProjectionMatrix(ve),oe=this.localClippingEnabled,te=Xe.init(this.clippingPlanes,oe),x=ze.get(X,_.length),x.init(),_.push(x),Te.enabled===!0&&Te.isPresenting===!0){const qe=b.xr.getDepthSensingMesh();qe!==null&&wi(qe,pe,-1/0,b.sortObjects)}wi(X,pe,0,b.sortObjects),x.finish(),b.sortObjects===!0&&x.sort(B,H),Pe=Te.enabled===!1||Te.isPresenting===!1||Te.hasDepthSensing()===!1,Pe&&be.addToRenderList(x,X),this.info.render.frame++,te===!0&&Xe.beginShadows();const Ce=g.state.shadowsArray;Ye.render(Ce,X,pe),te===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset();const le=x.opaque,he=x.transmissive;if(g.setupLights(),pe.isArrayCamera){const qe=pe.cameras;if(he.length>0)for(let et=0,ut=qe.length;et<ut;et++){const lt=qe[et];Di(le,he,X,lt)}Pe&&be.render(X);for(let et=0,ut=qe.length;et<ut;et++){const lt=qe[et];Fr(x,X,lt,lt.viewport)}}else he.length>0&&Di(le,he,X,pe),Pe&&be.render(X),Fr(x,X,pe);R!==null&&P===0&&(ue.updateMultisampleRenderTarget(R),ue.updateRenderTargetMipmap(R)),X.isScene===!0&&X.onAfterRender(b,X,pe),Ee.resetDefaultState(),I=-1,T=null,S.pop(),S.length>0?(g=S[S.length-1],te===!0&&Xe.setGlobalState(b.clippingPlanes,g.state.camera)):g=null,_.pop(),_.length>0?x=_[_.length-1]:x=null};function wi(X,pe,Ce,le){if(X.visible===!1)return;if(X.layers.test(pe.layers)){if(X.isGroup)Ce=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(pe);else if(X.isLight)g.pushLight(X),X.castShadow&&g.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||$.intersectsSprite(X)){le&&Ne.setFromMatrixPosition(X.matrixWorld).applyMatrix4(ve);const et=_e.update(X),ut=X.material;ut.visible&&x.push(X,et,ut,Ce,Ne.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||$.intersectsObject(X))){const et=_e.update(X),ut=X.material;if(le&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),Ne.copy(X.boundingSphere.center)):(et.boundingSphere===null&&et.computeBoundingSphere(),Ne.copy(et.boundingSphere.center)),Ne.applyMatrix4(X.matrixWorld).applyMatrix4(ve)),Array.isArray(ut)){const lt=et.groups;for(let xt=0,vt=lt.length;xt<vt;xt++){const Je=lt[xt],dt=ut[Je.materialIndex];dt&&dt.visible&&x.push(X,et,dt,Ce,Ne.z,Je)}}else ut.visible&&x.push(X,et,ut,Ce,Ne.z,null)}}const qe=X.children;for(let et=0,ut=qe.length;et<ut;et++)wi(qe[et],pe,Ce,le)}function Fr(X,pe,Ce,le){const he=X.opaque,qe=X.transmissive,et=X.transparent;g.setupLightsView(Ce),te===!0&&Xe.setGlobalState(b.clippingPlanes,Ce),le&&ae.viewport(O.copy(le)),he.length>0&&Li(he,pe,Ce),qe.length>0&&Li(qe,pe,Ce),et.length>0&&Li(et,pe,Ce),ae.buffers.depth.setTest(!0),ae.buffers.depth.setMask(!0),ae.buffers.color.setMask(!0),ae.setPolygonOffset(!1)}function Di(X,pe,Ce,le){if((Ce.isScene===!0?Ce.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[le.id]===void 0&&(g.state.transmissionRenderTarget[le.id]=new Fo(1,1,{generateMipmaps:!0,type:we.has("EXT_color_buffer_half_float")||we.has("EXT_color_buffer_float")?zf:Ns,minFilter:Co,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:$t.workingColorSpace}));const qe=g.state.transmissionRenderTarget[le.id],et=le.viewport||O;qe.setSize(et.z*b.transmissionResolutionScale,et.w*b.transmissionResolutionScale);const ut=b.getRenderTarget(),lt=b.getActiveCubeFace(),xt=b.getActiveMipmapLevel();b.setRenderTarget(qe),b.getClearColor(W),ee=b.getClearAlpha(),ee<1&&b.setClearColor(16777215,.5),b.clear(),Pe&&be.render(Ce);const vt=b.toneMapping;b.toneMapping=ko;const Je=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),g.setupLightsView(le),te===!0&&Xe.setGlobalState(b.clippingPlanes,le),Li(X,Ce,le),ue.updateMultisampleRenderTarget(qe),ue.updateRenderTargetMipmap(qe),we.has("WEBGL_multisampled_render_to_texture")===!1){let dt=!1;for(let Dt=0,Lt=pe.length;Dt<Lt;Dt++){const Tt=pe[Dt],Gt=Tt.object,pt=Tt.geometry,kt=Tt.material,Ct=Tt.group;if(kt.side===Zs&&Gt.layers.test(le.layers)){const Xn=kt.side;kt.side=mr,kt.needsUpdate=!0,jn(Gt,Ce,le,pt,kt,Ct),kt.side=Xn,kt.needsUpdate=!0,dt=!0}}dt===!0&&(ue.updateMultisampleRenderTarget(qe),ue.updateRenderTargetMipmap(qe))}b.setRenderTarget(ut,lt,xt),b.setClearColor(W,ee),Je!==void 0&&(le.viewport=Je),b.toneMapping=vt}function Li(X,pe,Ce){const le=pe.isScene===!0?pe.overrideMaterial:null;for(let he=0,qe=X.length;he<qe;he++){const et=X[he],ut=et.object,lt=et.geometry,xt=et.group;let vt=et.material;vt.allowOverride===!0&&le!==null&&(vt=le),ut.layers.test(Ce.layers)&&jn(ut,pe,Ce,lt,vt,xt)}}function jn(X,pe,Ce,le,he,qe){X.onBeforeRender(b,pe,Ce,le,he,qe),X.modelViewMatrix.multiplyMatrices(Ce.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),he.onBeforeRender(b,pe,Ce,le,X,qe),he.transparent===!0&&he.side===Zs&&he.forceSinglePass===!1?(he.side=mr,he.needsUpdate=!0,b.renderBufferDirect(Ce,pe,le,he,X,qe),he.side=Ca,he.needsUpdate=!0,b.renderBufferDirect(Ce,pe,le,he,X,qe),he.side=Zs):b.renderBufferDirect(Ce,pe,le,he,X,qe),X.onAfterRender(b,pe,Ce,le,he,qe)}function xr(X,pe,Ce){pe.isScene!==!0&&(pe=Oe);const le=ye.get(X),he=g.state.lights,qe=g.state.shadowsArray,et=he.state.version,ut=ge.getParameters(X,he.state,qe,pe,Ce),lt=ge.getProgramCacheKey(ut);let xt=le.programs;le.environment=X.isMeshStandardMaterial?pe.environment:null,le.fog=pe.fog,le.envMap=(X.isMeshStandardMaterial?V:je).get(X.envMap||le.environment),le.envMapRotation=le.environment!==null&&X.envMap===null?pe.environmentRotation:X.envMapRotation,xt===void 0&&(X.addEventListener("dispose",Ke),xt=new Map,le.programs=xt);let vt=xt.get(lt);if(vt!==void 0){if(le.currentProgram===vt&&le.lightsStateVersion===et)return Na(X,ut),vt}else ut.uniforms=ge.getUniforms(X),X.onBeforeCompile(ut,b),vt=ge.acquireProgram(ut,lt),xt.set(lt,vt),le.uniforms=ut.uniforms;const Je=le.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Je.clippingPlanes=Xe.uniform),Na(X,ut),le.needsLights=Wo(X),le.lightsStateVersion=et,le.needsLights&&(Je.ambientLightColor.value=he.state.ambient,Je.lightProbe.value=he.state.probe,Je.directionalLights.value=he.state.directional,Je.directionalLightShadows.value=he.state.directionalShadow,Je.spotLights.value=he.state.spot,Je.spotLightShadows.value=he.state.spotShadow,Je.rectAreaLights.value=he.state.rectArea,Je.ltc_1.value=he.state.rectAreaLTC1,Je.ltc_2.value=he.state.rectAreaLTC2,Je.pointLights.value=he.state.point,Je.pointLightShadows.value=he.state.pointShadow,Je.hemisphereLights.value=he.state.hemi,Je.directionalShadowMap.value=he.state.directionalShadowMap,Je.directionalShadowMatrix.value=he.state.directionalShadowMatrix,Je.spotShadowMap.value=he.state.spotShadowMap,Je.spotLightMatrix.value=he.state.spotLightMatrix,Je.spotLightMap.value=he.state.spotLightMap,Je.pointShadowMap.value=he.state.pointShadowMap,Je.pointShadowMatrix.value=he.state.pointShadowMatrix),le.currentProgram=vt,le.uniformsList=null,vt}function ql(X){if(X.uniformsList===null){const pe=X.currentProgram.getUniforms();X.uniformsList=Py.seqWithValue(pe.seq,X.uniforms)}return X.uniformsList}function Na(X,pe){const Ce=ye.get(X);Ce.outputColorSpace=pe.outputColorSpace,Ce.batching=pe.batching,Ce.batchingColor=pe.batchingColor,Ce.instancing=pe.instancing,Ce.instancingColor=pe.instancingColor,Ce.instancingMorph=pe.instancingMorph,Ce.skinning=pe.skinning,Ce.morphTargets=pe.morphTargets,Ce.morphNormals=pe.morphNormals,Ce.morphColors=pe.morphColors,Ce.morphTargetsCount=pe.morphTargetsCount,Ce.numClippingPlanes=pe.numClippingPlanes,Ce.numIntersection=pe.numClipIntersection,Ce.vertexAlphas=pe.vertexAlphas,Ce.vertexTangents=pe.vertexTangents,Ce.toneMapping=pe.toneMapping}function Gf(X,pe,Ce,le,he){pe.isScene!==!0&&(pe=Oe),ue.resetTextureUnits();const qe=pe.fog,et=le.isMeshStandardMaterial?pe.environment:null,ut=R===null?b.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:hu,lt=(le.isMeshStandardMaterial?V:je).get(le.envMap||et),xt=le.vertexColors===!0&&!!Ce.attributes.color&&Ce.attributes.color.itemSize===4,vt=!!Ce.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Je=!!Ce.morphAttributes.position,dt=!!Ce.morphAttributes.normal,Dt=!!Ce.morphAttributes.color;let Lt=ko;le.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Lt=b.toneMapping);const Tt=Ce.morphAttributes.position||Ce.morphAttributes.normal||Ce.morphAttributes.color,Gt=Tt!==void 0?Tt.length:0,pt=ye.get(le),kt=g.state.lights;if(te===!0&&(oe===!0||X!==T)){const qn=X===T&&le.id===I;Xe.setState(le,X,qn)}let Ct=!1;le.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==kt.state.version||pt.outputColorSpace!==ut||he.isBatchedMesh&&pt.batching===!1||!he.isBatchedMesh&&pt.batching===!0||he.isBatchedMesh&&pt.batchingColor===!0&&he.colorTexture===null||he.isBatchedMesh&&pt.batchingColor===!1&&he.colorTexture!==null||he.isInstancedMesh&&pt.instancing===!1||!he.isInstancedMesh&&pt.instancing===!0||he.isSkinnedMesh&&pt.skinning===!1||!he.isSkinnedMesh&&pt.skinning===!0||he.isInstancedMesh&&pt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&pt.instancingColor===!1&&he.instanceColor!==null||he.isInstancedMesh&&pt.instancingMorph===!0&&he.morphTexture===null||he.isInstancedMesh&&pt.instancingMorph===!1&&he.morphTexture!==null||pt.envMap!==lt||le.fog===!0&&pt.fog!==qe||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==Xe.numPlanes||pt.numIntersection!==Xe.numIntersection)||pt.vertexAlphas!==xt||pt.vertexTangents!==vt||pt.morphTargets!==Je||pt.morphNormals!==dt||pt.morphColors!==Dt||pt.toneMapping!==Lt||pt.morphTargetsCount!==Gt)&&(Ct=!0):(Ct=!0,pt.__version=le.version);let Xn=pt.currentProgram;Ct===!0&&(Xn=xr(le,pe,he));let zr=!1,Rn=!1,ni=!1;const Wt=Xn.getUniforms(),ii=pt.uniforms;if(ae.useProgram(Xn.program)&&(zr=!0,Rn=!0,ni=!0),le.id!==I&&(I=le.id,Rn=!0),zr||T!==X){ae.buffers.depth.getReversed()?(se.copy(X.projectionMatrix),eee(se),tee(se),Wt.setValue(G,"projectionMatrix",se)):Wt.setValue(G,"projectionMatrix",X.projectionMatrix),Wt.setValue(G,"viewMatrix",X.matrixWorldInverse);const gn=Wt.map.cameraPosition;gn!==void 0&&gn.setValue(G,Ue.setFromMatrixPosition(X.matrixWorld)),De.logarithmicDepthBuffer&&Wt.setValue(G,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Wt.setValue(G,"isOrthographic",X.isOrthographicCamera===!0),T!==X&&(T=X,Rn=!0,ni=!0)}if(he.isSkinnedMesh){Wt.setOptional(G,he,"bindMatrix"),Wt.setOptional(G,he,"bindMatrixInverse");const qn=he.skeleton;qn&&(qn.boneTexture===null&&qn.computeBoneTexture(),Wt.setValue(G,"boneTexture",qn.boneTexture,ue))}he.isBatchedMesh&&(Wt.setOptional(G,he,"batchingTexture"),Wt.setValue(G,"batchingTexture",he._matricesTexture,ue),Wt.setOptional(G,he,"batchingIdTexture"),Wt.setValue(G,"batchingIdTexture",he._indirectTexture,ue),Wt.setOptional(G,he,"batchingColorTexture"),he._colorsTexture!==null&&Wt.setValue(G,"batchingColorTexture",he._colorsTexture,ue));const Yn=Ce.morphAttributes;if((Yn.position!==void 0||Yn.normal!==void 0||Yn.color!==void 0)&&Ve.update(he,Ce,Xn),(Rn||pt.receiveShadow!==he.receiveShadow)&&(pt.receiveShadow=he.receiveShadow,Wt.setValue(G,"receiveShadow",he.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(ii.envMap.value=lt,ii.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&pe.environment!==null&&(ii.envMapIntensity.value=pe.environmentIntensity),Rn&&(Wt.setValue(G,"toneMappingExposure",b.toneMappingExposure),pt.needsLights&&Tu(ii,ni),qe&&le.fog===!0&&fe.refreshFogUniforms(ii,qe),fe.refreshMaterialUniforms(ii,le,k,ne,g.state.transmissionRenderTarget[X.id]),Py.upload(G,ql(pt),ii,ue)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Py.upload(G,ql(pt),ii,ue),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Wt.setValue(G,"center",he.center),Wt.setValue(G,"modelViewMatrix",he.modelViewMatrix),Wt.setValue(G,"normalMatrix",he.normalMatrix),Wt.setValue(G,"modelMatrix",he.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const qn=le.uniformsGroups;for(let gn=0,Br=qn.length;gn<Br;gn++){const Si=qn[gn];Z.update(Si,Xn),Z.bind(Si,Xn)}}return Xn}function Tu(X,pe){X.ambientLightColor.needsUpdate=pe,X.lightProbe.needsUpdate=pe,X.directionalLights.needsUpdate=pe,X.directionalLightShadows.needsUpdate=pe,X.pointLights.needsUpdate=pe,X.pointLightShadows.needsUpdate=pe,X.spotLights.needsUpdate=pe,X.spotLightShadows.needsUpdate=pe,X.rectAreaLights.needsUpdate=pe,X.hemisphereLights.needsUpdate=pe}function Wo(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(X,pe,Ce){const le=ye.get(X);le.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,le.__autoAllocateDepthBuffer===!1&&(le.__useRenderToTexture=!1),ye.get(X.texture).__webglTexture=pe,ye.get(X.depthTexture).__webglTexture=le.__autoAllocateDepthBuffer?void 0:Ce,le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,pe){const Ce=ye.get(X);Ce.__webglFramebuffer=pe,Ce.__useDefaultFramebuffer=pe===void 0};const Kl=G.createFramebuffer();this.setRenderTarget=function(X,pe=0,Ce=0){R=X,C=pe,P=Ce;let le=!0,he=null,qe=!1,et=!1;if(X){const lt=ye.get(X);if(lt.__useDefaultFramebuffer!==void 0)ae.bindFramebuffer(G.FRAMEBUFFER,null),le=!1;else if(lt.__webglFramebuffer===void 0)ue.setupRenderTarget(X);else if(lt.__hasExternalTextures)ue.rebindTextures(X,ye.get(X.texture).__webglTexture,ye.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const Je=X.depthTexture;if(lt.__boundDepthTexture!==Je){if(Je!==null&&ye.has(Je)&&(X.width!==Je.image.width||X.height!==Je.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ue.setupDepthRenderbuffer(X)}}const xt=X.texture;(xt.isData3DTexture||xt.isDataArrayTexture||xt.isCompressedArrayTexture)&&(et=!0);const vt=ye.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(vt[pe])?he=vt[pe][Ce]:he=vt[pe],qe=!0):X.samples>0&&ue.useMultisampledRTT(X)===!1?he=ye.get(X).__webglMultisampledFramebuffer:Array.isArray(vt)?he=vt[Ce]:he=vt,O.copy(X.viewport),U.copy(X.scissor),j=X.scissorTest}else O.copy(F).multiplyScalar(k).floor(),U.copy(Y).multiplyScalar(k).floor(),j=ie;if(Ce!==0&&(he=Kl),ae.bindFramebuffer(G.FRAMEBUFFER,he)&&le&&ae.drawBuffers(X,he),ae.viewport(O),ae.scissor(U),ae.setScissorTest(j),qe){const lt=ye.get(X.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+pe,lt.__webglTexture,Ce)}else if(et){const lt=ye.get(X.texture),xt=pe;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,lt.__webglTexture,Ce,xt)}else if(X!==null&&Ce!==0){const lt=ye.get(X.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,lt.__webglTexture,Ce)}I=-1},this.readRenderTargetPixels=function(X,pe,Ce,le,he,qe,et,ut=0){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=ye.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&et!==void 0&&(lt=lt[et]),lt){ae.bindFramebuffer(G.FRAMEBUFFER,lt);try{const xt=X.textures[ut],vt=xt.format,Je=xt.type;if(!De.textureFormatReadable(vt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!De.textureTypeReadable(Je)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=X.width-le&&Ce>=0&&Ce<=X.height-he&&(X.textures.length>1&&G.readBuffer(G.COLOR_ATTACHMENT0+ut),G.readPixels(pe,Ce,le,he,de.convert(vt),de.convert(Je),qe))}finally{const xt=R!==null?ye.get(R).__webglFramebuffer:null;ae.bindFramebuffer(G.FRAMEBUFFER,xt)}}},this.readRenderTargetPixelsAsync=async function(X,pe,Ce,le,he,qe,et,ut=0){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let lt=ye.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&et!==void 0&&(lt=lt[et]),lt)if(pe>=0&&pe<=X.width-le&&Ce>=0&&Ce<=X.height-he){ae.bindFramebuffer(G.FRAMEBUFFER,lt);const xt=X.textures[ut],vt=xt.format,Je=xt.type;if(!De.textureFormatReadable(vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!De.textureTypeReadable(Je))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const dt=G.createBuffer();G.bindBuffer(G.PIXEL_PACK_BUFFER,dt),G.bufferData(G.PIXEL_PACK_BUFFER,qe.byteLength,G.STREAM_READ),X.textures.length>1&&G.readBuffer(G.COLOR_ATTACHMENT0+ut),G.readPixels(pe,Ce,le,he,de.convert(vt),de.convert(Je),0);const Dt=R!==null?ye.get(R).__webglFramebuffer:null;ae.bindFramebuffer(G.FRAMEBUFFER,Dt);const Lt=G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);return G.flush(),await JJ(G,Lt,4),G.bindBuffer(G.PIXEL_PACK_BUFFER,dt),G.getBufferSubData(G.PIXEL_PACK_BUFFER,0,qe),G.deleteBuffer(dt),G.deleteSync(Lt),qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,pe=null,Ce=0){const le=Math.pow(2,-Ce),he=Math.floor(X.image.width*le),qe=Math.floor(X.image.height*le),et=pe!==null?pe.x:0,ut=pe!==null?pe.y:0;ue.setTexture2D(X,0),G.copyTexSubImage2D(G.TEXTURE_2D,Ce,0,0,et,ut,he,qe),ae.unbindTexture()};const Wf=G.createFramebuffer(),Cu=G.createFramebuffer();this.copyTextureToTexture=function(X,pe,Ce=null,le=null,he=0,qe=null){qe===null&&(he!==0?(qd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),qe=he,he=0):qe=0);let et,ut,lt,xt,vt,Je,dt,Dt,Lt;const Tt=X.isCompressedTexture?X.mipmaps[qe]:X.image;if(Ce!==null)et=Ce.max.x-Ce.min.x,ut=Ce.max.y-Ce.min.y,lt=Ce.isBox3?Ce.max.z-Ce.min.z:1,xt=Ce.min.x,vt=Ce.min.y,Je=Ce.isBox3?Ce.min.z:0;else{const Yn=Math.pow(2,-he);et=Math.floor(Tt.width*Yn),ut=Math.floor(Tt.height*Yn),X.isDataArrayTexture?lt=Tt.depth:X.isData3DTexture?lt=Math.floor(Tt.depth*Yn):lt=1,xt=0,vt=0,Je=0}le!==null?(dt=le.x,Dt=le.y,Lt=le.z):(dt=0,Dt=0,Lt=0);const Gt=de.convert(pe.format),pt=de.convert(pe.type);let kt;pe.isData3DTexture?(ue.setTexture3D(pe,0),kt=G.TEXTURE_3D):pe.isDataArrayTexture||pe.isCompressedArrayTexture?(ue.setTexture2DArray(pe,0),kt=G.TEXTURE_2D_ARRAY):(ue.setTexture2D(pe,0),kt=G.TEXTURE_2D),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,pe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,pe.unpackAlignment);const Ct=G.getParameter(G.UNPACK_ROW_LENGTH),Xn=G.getParameter(G.UNPACK_IMAGE_HEIGHT),zr=G.getParameter(G.UNPACK_SKIP_PIXELS),Rn=G.getParameter(G.UNPACK_SKIP_ROWS),ni=G.getParameter(G.UNPACK_SKIP_IMAGES);G.pixelStorei(G.UNPACK_ROW_LENGTH,Tt.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Tt.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,xt),G.pixelStorei(G.UNPACK_SKIP_ROWS,vt),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Je);const Wt=X.isDataArrayTexture||X.isData3DTexture,ii=pe.isDataArrayTexture||pe.isData3DTexture;if(X.isDepthTexture){const Yn=ye.get(X),qn=ye.get(pe),gn=ye.get(Yn.__renderTarget),Br=ye.get(qn.__renderTarget);ae.bindFramebuffer(G.READ_FRAMEBUFFER,gn.__webglFramebuffer),ae.bindFramebuffer(G.DRAW_FRAMEBUFFER,Br.__webglFramebuffer);for(let Si=0;Si<lt;Si++)Wt&&(G.framebufferTextureLayer(G.READ_FRAMEBUFFER,G.COLOR_ATTACHMENT0,ye.get(X).__webglTexture,he,Je+Si),G.framebufferTextureLayer(G.DRAW_FRAMEBUFFER,G.COLOR_ATTACHMENT0,ye.get(pe).__webglTexture,qe,Lt+Si)),G.blitFramebuffer(xt,vt,et,ut,dt,Dt,et,ut,G.DEPTH_BUFFER_BIT,G.NEAREST);ae.bindFramebuffer(G.READ_FRAMEBUFFER,null),ae.bindFramebuffer(G.DRAW_FRAMEBUFFER,null)}else if(he!==0||X.isRenderTargetTexture||ye.has(X)){const Yn=ye.get(X),qn=ye.get(pe);ae.bindFramebuffer(G.READ_FRAMEBUFFER,Wf),ae.bindFramebuffer(G.DRAW_FRAMEBUFFER,Cu);for(let gn=0;gn<lt;gn++)Wt?G.framebufferTextureLayer(G.READ_FRAMEBUFFER,G.COLOR_ATTACHMENT0,Yn.__webglTexture,he,Je+gn):G.framebufferTexture2D(G.READ_FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,Yn.__webglTexture,he),ii?G.framebufferTextureLayer(G.DRAW_FRAMEBUFFER,G.COLOR_ATTACHMENT0,qn.__webglTexture,qe,Lt+gn):G.framebufferTexture2D(G.DRAW_FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,qn.__webglTexture,qe),he!==0?G.blitFramebuffer(xt,vt,et,ut,dt,Dt,et,ut,G.COLOR_BUFFER_BIT,G.NEAREST):ii?G.copyTexSubImage3D(kt,qe,dt,Dt,Lt+gn,xt,vt,et,ut):G.copyTexSubImage2D(kt,qe,dt,Dt,xt,vt,et,ut);ae.bindFramebuffer(G.READ_FRAMEBUFFER,null),ae.bindFramebuffer(G.DRAW_FRAMEBUFFER,null)}else ii?X.isDataTexture||X.isData3DTexture?G.texSubImage3D(kt,qe,dt,Dt,Lt,et,ut,lt,Gt,pt,Tt.data):pe.isCompressedArrayTexture?G.compressedTexSubImage3D(kt,qe,dt,Dt,Lt,et,ut,lt,Gt,Tt.data):G.texSubImage3D(kt,qe,dt,Dt,Lt,et,ut,lt,Gt,pt,Tt):X.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,qe,dt,Dt,et,ut,Gt,pt,Tt.data):X.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,qe,dt,Dt,Tt.width,Tt.height,Gt,Tt.data):G.texSubImage2D(G.TEXTURE_2D,qe,dt,Dt,et,ut,Gt,pt,Tt);G.pixelStorei(G.UNPACK_ROW_LENGTH,Ct),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Xn),G.pixelStorei(G.UNPACK_SKIP_PIXELS,zr),G.pixelStorei(G.UNPACK_SKIP_ROWS,Rn),G.pixelStorei(G.UNPACK_SKIP_IMAGES,ni),qe===0&&pe.generateMipmaps&&G.generateMipmap(kt),ae.unbindTexture()},this.copyTextureToTexture3D=function(X,pe,Ce=null,le=null,he=0){return qd('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(X,pe,Ce,le,he)},this.initRenderTarget=function(X){ye.get(X).__webglFramebuffer===void 0&&ue.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?ue.setTextureCube(X,0):X.isData3DTexture?ue.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?ue.setTexture2DArray(X,0):ue.setTexture2D(X,0),ae.unbindTexture()},this.resetState=function(){C=0,P=0,R=null,ae.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ps}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=$t._getDrawingBufferColorSpace(e),t.unpackColorSpace=$t._getUnpackColorSpace()}}const hae=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:LT,AddEquation:ll,AddOperation:pz,AdditiveAnimationBlendMode:HT,AdditiveBlending:hM,AgXToneMapping:xz,AlphaFormat:FT,AlwaysCompare:Lz,AlwaysDepth:T0,AlwaysStencilFunc:vM,AmbientLight:C4,AnimationAction:N4,AnimationClip:_m,AnimationLoader:Ate,AnimationMixer:ine,AnimationObjectGroup:tne,AnimationUtils:Mte,ArcCurve:Qz,ArrayCamera:D4,ArrowHelper:Mne,AttachedBindMode:gM,Audio:L4,AudioAnalyser:jte,AudioContext:p2,AudioListener:Hte,AudioLoader:zte,AxesHelper:Ene,BackSide:mr,BasicDepthPacking:Ez,BasicShadowMap:qF,BatchedMesh:Yz,Bone:QT,BooleanKeyframeTrack:bu,Box2:une,Box3:yi,Box3Helper:Sne,BoxGeometry:Su,BoxHelper:wne,BufferAttribute:an,BufferGeometry:Ut,BufferGeometryLoader:I4,ByteType:NT,Cache:Ao,Camera:zm,CameraHelper:_ne,CanvasTexture:Yee,CapsuleGeometry:l1,CatmullRomCurve3:Jz,CineonToneMapping:vz,CircleGeometry:c1,ClampToEdgeWrapping:As,Clock:m2,Color:at,ColorKeyframeTrack:u2,ColorManagement:$t,CompressedArrayTexture:jee,CompressedCubeTexture:Xee,CompressedTexture:a1,CompressedTextureLoader:Pte,ConeGeometry:Hm,ConstantAlphaFactor:dz,ConstantColorFactor:cz,Controls:Cne,CubeCamera:Bz,CubeReflectionMapping:Aa,CubeRefractionMapping:Fl,CubeTexture:Bm,CubeTextureLoader:Rte,CubeUVReflectionMapping:Ff,CubicBezierCurve:n2,CubicBezierCurve3:e4,CubicInterpolant:x4,CullFaceBack:fM,CullFaceFront:YF,CullFaceFrontBack:JQ,CullFaceNone:XF,Curve:fo,CurvePath:n4,CustomBlending:KF,CustomToneMapping:yz,CylinderGeometry:Vm,Cylindrical:cne,Data3DTexture:t1,DataArrayTexture:e1,DataTexture:No,DataTextureLoader:Ite,DataUtils:gee,DecrementStencilOp:hJ,DecrementWrapStencilOp:mJ,DefaultLoadingManager:S4,DepthFormat:wf,DepthStencilFormat:Sf,DepthTexture:e2,DetachedBindMode:wz,DirectionalLight:T4,DirectionalLightHelper:xne,DiscreteInterpolant:_4,DodecahedronGeometry:u1,DoubleSide:Zs,DstAlphaFactor:rz,DstColorFactor:oz,DynamicCopyUsage:RJ,DynamicDrawUsage:MJ,DynamicReadUsage:CJ,EdgesGeometry:Zz,EllipseCurve:d1,EqualCompare:Pz,EqualDepth:A0,EqualStencilFunc:xJ,EquirectangularReflectionMapping:sm,EquirectangularRefractionMapping:om,Euler:cs,EventDispatcher:Ho,ExtrudeGeometry:f1,FileLoader:Ra,Float16BufferAttribute:bee,Float32BufferAttribute:mt,FloatType:Dr,Fog:i1,FogExp2:n1,FramebufferTexture:Wee,FrontSide:Ca,Frustum:Bf,FrustumArray:o1,GLBufferAttribute:lne,GLSL1:DJ,GLSL3:yM,GreaterCompare:Rz,GreaterDepth:R0,GreaterEqualCompare:Dz,GreaterEqualDepth:P0,GreaterEqualStencilFunc:bJ,GreaterStencilFunc:wJ,GridHelper:vne,Group:Od,HalfFloatType:zf,HemisphereLight:b4,HemisphereLightHelper:gne,IcosahedronGeometry:h1,ImageBitmapLoader:Fte,ImageLoader:wm,ImageUtils:Uz,IncrementStencilOp:fJ,IncrementWrapStencilOp:pJ,InstancedBufferAttribute:mu,InstancedBufferGeometry:h2,InstancedInterleavedBuffer:ane,InstancedMesh:Xz,Int16BufferAttribute:wee,Int32BufferAttribute:See,Int8BufferAttribute:yee,IntType:Yx,InterleavedBuffer:r1,InterleavedBufferAttribute:pu,Interpolant:jm,InterpolateDiscrete:cm,InterpolateLinear:rx,InterpolateSmooth:Cy,InterpolationSamplingMode:NJ,InterpolationSamplingType:kJ,InvertStencilOp:gJ,KeepStencilOp:Dc,KeyframeTrack:Os,LOD:Wz,LatheGeometry:p1,Layers:Jc,LessCompare:Az,LessDepth:C0,LessEqualCompare:WT,LessEqualDepth:fu,LessEqualStencilFunc:_J,LessStencilFunc:yJ,Light:Yl,LightProbe:R4,Line:zl,Line3:dne,LineBasicMaterial:yr,LineCurve:i2,LineCurve3:t4,LineDashedMaterial:g4,LineLoop:qz,LineSegments:Go,LinearFilter:Wn,LinearInterpolant:c2,LinearMipMapLinearFilter:iJ,LinearMipMapNearestFilter:nJ,LinearMipmapLinearFilter:Co,LinearMipmapNearestFilter:pp,LinearSRGBColorSpace:hu,LinearToneMapping:mz,LinearTransfer:dm,Loader:Ur,LoaderUtils:bM,LoadingManager:d2,LoopOnce:Sz,LoopPingPong:Mz,LoopRepeat:bz,MOUSE:Rc,Material:Qi,MaterialLoader:b1,MathUtils:kz,Matrix2:x2,Matrix3:At,Matrix4:Mt,MaxEquation:JF,Mesh:Tn,MeshBasicMaterial:La,MeshDepthMaterial:w1,MeshDistanceMaterial:S1,MeshLambertMaterial:p4,MeshMatcapMaterial:m4,MeshNormalMaterial:h4,MeshPhongMaterial:d4,MeshPhysicalMaterial:u4,MeshStandardMaterial:a2,MeshToonMaterial:f4,MinEquation:QF,MirroredRepeatWrapping:lm,MixOperation:hz,MultiplyBlending:mM,MultiplyOperation:Um,NearestFilter:Ai,NearestMipMapLinearFilter:tJ,NearestMipMapNearestFilter:eJ,NearestMipmapLinearFilter:kd,NearestMipmapNearestFilter:kT,NeutralToneMapping:_z,NeverCompare:Cz,NeverDepth:E0,NeverStencilFunc:vJ,NoBlending:va,NoColorSpace:ua,NoToneMapping:ko,NormalAnimationBlendMode:Jx,NormalBlending:Zc,NotEqualCompare:Iz,NotEqualDepth:I0,NotEqualStencilFunc:SJ,NumberKeyframeTrack:ym,Object3D:en,ObjectLoader:Ote,ObjectSpaceNormalMap:Tz,OctahedronGeometry:Gm,OneFactor:tz,OneMinusConstantAlphaFactor:fz,OneMinusConstantColorFactor:uz,OneMinusDstAlphaFactor:sz,OneMinusDstColorFactor:az,OneMinusSrcAlphaFactor:M0,OneMinusSrcColorFactor:iz,OrthographicCamera:Pl,PCFShadowMap:jx,PCFSoftShadowMap:hp,PMREMGenerator:CM,Path:lx,PerspectiveCamera:Hn,Plane:ca,PlaneGeometry:ka,PlaneHelper:bne,PointLight:E4,PointLightHelper:pne,Points:Kz,PointsMaterial:JT,PolarGridHelper:yne,PolyhedronGeometry:Xl,PositionalAudio:Wte,PropertyBinding:Qt,PropertyMixer:k4,QuadraticBezierCurve:r2,QuadraticBezierCurve3:s2,Quaternion:$i,QuaternionKeyframeTrack:Xm,QuaternionLinearInterpolant:w4,RED_GREEN_RGTC2_Format:nx,RED_RGTC1_Format:VT,REVISION:Wx,RGBADepthPacking:GT,RGBAFormat:Yi,RGBAIntegerFormat:Qx,RGBA_ASTC_10x10_Format:$0,RGBA_ASTC_10x5_Format:Y0,RGBA_ASTC_10x6_Format:q0,RGBA_ASTC_10x8_Format:K0,RGBA_ASTC_12x10_Format:Z0,RGBA_ASTC_12x12_Format:Q0,RGBA_ASTC_4x4_Format:z0,RGBA_ASTC_5x4_Format:B0,RGBA_ASTC_5x5_Format:V0,RGBA_ASTC_6x5_Format:H0,RGBA_ASTC_6x6_Format:G0,RGBA_ASTC_8x5_Format:W0,RGBA_ASTC_8x6_Format:j0,RGBA_ASTC_8x8_Format:X0,RGBA_BPTC_Format:xp,RGBA_ETC2_EAC_Format:F0,RGBA_PVRTC_2BPPV1_Format:N0,RGBA_PVRTC_4BPPV1_Format:k0,RGBA_S3TC_DXT1_Format:gp,RGBA_S3TC_DXT3_Format:vp,RGBA_S3TC_DXT5_Format:yp,RGBDepthPacking:lJ,RGBFormat:zT,RGBIntegerFormat:rJ,RGB_BPTC_SIGNED_Format:J0,RGB_BPTC_UNSIGNED_Format:ex,RGB_ETC1_Format:O0,RGB_ETC2_Format:U0,RGB_PVRTC_2BPPV1_Format:L0,RGB_PVRTC_4BPPV1_Format:D0,RGB_S3TC_DXT1_Format:mp,RGDepthPacking:cJ,RGFormat:BT,RGIntegerFormat:Zx,RawShaderMaterial:c4,Ray:wu,Raycaster:O4,RectAreaLight:A4,RedFormat:$x,RedIntegerFormat:Fm,ReinhardToneMapping:gz,RenderTarget:XT,RenderTarget3D:rne,RepeatWrapping:am,ReplaceStencilOp:dJ,ReverseSubtractEquation:ZF,RingGeometry:m1,SIGNED_RED_GREEN_RGTC2_Format:ix,SIGNED_RED_RGTC1_Format:tx,SRGBColorSpace:Tr,SRGBTransfer:sn,Scene:$T,ShaderChunk:Nt,ShaderLib:$s,ShaderMaterial:uo,ShadowMaterial:l4,Shape:eu,ShapeGeometry:g1,ShapePath:Tne,ShapeUtils:Qs,ShortType:OT,Skeleton:s1,SkeletonHelper:hne,SkinnedMesh:jz,Source:yl,Sphere:xi,SphereGeometry:Wm,Spherical:EM,SphericalHarmonics3:P4,SplineCurve:o2,SpotLight:M4,SpotLightHelper:fne,Sprite:Gz,SpriteMaterial:ZT,SrcAlphaFactor:b0,SrcAlphaSaturateFactor:lz,SrcColorFactor:nz,StaticCopyUsage:PJ,StaticDrawUsage:fm,StaticReadUsage:TJ,StereoCamera:Bte,StreamCopyUsage:IJ,StreamDrawUsage:EJ,StreamReadUsage:AJ,StringKeyframeTrack:Mu,SubtractEquation:$F,SubtractiveBlending:pM,TOUCH:Ic,TangentSpaceNormalMap:jl,TetrahedronGeometry:v1,Texture:An,TextureLoader:Dte,TextureUtils:Dne,TimestampQuery:LJ,TorusGeometry:y1,TorusKnotGeometry:x1,Triangle:Ar,TriangleFanDrawMode:aJ,TriangleStripDrawMode:oJ,TrianglesDrawMode:sJ,TubeGeometry:_1,UVMapping:Xx,Uint16BufferAttribute:YT,Uint32BufferAttribute:qT,Uint8BufferAttribute:xee,Uint8ClampedBufferAttribute:_ee,Uniform:y2,UniformsGroup:one,UniformsLib:st,UniformsUtils:KT,UnsignedByteType:Ns,UnsignedInt248Type:_f,UnsignedInt5999Type:UT,UnsignedIntType:Pa,UnsignedShort4444Type:qx,UnsignedShort5551Type:Kx,UnsignedShortType:xf,VSMShadowMap:Xs,Vector2:Fe,Vector3:q,Vector4:Kt,VectorKeyframeTrack:xm,VideoFrameTexture:Gee,VideoTexture:$z,WebGL3DRenderTarget:oee,WebGLArrayRenderTarget:see,WebGLCoordinateSystem:Ps,WebGLCubeRenderTarget:Vz,WebGLRenderTarget:Fo,WebGLRenderer:W4,WebGLUtils:G4,WebGPUCoordinateSystem:hm,WebXRController:Ay,WireframeGeometry:a4,WrapAroundEnding:um,ZeroCurvatureEnding:Bc,ZeroFactor:ez,ZeroSlopeEnding:Vc,ZeroStencilOp:uJ,createCanvasElement:Oz},Symbol.toStringTag,{value:"Module"}));var j4={exports:{}},Eu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Eu.ConcurrentRoot=1;Eu.ContinuousEventPriority=4;Eu.DefaultEventPriority=16;Eu.DiscreteEventPriority=1;Eu.IdleEventPriority=536870912;Eu.LegacyRoot=0;j4.exports=Eu;var Fd=j4.exports;function pae(n){let e;const t=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,f))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function m(){const v=u(e);if(!d(f,v)){const y=f;c(f=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const mae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eD=mae?z.useEffect:z.useLayoutEffect;function gae(n){const e=typeof n=="function"?pae(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=z.useReducer(x=>x+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(i),c=z.useRef(r),u=z.useRef(!1),d=z.useRef();d.current===void 0&&(d.current=i(o));let f,m=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(f=i(o),m=!r(d.current,f)),eD(()=>{m&&(d.current=f),a.current=o,l.current=i,c.current=r,u.current=!1});const v=z.useRef(o);eD(()=>{const x=()=>{try{const _=e.getState(),S=l.current(_);c.current(d.current,S)||(a.current=_,d.current=S,s())}catch{u.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const y=m?f:d.current;return z.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const vae=n=>typeof n=="object"&&typeof n.then=="function",ey=[];function yae(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function xae(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ey)if(yae(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ey.indexOf(r);s!==-1&&ey.splice(s,1)},promise:(vae(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ey.push(r),!t)throw r.promise}const _ae=(n,e,t)=>xae(n,e,!1,t);var X4={exports:{}},xS={exports:{}},_S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD;function wae(){return tD||(tD=1,function(n){function e(k,B){var H=k.length;k.push(B);e:for(;0<H;){var F=H-1>>>1,Y=k[F];if(0<r(Y,B))k[F]=B,k[H]=Y,H=F;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var B=k[0],H=k.pop();if(H!==B){k[0]=H;e:for(var F=0,Y=k.length,ie=Y>>>1;F<ie;){var $=2*(F+1)-1,te=k[$],oe=$+1,se=k[oe];if(0>r(te,H))oe<Y&&0>r(se,te)?(k[F]=se,k[oe]=H,F=oe):(k[F]=te,k[$]=H,F=$);else if(oe<Y&&0>r(se,H))k[F]=se,k[oe]=H,F=oe;else break e}}return B}function r(k,B){var H=k.sortIndex-B.sortIndex;return H!==0?H:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var B=t(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=k)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(c)}}function b(k){if(y=!1,S(k),!v)if(t(l)!==null)v=!0,K(E);else{var B=t(c);B!==null&&ne(b,B.startTime-k)}}function E(k,B){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var H=f;try{for(S(B),d=t(l);d!==null&&(!(d.expirationTime>B)||k&&!O());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var Y=F(d.expirationTime<=B);B=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&i(l),S(B)}else i(l);d=t(l)}if(d!==null)var ie=!0;else{var $=t(c);$!==null&&ne(b,$.startTime-B),ie=!1}return ie}finally{d=null,f=H,m=!1}}var C=!1,P=null,R=-1,I=5,T=-1;function O(){return!(n.unstable_now()-T<I)}function U(){if(P!==null){var k=n.unstable_now();T=k;var B=!0;try{B=P(!0,k)}finally{B?j():(C=!1,P=null)}}else C=!1}var j;if(typeof _=="function")j=function(){_(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=U,j=function(){ee.postMessage(null)}}else j=function(){x(U,0)};function K(k){P=k,C||(C=!0,j())}function ne(k,B){R=x(function(){k(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,K(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return k()}finally{f=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=f;f=k;try{return B()}finally{f=H}},n.unstable_scheduleCallback=function(k,B,H){var F=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,k={id:u++,callback:B,priorityLevel:k,startTime:H,expirationTime:Y,sortIndex:-1},H>F?(k.sortIndex=H,e(c,k),t(l)===null&&k===t(c)&&(y?(g(R),R=-1):y=!0,ne(b,H-F))):(k.sortIndex=Y,e(l,k),v||m||(v=!0,K(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var B=f;return function(){var H=f;f=B;try{return k.apply(this,arguments)}finally{f=H}}}}(_S)),_S}var nD;function Sae(){return nD||(nD=1,xS.exports=wae()),xS.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bae=function(e){var t={},i=z,r=Sae(),s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),E=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=E&&h[E]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case v:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case y:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return p=h.displayName||null,p!==null?p:P(h.type)||"Memo";case S:p=h._payload,h=h._init;try{return P(h(p))}catch{}}return null}function R(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function I(h){var p=h,w=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(w=p.return),h=p.return;while(h)}return p.tag===3?w:null}function T(h){if(I(h)!==h)throw Error(o(188))}function O(h){var p=h.alternate;if(!p){if(p=I(h),p===null)throw Error(o(188));return p!==h?null:h}for(var w=h,M=p;;){var A=w.return;if(A===null)break;var L=A.alternate;if(L===null){if(M=A.return,M!==null){w=M;continue}break}if(A.child===L.child){for(L=A.child;L;){if(L===w)return T(A),h;if(L===M)return T(A),p;L=L.sibling}throw Error(o(188))}if(w.return!==M.return)w=A,M=L;else{for(var J=!1,ce=A.child;ce;){if(ce===w){J=!0,w=A,M=L;break}if(ce===M){J=!0,M=A,w=L;break}ce=ce.sibling}if(!J){for(ce=L.child;ce;){if(ce===w){J=!0,w=L,M=A;break}if(ce===M){J=!0,M=L,w=A;break}ce=ce.sibling}if(!J)throw Error(o(189))}}if(w.alternate!==M)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?h:p}function U(h){return h=O(h),h!==null?j(h):null}function j(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=j(h);if(p!==null)return p;h=h.sibling}return null}function W(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=W(h);if(p!==null)return p}h=h.sibling}return null}var ee=Array.isArray,K=e.getPublicInstance,ne=e.getRootHostContext,k=e.getChildHostContext,B=e.prepareForCommit,H=e.resetAfterCommit,F=e.createInstance,Y=e.appendInitialChild,ie=e.finalizeInitialChildren,$=e.prepareUpdate,te=e.shouldSetTextContent,oe=e.createTextInstance,se=e.scheduleTimeout,ve=e.cancelTimeout,Ue=e.noTimeout,Ne=e.isPrimaryRenderer,Oe=e.supportsMutation,Pe=e.supportsPersistence,We=e.supportsHydration,G=e.getInstanceFromNode,Re=e.preparePortalMount,we=e.getCurrentEventPriority,De=e.detachDeletedInstance,ae=e.supportsMicrotasks,Ae=e.scheduleMicrotask,ye=e.supportsTestSelectors,ue=e.findFiberRoot,je=e.getBoundingRect,V=e.getTextContent,N=e.isHiddenSubtree,re=e.matchAccessibilityRole,_e=e.setFocusIfFocusable,ge=e.setupIntersectionObserver,fe=e.appendChild,ze=e.appendChildToContainer,Be=e.commitTextUpdate,Xe=e.commitMount,Ye=e.commitUpdate,be=e.insertBefore,Ve=e.insertInContainerBefore,He=e.removeChild,Q=e.removeChildFromContainer,de=e.resetTextContent,Ee=e.hideInstance,Z=e.hideTextInstance,xe=e.unhideInstance,Te=e.unhideTextInstance,$e=e.clearContainer,ke=e.cloneInstance,Se=e.createContainerChildSet,Ke=e.appendChildToContainerChildSet,nt=e.finalizeContainerChildren,rt=e.replaceContainerChildren,gt=e.cloneHiddenInstance,Yt=e.cloneHiddenTextInstance,Zt=e.canHydrateInstance,mn=e.canHydrateTextInstance,Ii=e.canHydrateSuspenseInstance,ti=e.isSuspenseInstancePending,wi=e.isSuspenseInstanceFallback,Fr=e.registerSuspenseInstanceRetry,Di=e.getNextHydratableSibling,Li=e.getFirstHydratableChild,jn=e.getFirstHydratableChildWithinContainer,xr=e.getFirstHydratableChildWithinSuspenseInstance,ql=e.hydrateInstance,Na=e.hydrateTextInstance,Gf=e.hydrateSuspenseInstance,Tu=e.getNextHydratableInstanceAfterSuspenseInstance,Wo=e.commitHydratedContainer,Kl=e.commitHydratedSuspenseInstance,Wf=e.clearSuspenseBoundary,Cu=e.clearSuspenseBoundaryFromContainer,X=e.shouldDeleteUnhydratedTailInstances,pe=e.didNotMatchHydratedContainerTextInstance,Ce=e.didNotMatchHydratedTextInstance,le;function he(h){if(le===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);le=p&&p[1]||""}return`
`+le+h}var qe=!1;function et(h,p){if(!h||qe)return"";qe=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Qe){var M=Qe}Reflect.construct(h,[],p)}else{try{p.call()}catch(Qe){M=Qe}h.call(p.prototype)}else{try{throw Error()}catch(Qe){M=Qe}h()}}catch(Qe){if(Qe&&M&&typeof Qe.stack=="string"){for(var A=Qe.stack.split(`
`),L=M.stack.split(`
`),J=A.length-1,ce=L.length-1;1<=J&&0<=ce&&A[J]!==L[ce];)ce--;for(;1<=J&&0<=ce;J--,ce--)if(A[J]!==L[ce]){if(J!==1||ce!==1)do if(J--,ce--,0>ce||A[J]!==L[ce]){var Le=`
`+A[J].replace(" at new "," at ");return h.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",h.displayName)),Le}while(1<=J&&0<=ce);break}}}finally{qe=!1,Error.prepareStackTrace=w}return(h=h?h.displayName||h.name:"")?he(h):""}var ut=Object.prototype.hasOwnProperty,lt=[],xt=-1;function vt(h){return{current:h}}function Je(h){0>xt||(h.current=lt[xt],lt[xt]=null,xt--)}function dt(h,p){xt++,lt[xt]=h.current,h.current=p}var Dt={},Lt=vt(Dt),Tt=vt(!1),Gt=Dt;function pt(h,p){var w=h.type.contextTypes;if(!w)return Dt;var M=h.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var A={},L;for(L in w)A[L]=p[L];return M&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=A),A}function kt(h){return h=h.childContextTypes,h!=null}function Ct(){Je(Tt),Je(Lt)}function Xn(h,p,w){if(Lt.current!==Dt)throw Error(o(168));dt(Lt,p),dt(Tt,w)}function zr(h,p,w){var M=h.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return w;M=M.getChildContext();for(var A in M)if(!(A in p))throw Error(o(108,R(h)||"Unknown",A));return s({},w,M)}function Rn(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Dt,Gt=Lt.current,dt(Lt,h),dt(Tt,Tt.current),!0}function ni(h,p,w){var M=h.stateNode;if(!M)throw Error(o(169));w?(h=zr(h,p,Gt),M.__reactInternalMemoizedMergedChildContext=h,Je(Tt),Je(Lt),dt(Lt,h)):Je(Tt),dt(Tt,w)}var Wt=Math.clz32?Math.clz32:qn,ii=Math.log,Yn=Math.LN2;function qn(h){return h>>>=0,h===0?32:31-(ii(h)/Yn|0)|0}var gn=64,Br=4194304;function Si(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function $l(h,p){var w=h.pendingLanes;if(w===0)return 0;var M=0,A=h.suspendedLanes,L=h.pingedLanes,J=w&268435455;if(J!==0){var ce=J&~A;ce!==0?M=Si(ce):(L&=J,L!==0&&(M=Si(L)))}else J=w&~A,J!==0?M=Si(J):L!==0&&(M=Si(L));if(M===0)return 0;if(p!==0&&p!==M&&!(p&A)&&(A=M&-M,L=p&-p,A>=L||A===16&&(L&4194240)!==0))return p;if(M&4&&(M|=w&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=M;0<p;)w=31-Wt(p),A=1<<w,M|=h[w],p&=~A;return M}function qm(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(h,p){for(var w=h.suspendedLanes,M=h.pingedLanes,A=h.expirationTimes,L=h.pendingLanes;0<L;){var J=31-Wt(L),ce=1<<J,Le=A[J];Le===-1?(!(ce&w)||ce&M)&&(A[J]=qm(ce,p)):Le<=p&&(h.expiredLanes|=ce),L&=~ce}}function jo(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Au(h){for(var p=[],w=0;31>w;w++)p.push(h);return p}function ho(h,p,w){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Wt(p),h[p]=w}function Oa(h,p){var w=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var M=h.eventTimes;for(h=h.expirationTimes;0<w;){var A=31-Wt(w),L=1<<A;p[A]=0,M[A]=-1,h[A]=-1,w&=~L}}function po(h,p){var w=h.entangledLanes|=p;for(h=h.entanglements;w;){var M=31-Wt(w),A=1<<M;A&p|h[M]&p&&(h[M]|=p),w&=~A}}var jt=0;function Xf(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Xo=r.unstable_scheduleCallback,Pu=r.unstable_cancelCallback,Yf=r.unstable_shouldYield,Km=r.unstable_requestPaint,_n=r.unstable_now,Zl=r.unstable_ImmediatePriority,$m=r.unstable_UserBlockingPriority,Ji=r.unstable_NormalPriority,qf=r.unstable_IdlePriority,Ql=null,Vr=null;function Kf(h){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Ql,h,void 0,(h.current.flags&128)===128)}catch{}}function Zm(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Hr=typeof Object.is=="function"?Object.is:Zm,er=null,mo=!1,fs=!1;function $f(h){er===null?er=[h]:er.push(h)}function Zf(h){mo=!0,$f(h)}function _r(){if(!fs&&er!==null){fs=!0;var h=0,p=jt;try{var w=er;for(jt=1;h<w.length;h++){var M=w[h];do M=M(!0);while(M!==null)}er=null,mo=!1}catch(A){throw er!==null&&(er=er.slice(h+1)),Xo(Zl,_r),A}finally{jt=p,fs=!1}}return null}var Jl=a.ReactCurrentBatchConfig;function ec(h,p){if(Hr(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var w=Object.keys(h),M=Object.keys(p);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var A=w[M];if(!ut.call(p,A)||!Hr(h[A],p[A]))return!1}return!0}function tc(h){switch(h.tag){case 5:return he(h.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return h=et(h.type,!1),h;case 11:return h=et(h.type.render,!1),h;case 1:return h=et(h.type,!0),h;default:return""}}function tr(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var w in h)p[w]===void 0&&(p[w]=h[w]);return p}return p}var ui=vt(null),Ru=null,Us=null,Ua=null;function Iu(){Ua=Us=Ru=null}function Qm(h,p,w){Ne?(dt(ui,p._currentValue),p._currentValue=w):(dt(ui,p._currentValue2),p._currentValue2=w)}function di(h){var p=ui.current;Je(ui),Ne?h._currentValue=p:h._currentValue2=p}function nr(h,p,w){for(;h!==null;){var M=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),h===w)break;h=h.return}}function On(h,p){Ru=h,Ua=Us=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Xr=!0),h.firstContext=null)}function Un(h){var p=Ne?h._currentValue:h._currentValue2;if(Ua!==h)if(h={context:h,memoizedValue:p,next:null},Us===null){if(Ru===null)throw Error(o(308));Us=h,Ru.dependencies={lanes:0,firstContext:h}}else Us=Us.next=h;return p}var Gr=null,Fa=!1;function T1(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E2(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Yo(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function za(h,p){var w=h.updateQueue;w!==null&&(w=w.shared,Kn!==null&&h.mode&1&&!(Ht&2)?(h=w.interleaved,h===null?(p.next=p,Gr===null?Gr=[w]:Gr.push(w)):(p.next=h.next,h.next=p),w.interleaved=p):(h=w.pending,h===null?p.next=p:(p.next=h.next,h.next=p),w.pending=p))}function Jm(h,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var M=p.lanes;M&=h.pendingLanes,w|=M,p.lanes=w,po(h,w)}}function T2(h,p){var w=h.updateQueue,M=h.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var A=null,L=null;if(w=w.firstBaseUpdate,w!==null){do{var J={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};L===null?A=L=J:L=L.next=J,w=w.next}while(w!==null);L===null?A=L=p:L=L.next=p}else A=L=p;w={baseState:M.baseState,firstBaseUpdate:A,lastBaseUpdate:L,shared:M.shared,effects:M.effects},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=p:h.next=p,w.lastBaseUpdate=p}function eg(h,p,w,M){var A=h.updateQueue;Fa=!1;var L=A.firstBaseUpdate,J=A.lastBaseUpdate,ce=A.shared.pending;if(ce!==null){A.shared.pending=null;var Le=ce,Qe=Le.next;Le.next=null,J===null?L=Qe:J.next=Qe,J=Le;var ht=h.alternate;ht!==null&&(ht=ht.updateQueue,ce=ht.lastBaseUpdate,ce!==J&&(ce===null?ht.firstBaseUpdate=Qe:ce.next=Qe,ht.lastBaseUpdate=Le))}if(L!==null){var Rt=A.baseState;J=0,ht=Qe=Le=null,ce=L;do{var wt=ce.lane,ln=ce.eventTime;if((M&wt)===wt){ht!==null&&(ht=ht.next={eventTime:ln,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var _t=h,Ui=ce;switch(wt=p,ln=w,Ui.tag){case 1:if(_t=Ui.payload,typeof _t=="function"){Rt=_t.call(ln,Rt,wt);break e}Rt=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Ui.payload,wt=typeof _t=="function"?_t.call(ln,Rt,wt):_t,wt==null)break e;Rt=s({},Rt,wt);break e;case 2:Fa=!0}}ce.callback!==null&&ce.lane!==0&&(h.flags|=64,wt=A.effects,wt===null?A.effects=[ce]:wt.push(ce))}else ln={eventTime:ln,lane:wt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},ht===null?(Qe=ht=ln,Le=Rt):ht=ht.next=ln,J|=wt;if(ce=ce.next,ce===null){if(ce=A.shared.pending,ce===null)break;wt=ce,ce=wt.next,wt.next=null,A.lastBaseUpdate=wt,A.shared.pending=null}}while(!0);if(ht===null&&(Le=Rt),A.baseState=Le,A.firstBaseUpdate=Qe,A.lastBaseUpdate=ht,p=A.shared.interleaved,p!==null){A=p;do J|=A.lane,A=A.next;while(A!==p)}else L===null&&(A.shared.lanes=0);Bu|=J,h.lanes=J,h.memoizedState=Rt}}function C2(h,p,w){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var M=h[p],A=M.callback;if(A!==null){if(M.callback=null,M=w,typeof A!="function")throw Error(o(191,A));A.call(M)}}}var A2=new i.Component().refs;function C1(h,p,w,M){p=h.memoizedState,w=w(M,p),w=w==null?p:s({},p,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var tg={isMounted:function(h){return(h=h._reactInternals)?I(h)===h:!1},enqueueSetState:function(h,p,w){h=h._reactInternals;var M=rr(),A=Ha(h),L=Yo(M,A);L.payload=p,w!=null&&(L.callback=w),za(h,L),p=vs(h,A,M),p!==null&&Jm(p,h,A)},enqueueReplaceState:function(h,p,w){h=h._reactInternals;var M=rr(),A=Ha(h),L=Yo(M,A);L.tag=1,L.payload=p,w!=null&&(L.callback=w),za(h,L),p=vs(h,A,M),p!==null&&Jm(p,h,A)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var w=rr(),M=Ha(h),A=Yo(w,M);A.tag=2,p!=null&&(A.callback=p),za(h,A),p=vs(h,M,w),p!==null&&Jm(p,h,M)}};function P2(h,p,w,M,A,L,J){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(M,L,J):p.prototype&&p.prototype.isPureReactComponent?!ec(w,M)||!ec(A,L):!0}function R2(h,p,w){var M=!1,A=Dt,L=p.contextType;return typeof L=="object"&&L!==null?L=Un(L):(A=kt(p)?Gt:Lt.current,M=p.contextTypes,L=(M=M!=null)?pt(h,A):Dt),p=new p(w,L),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=tg,h.stateNode=p,p._reactInternals=h,M&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=A,h.__reactInternalMemoizedMaskedChildContext=L),p}function I2(h,p,w,M){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,M),p.state!==h&&tg.enqueueReplaceState(p,p.state,null)}function A1(h,p,w,M){var A=h.stateNode;A.props=w,A.state=h.memoizedState,A.refs=A2,T1(h);var L=p.contextType;typeof L=="object"&&L!==null?A.context=Un(L):(L=kt(p)?Gt:Lt.current,A.context=pt(h,L)),A.state=h.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(C1(h,p,L,w),A.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(p=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),p!==A.state&&tg.enqueueReplaceState(A,A.state,null),eg(h,w,A,M),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308)}var Du=[],Lu=0,ng=null,ig=0,hs=[],ps=0,nc=null,qo=1,Ko="";function ic(h,p){Du[Lu++]=ig,Du[Lu++]=ng,ng=h,ig=p}function D2(h,p,w){hs[ps++]=qo,hs[ps++]=Ko,hs[ps++]=nc,nc=h;var M=qo;h=Ko;var A=32-Wt(M)-1;M&=~(1<<A),w+=1;var L=32-Wt(p)+A;if(30<L){var J=A-A%5;L=(M&(1<<J)-1).toString(32),M>>=J,A-=J,qo=1<<32-Wt(p)+A|w<<A|M,Ko=L+h}else qo=1<<L|w<<A|M,Ko=h}function P1(h){h.return!==null&&(ic(h,1),D2(h,1,0))}function R1(h){for(;h===ng;)ng=Du[--Lu],Du[Lu]=null,ig=Du[--Lu],Du[Lu]=null;for(;h===nc;)nc=hs[--ps],hs[ps]=null,Ko=hs[--ps],hs[ps]=null,qo=hs[--ps],hs[ps]=null}var Wr=null,jr=null,vn=!1,Qf=!1,Fs=null;function L2(h,p){var w=ys(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=h,p=h.deletions,p===null?(h.deletions=[w],h.flags|=16):p.push(w)}function k2(h,p){switch(h.tag){case 5:return p=Zt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,Wr=h,jr=Li(p),!0):!1;case 6:return p=mn(p,h.pendingProps),p!==null?(h.stateNode=p,Wr=h,jr=null,!0):!1;case 13:if(p=Ii(p),p!==null){var w=nc!==null?{id:qo,overflow:Ko}:null;return h.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=ys(18,null,null,0),w.stateNode=p,w.return=h,h.child=w,Wr=h,jr=null,!0}return!1;default:return!1}}function I1(h){return(h.mode&1)!==0&&(h.flags&128)===0}function D1(h){if(vn){var p=jr;if(p){var w=p;if(!k2(h,p)){if(I1(h))throw Error(o(418));p=Di(w);var M=Wr;p&&k2(h,p)?L2(M,w):(h.flags=h.flags&-4097|2,vn=!1,Wr=h)}}else{if(I1(h))throw Error(o(418));h.flags=h.flags&-4097|2,vn=!1,Wr=h}}}function N2(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Wr=h}function Jf(h){if(!We||h!==Wr)return!1;if(!vn)return N2(h),vn=!0,!1;if(h.tag!==3&&(h.tag!==5||X(h.type)&&!te(h.type,h.memoizedProps))){var p=jr;if(p){if(I1(h)){for(h=jr;h;)h=Di(h);throw Error(o(418))}for(;p;)L2(h,p),p=Di(p)}}if(N2(h),h.tag===13){if(!We)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));jr=Tu(h)}else jr=Wr?Di(h.stateNode):null;return!0}function ku(){We&&(jr=Wr=null,Qf=vn=!1)}function L1(h){Fs===null?Fs=[h]:Fs.push(h)}function eh(h,p,w){if(h=w.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var M=w.stateNode}if(!M)throw Error(o(147,h));var A=M,L=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===L?p.ref:(p=function(J){var ce=A.refs;ce===A2&&(ce=A.refs={}),J===null?delete ce[L]:ce[L]=J},p._stringRef=L,p)}if(typeof h!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,h))}return h}function rg(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function O2(h){var p=h._init;return p(h._payload)}function U2(h){function p(Me,me){if(h){var Ie=Me.deletions;Ie===null?(Me.deletions=[me],Me.flags|=16):Ie.push(me)}}function w(Me,me){if(!h)return null;for(;me!==null;)p(Me,me),me=me.sibling;return null}function M(Me,me){for(Me=new Map;me!==null;)me.key!==null?Me.set(me.key,me):Me.set(me.index,me),me=me.sibling;return Me}function A(Me,me){return Me=Wa(Me,me),Me.index=0,Me.sibling=null,Me}function L(Me,me,Ie){return Me.index=Ie,h?(Ie=Me.alternate,Ie!==null?(Ie=Ie.index,Ie<me?(Me.flags|=2,me):Ie):(Me.flags|=2,me)):(Me.flags|=1048576,me)}function J(Me){return h&&Me.alternate===null&&(Me.flags|=2),Me}function ce(Me,me,Ie,ct){return me===null||me.tag!==6?(me=g_(Ie,Me.mode,ct),me.return=Me,me):(me=A(me,Ie),me.return=Me,me)}function Le(Me,me,Ie,ct){var yt=Ie.type;return yt===u?ht(Me,me,Ie.props.children,ct,Ie.key):me!==null&&(me.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===S&&O2(yt)===me.type)?(ct=A(me,Ie.props),ct.ref=eh(Me,me,Ie),ct.return=Me,ct):(ct=Ng(Ie.type,Ie.key,Ie.props,null,Me.mode,ct),ct.ref=eh(Me,me,Ie),ct.return=Me,ct)}function Qe(Me,me,Ie,ct){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ie.containerInfo||me.stateNode.implementation!==Ie.implementation?(me=v_(Ie,Me.mode,ct),me.return=Me,me):(me=A(me,Ie.children||[]),me.return=Me,me)}function ht(Me,me,Ie,ct,yt){return me===null||me.tag!==7?(me=uc(Ie,Me.mode,ct,yt),me.return=Me,me):(me=A(me,Ie),me.return=Me,me)}function Rt(Me,me,Ie){if(typeof me=="string"&&me!==""||typeof me=="number")return me=g_(""+me,Me.mode,Ie),me.return=Me,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return Ie=Ng(me.type,me.key,me.props,null,Me.mode,Ie),Ie.ref=eh(Me,null,me),Ie.return=Me,Ie;case c:return me=v_(me,Me.mode,Ie),me.return=Me,me;case S:var ct=me._init;return Rt(Me,ct(me._payload),Ie)}if(ee(me)||C(me))return me=uc(me,Me.mode,Ie,null),me.return=Me,me;rg(Me,me)}return null}function wt(Me,me,Ie,ct){var yt=me!==null?me.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return yt!==null?null:ce(Me,me,""+Ie,ct);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:return Ie.key===yt?Le(Me,me,Ie,ct):null;case c:return Ie.key===yt?Qe(Me,me,Ie,ct):null;case S:return yt=Ie._init,wt(Me,me,yt(Ie._payload),ct)}if(ee(Ie)||C(Ie))return yt!==null?null:ht(Me,me,Ie,ct,null);rg(Me,Ie)}return null}function ln(Me,me,Ie,ct,yt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return Me=Me.get(Ie)||null,ce(me,Me,""+ct,yt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:return Me=Me.get(ct.key===null?Ie:ct.key)||null,Le(me,Me,ct,yt);case c:return Me=Me.get(ct.key===null?Ie:ct.key)||null,Qe(me,Me,ct,yt);case S:var zt=ct._init;return ln(Me,me,Ie,zt(ct._payload),yt)}if(ee(ct)||C(ct))return Me=Me.get(Ie)||null,ht(me,Me,ct,yt,null);rg(me,ct)}return null}function _t(Me,me,Ie,ct){for(var yt=null,zt=null,It=me,tn=me=0,hi=null;It!==null&&tn<Ie.length;tn++){It.index>tn?(hi=It,It=null):hi=It.sibling;var nn=wt(Me,It,Ie[tn],ct);if(nn===null){It===null&&(It=hi);break}h&&It&&nn.alternate===null&&p(Me,It),me=L(nn,me,tn),zt===null?yt=nn:zt.sibling=nn,zt=nn,It=hi}if(tn===Ie.length)return w(Me,It),vn&&ic(Me,tn),yt;if(It===null){for(;tn<Ie.length;tn++)It=Rt(Me,Ie[tn],ct),It!==null&&(me=L(It,me,tn),zt===null?yt=It:zt.sibling=It,zt=It);return vn&&ic(Me,tn),yt}for(It=M(Me,It);tn<Ie.length;tn++)hi=ln(It,Me,tn,Ie[tn],ct),hi!==null&&(h&&hi.alternate!==null&&It.delete(hi.key===null?tn:hi.key),me=L(hi,me,tn),zt===null?yt=hi:zt.sibling=hi,zt=hi);return h&&It.forEach(function(ja){return p(Me,ja)}),vn&&ic(Me,tn),yt}function Ui(Me,me,Ie,ct){var yt=C(Ie);if(typeof yt!="function")throw Error(o(150));if(Ie=yt.call(Ie),Ie==null)throw Error(o(151));for(var zt=yt=null,It=me,tn=me=0,hi=null,nn=Ie.next();It!==null&&!nn.done;tn++,nn=Ie.next()){It.index>tn?(hi=It,It=null):hi=It.sibling;var ja=wt(Me,It,nn.value,ct);if(ja===null){It===null&&(It=hi);break}h&&It&&ja.alternate===null&&p(Me,It),me=L(ja,me,tn),zt===null?yt=ja:zt.sibling=ja,zt=ja,It=hi}if(nn.done)return w(Me,It),vn&&ic(Me,tn),yt;if(It===null){for(;!nn.done;tn++,nn=Ie.next())nn=Rt(Me,nn.value,ct),nn!==null&&(me=L(nn,me,tn),zt===null?yt=nn:zt.sibling=nn,zt=nn);return vn&&ic(Me,tn),yt}for(It=M(Me,It);!nn.done;tn++,nn=Ie.next())nn=ln(It,Me,tn,nn.value,ct),nn!==null&&(h&&nn.alternate!==null&&It.delete(nn.key===null?tn:nn.key),me=L(nn,me,tn),zt===null?yt=nn:zt.sibling=nn,zt=nn);return h&&It.forEach(function(JB){return p(Me,JB)}),vn&&ic(Me,tn),yt}function xs(Me,me,Ie,ct){if(typeof Ie=="object"&&Ie!==null&&Ie.type===u&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:e:{for(var yt=Ie.key,zt=me;zt!==null;){if(zt.key===yt){if(yt=Ie.type,yt===u){if(zt.tag===7){w(Me,zt.sibling),me=A(zt,Ie.props.children),me.return=Me,Me=me;break e}}else if(zt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===S&&O2(yt)===zt.type){w(Me,zt.sibling),me=A(zt,Ie.props),me.ref=eh(Me,zt,Ie),me.return=Me,Me=me;break e}w(Me,zt);break}else p(Me,zt);zt=zt.sibling}Ie.type===u?(me=uc(Ie.props.children,Me.mode,ct,Ie.key),me.return=Me,Me=me):(ct=Ng(Ie.type,Ie.key,Ie.props,null,Me.mode,ct),ct.ref=eh(Me,me,Ie),ct.return=Me,Me=ct)}return J(Me);case c:e:{for(zt=Ie.key;me!==null;){if(me.key===zt)if(me.tag===4&&me.stateNode.containerInfo===Ie.containerInfo&&me.stateNode.implementation===Ie.implementation){w(Me,me.sibling),me=A(me,Ie.children||[]),me.return=Me,Me=me;break e}else{w(Me,me);break}else p(Me,me);me=me.sibling}me=v_(Ie,Me.mode,ct),me.return=Me,Me=me}return J(Me);case S:return zt=Ie._init,xs(Me,me,zt(Ie._payload),ct)}if(ee(Ie))return _t(Me,me,Ie,ct);if(C(Ie))return Ui(Me,me,Ie,ct);rg(Me,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,me!==null&&me.tag===6?(w(Me,me.sibling),me=A(me,Ie),me.return=Me,Me=me):(w(Me,me),me=g_(Ie,Me.mode,ct),me.return=Me,Me=me),J(Me)):w(Me,me)}return xs}var Nu=U2(!0),F2=U2(!1),th={},ms=vt(th),nh=vt(th),Ou=vt(th);function go(h){if(h===th)throw Error(o(174));return h}function k1(h,p){dt(Ou,p),dt(nh,h),dt(ms,th),h=ne(p),Je(ms),dt(ms,h)}function Uu(){Je(ms),Je(nh),Je(Ou)}function z2(h){var p=go(Ou.current),w=go(ms.current);p=k(w,h.type,p),w!==p&&(dt(nh,h),dt(ms,p))}function N1(h){nh.current===h&&(Je(ms),Je(nh))}var wn=vt(0);function sg(h){for(var p=h;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||ti(w)||wi(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var O1=[];function U1(){for(var h=0;h<O1.length;h++){var p=O1[h];Ne?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}O1.length=0}var og=a.ReactCurrentDispatcher,gs=a.ReactCurrentBatchConfig,Fu=0,In=null,ki=null,fi=null,ag=!1,ih=!1,rh=0,MB=0;function Ni(){throw Error(o(321))}function F1(h,p){if(p===null)return!1;for(var w=0;w<p.length&&w<h.length;w++)if(!Hr(h[w],p[w]))return!1;return!0}function z1(h,p,w,M,A,L){if(Fu=L,In=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,og.current=h===null||h.memoizedState===null?AB:PB,h=w(M,A),ih){L=0;do{if(ih=!1,rh=0,25<=L)throw Error(o(301));L+=1,fi=ki=null,p.updateQueue=null,og.current=RB,h=w(M,A)}while(ih)}if(og.current=fg,p=ki!==null&&ki.next!==null,Fu=0,fi=ki=In=null,ag=!1,p)throw Error(o(300));return h}function B1(){var h=rh!==0;return rh=0,h}function $o(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?In.memoizedState=fi=h:fi=fi.next=h,fi}function vo(){if(ki===null){var h=In.alternate;h=h!==null?h.memoizedState:null}else h=ki.next;var p=fi===null?In.memoizedState:fi.next;if(p!==null)fi=p,ki=h;else{if(h===null)throw Error(o(310));ki=h,h={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},fi===null?In.memoizedState=fi=h:fi=fi.next=h}return fi}function rc(h,p){return typeof p=="function"?p(h):p}function lg(h){var p=vo(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=h;var M=ki,A=M.baseQueue,L=w.pending;if(L!==null){if(A!==null){var J=A.next;A.next=L.next,L.next=J}M.baseQueue=A=L,w.pending=null}if(A!==null){L=A.next,M=M.baseState;var ce=J=null,Le=null,Qe=L;do{var ht=Qe.lane;if((Fu&ht)===ht)Le!==null&&(Le=Le.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),M=Qe.hasEagerState?Qe.eagerState:h(M,Qe.action);else{var Rt={lane:ht,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Le===null?(ce=Le=Rt,J=M):Le=Le.next=Rt,In.lanes|=ht,Bu|=ht}Qe=Qe.next}while(Qe!==null&&Qe!==L);Le===null?J=M:Le.next=ce,Hr(M,p.memoizedState)||(Xr=!0),p.memoizedState=M,p.baseState=J,p.baseQueue=Le,w.lastRenderedState=M}if(h=w.interleaved,h!==null){A=h;do L=A.lane,In.lanes|=L,Bu|=L,A=A.next;while(A!==h)}else A===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function cg(h){var p=vo(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=h;var M=w.dispatch,A=w.pending,L=p.memoizedState;if(A!==null){w.pending=null;var J=A=A.next;do L=h(L,J.action),J=J.next;while(J!==A);Hr(L,p.memoizedState)||(Xr=!0),p.memoizedState=L,p.baseQueue===null&&(p.baseState=L),w.lastRenderedState=L}return[L,M]}function B2(){}function V2(h,p){var w=In,M=vo(),A=p(),L=!Hr(M.memoizedState,A);if(L&&(M.memoizedState=A,Xr=!0),M=M.queue,oh(W2.bind(null,w,M,h),[h]),M.getSnapshot!==p||L||fi!==null&&fi.memoizedState.tag&1){if(w.flags|=2048,sh(9,G2.bind(null,w,M,A,p),void 0,null),Kn===null)throw Error(o(349));Fu&30||H2(w,p,A)}return A}function H2(h,p,w){h.flags|=16384,h={getSnapshot:p,value:w},p=In.updateQueue,p===null?(p={lastEffect:null,stores:null},In.updateQueue=p,p.stores=[h]):(w=p.stores,w===null?p.stores=[h]:w.push(h))}function G2(h,p,w,M){p.value=w,p.getSnapshot=M,j2(p)&&vs(h,1,-1)}function W2(h,p,w){return w(function(){j2(p)&&vs(h,1,-1)})}function j2(h){var p=h.getSnapshot;h=h.value;try{var w=p();return!Hr(h,w)}catch{return!0}}function V1(h){var p=$o();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:h},p.queue=h,h=h.dispatch=CB.bind(null,In,h),[p.memoizedState,h]}function sh(h,p,w,M){return h={tag:h,create:p,destroy:w,deps:M,next:null},p=In.updateQueue,p===null?(p={lastEffect:null,stores:null},In.updateQueue=p,p.lastEffect=h.next=h):(w=p.lastEffect,w===null?p.lastEffect=h.next=h:(M=w.next,w.next=h,h.next=M,p.lastEffect=h)),h}function X2(){return vo().memoizedState}function ug(h,p,w,M){var A=$o();In.flags|=h,A.memoizedState=sh(1|p,w,void 0,M===void 0?null:M)}function dg(h,p,w,M){var A=vo();M=M===void 0?null:M;var L=void 0;if(ki!==null){var J=ki.memoizedState;if(L=J.destroy,M!==null&&F1(M,J.deps)){A.memoizedState=sh(p,w,L,M);return}}In.flags|=h,A.memoizedState=sh(1|p,w,L,M)}function H1(h,p){return ug(8390656,8,h,p)}function oh(h,p){return dg(2048,8,h,p)}function Y2(h,p){return dg(4,2,h,p)}function q2(h,p){return dg(4,4,h,p)}function K2(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function $2(h,p,w){return w=w!=null?w.concat([h]):null,dg(4,4,K2.bind(null,p,h),w)}function G1(){}function Z2(h,p){var w=vo();p=p===void 0?null:p;var M=w.memoizedState;return M!==null&&p!==null&&F1(p,M[1])?M[0]:(w.memoizedState=[h,p],h)}function Q2(h,p){var w=vo();p=p===void 0?null:p;var M=w.memoizedState;return M!==null&&p!==null&&F1(p,M[1])?M[0]:(h=h(),w.memoizedState=[h,p],h)}function EB(h,p){var w=jt;jt=w!==0&&4>w?w:4,h(!0);var M=gs.transition;gs.transition={};try{h(!1),p()}finally{jt=w,gs.transition=M}}function J2(){return vo().memoizedState}function TB(h,p,w){var M=Ha(h);w={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null},eC(h)?tC(p,w):(nC(h,p,w),w=rr(),h=vs(h,M,w),h!==null&&iC(h,p,M))}function CB(h,p,w){var M=Ha(h),A={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null};if(eC(h))tC(p,A);else{nC(h,p,A);var L=h.alternate;if(h.lanes===0&&(L===null||L.lanes===0)&&(L=p.lastRenderedReducer,L!==null))try{var J=p.lastRenderedState,ce=L(J,w);if(A.hasEagerState=!0,A.eagerState=ce,Hr(ce,J))return}catch{}finally{}w=rr(),h=vs(h,M,w),h!==null&&iC(h,p,M)}}function eC(h){var p=h.alternate;return h===In||p!==null&&p===In}function tC(h,p){ih=ag=!0;var w=h.pending;w===null?p.next=p:(p.next=w.next,w.next=p),h.pending=p}function nC(h,p,w){Kn!==null&&h.mode&1&&!(Ht&2)?(h=p.interleaved,h===null?(w.next=w,Gr===null?Gr=[p]:Gr.push(p)):(w.next=h.next,h.next=w),p.interleaved=w):(h=p.pending,h===null?w.next=w:(w.next=h.next,h.next=w),p.pending=w)}function iC(h,p,w){if(w&4194240){var M=p.lanes;M&=h.pendingLanes,w|=M,p.lanes=w,po(h,w)}}var fg={readContext:Un,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},AB={readContext:Un,useCallback:function(h,p){return $o().memoizedState=[h,p===void 0?null:p],h},useContext:Un,useEffect:H1,useImperativeHandle:function(h,p,w){return w=w!=null?w.concat([h]):null,ug(4194308,4,K2.bind(null,p,h),w)},useLayoutEffect:function(h,p){return ug(4194308,4,h,p)},useInsertionEffect:function(h,p){return ug(4,2,h,p)},useMemo:function(h,p){var w=$o();return p=p===void 0?null:p,h=h(),w.memoizedState=[h,p],h},useReducer:function(h,p,w){var M=$o();return p=w!==void 0?w(p):p,M.memoizedState=M.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},M.queue=h,h=h.dispatch=TB.bind(null,In,h),[M.memoizedState,h]},useRef:function(h){var p=$o();return h={current:h},p.memoizedState=h},useState:V1,useDebugValue:G1,useDeferredValue:function(h){var p=V1(h),w=p[0],M=p[1];return H1(function(){var A=gs.transition;gs.transition={};try{M(h)}finally{gs.transition=A}},[h]),w},useTransition:function(){var h=V1(!1),p=h[0];return h=EB.bind(null,h[1]),$o().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,w){var M=In,A=$o();if(vn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=p(),Kn===null)throw Error(o(349));Fu&30||H2(M,p,w)}A.memoizedState=w;var L={value:w,getSnapshot:p};return A.queue=L,H1(W2.bind(null,M,L,h),[h]),M.flags|=2048,sh(9,G2.bind(null,M,L,w,p),void 0,null),w},useId:function(){var h=$o(),p=Kn.identifierPrefix;if(vn){var w=Ko,M=qo;w=(M&~(1<<32-Wt(M)-1)).toString(32)+w,p=":"+p+"R"+w,w=rh++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=MB++,p=":"+p+"r"+w.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},PB={readContext:Un,useCallback:Z2,useContext:Un,useEffect:oh,useImperativeHandle:$2,useInsertionEffect:Y2,useLayoutEffect:q2,useMemo:Q2,useReducer:lg,useRef:X2,useState:function(){return lg(rc)},useDebugValue:G1,useDeferredValue:function(h){var p=lg(rc),w=p[0],M=p[1];return oh(function(){var A=gs.transition;gs.transition={};try{M(h)}finally{gs.transition=A}},[h]),w},useTransition:function(){var h=lg(rc)[0],p=vo().memoizedState;return[h,p]},useMutableSource:B2,useSyncExternalStore:V2,useId:J2,unstable_isNewReconciler:!1},RB={readContext:Un,useCallback:Z2,useContext:Un,useEffect:oh,useImperativeHandle:$2,useInsertionEffect:Y2,useLayoutEffect:q2,useMemo:Q2,useReducer:cg,useRef:X2,useState:function(){return cg(rc)},useDebugValue:G1,useDeferredValue:function(h){var p=cg(rc),w=p[0],M=p[1];return oh(function(){var A=gs.transition;gs.transition={};try{M(h)}finally{gs.transition=A}},[h]),w},useTransition:function(){var h=cg(rc)[0],p=vo().memoizedState;return[h,p]},useMutableSource:B2,useSyncExternalStore:V2,useId:J2,unstable_isNewReconciler:!1};function W1(h,p){try{var w="",M=p;do w+=tc(M),M=M.return;while(M);var A=w}catch(L){A=`
Error generating stack: `+L.message+`
`+L.stack}return{value:h,source:p,stack:A}}function j1(h,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var IB=typeof WeakMap=="function"?WeakMap:Map;function rC(h,p,w){w=Yo(-1,w),w.tag=3,w.payload={element:null};var M=p.value;return w.callback=function(){Ag||(Ag=!0,c_=M),j1(h,p)},w}function sC(h,p,w){w=Yo(-1,w),w.tag=3;var M=h.type.getDerivedStateFromError;if(typeof M=="function"){var A=p.value;w.payload=function(){return M(A)},w.callback=function(){j1(h,p)}}var L=h.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(w.callback=function(){j1(h,p),typeof M!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var J=p.stack;this.componentDidCatch(p.value,{componentStack:J!==null?J:""})}),w}function oC(h,p,w){var M=h.pingCache;if(M===null){M=h.pingCache=new IB;var A=new Set;M.set(p,A)}else A=M.get(p),A===void 0&&(A=new Set,M.set(p,A));A.has(w)||(A.add(w),h=jB.bind(null,h,p,w),p.then(h,h))}function aC(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function lC(h,p,w,M,A){return h.mode&1?(h.flags|=65536,h.lanes=A,h):(h===p?h.flags|=65536:(h.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Yo(-1,1),p.tag=2,za(w,p))),w.lanes|=1),h)}function yo(h){h.flags|=4}function cC(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var ah,lh,hg,pg;if(Oe)ah=function(h,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)Y(h,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},lh=function(){},hg=function(h,p,w,M,A){if(h=h.memoizedProps,h!==M){var L=p.stateNode,J=go(ms.current);w=$(L,w,h,M,A,J),(p.updateQueue=w)&&yo(p)}},pg=function(h,p,w,M){w!==M&&yo(p)};else if(Pe){ah=function(h,p,w,M){for(var A=p.child;A!==null;){if(A.tag===5){var L=A.stateNode;w&&M&&(L=gt(L,A.type,A.memoizedProps,A)),Y(h,L)}else if(A.tag===6)L=A.stateNode,w&&M&&(L=Yt(L,A.memoizedProps,A)),Y(h,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),ah(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var uC=function(h,p,w,M){for(var A=p.child;A!==null;){if(A.tag===5){var L=A.stateNode;w&&M&&(L=gt(L,A.type,A.memoizedProps,A)),Ke(h,L)}else if(A.tag===6)L=A.stateNode,w&&M&&(L=Yt(L,A.memoizedProps,A)),Ke(h,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),uC(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};lh=function(h,p){var w=p.stateNode;if(!cC(h,p)){h=w.containerInfo;var M=Se(h);uC(M,p,!1,!1),w.pendingChildren=M,yo(p),nt(h,M)}},hg=function(h,p,w,M,A){var L=h.stateNode,J=h.memoizedProps;if((h=cC(h,p))&&J===M)p.stateNode=L;else{var ce=p.stateNode,Le=go(ms.current),Qe=null;J!==M&&(Qe=$(ce,w,J,M,A,Le)),h&&Qe===null?p.stateNode=L:(L=ke(L,Qe,w,J,M,p,h,ce),ie(L,w,M,A,Le)&&yo(p),p.stateNode=L,h?yo(p):ah(L,p,!1,!1))}},pg=function(h,p,w,M){w!==M?(h=go(Ou.current),w=go(ms.current),p.stateNode=oe(M,h,w,p),yo(p)):p.stateNode=h.stateNode}}else lh=function(){},hg=function(){},pg=function(){};function ch(h,p){if(!vn)switch(h.tailMode){case"hidden":p=h.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:M.sibling=null}}function Oi(h){var p=h.alternate!==null&&h.alternate.child===h.child,w=0,M=0;if(p)for(var A=h.child;A!==null;)w|=A.lanes|A.childLanes,M|=A.subtreeFlags&14680064,M|=A.flags&14680064,A.return=h,A=A.sibling;else for(A=h.child;A!==null;)w|=A.lanes|A.childLanes,M|=A.subtreeFlags,M|=A.flags,A.return=h,A=A.sibling;return h.subtreeFlags|=M,h.childLanes=w,p}function DB(h,p,w){var M=p.pendingProps;switch(R1(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(p),null;case 1:return kt(p.type)&&Ct(),Oi(p),null;case 3:return M=p.stateNode,Uu(),Je(Tt),Je(Lt),U1(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(h===null||h.child===null)&&(Jf(p)?yo(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Fs!==null&&(f_(Fs),Fs=null))),lh(h,p),Oi(p),null;case 5:N1(p),w=go(Ou.current);var A=p.type;if(h!==null&&p.stateNode!=null)hg(h,p,A,M,w),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(o(166));return Oi(p),null}if(h=go(ms.current),Jf(p)){if(!We)throw Error(o(175));h=ql(p.stateNode,p.type,p.memoizedProps,w,h,p,!Qf),p.updateQueue=h,h!==null&&yo(p)}else{var L=F(A,M,w,h,p);ah(L,p,!1,!1),p.stateNode=L,ie(L,A,M,w,h)&&yo(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Oi(p),null;case 6:if(h&&p.stateNode!=null)pg(h,p,h.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(o(166));if(h=go(Ou.current),w=go(ms.current),Jf(p)){if(!We)throw Error(o(176));if(h=p.stateNode,M=p.memoizedProps,(w=Na(h,M,p,!Qf))&&(A=Wr,A!==null))switch(L=(A.mode&1)!==0,A.tag){case 3:pe(A.stateNode.containerInfo,h,M,L);break;case 5:Ce(A.type,A.memoizedProps,A.stateNode,h,M,L)}w&&yo(p)}else p.stateNode=oe(M,h,w,p)}return Oi(p),null;case 13:if(Je(wn),M=p.memoizedState,vn&&jr!==null&&p.mode&1&&!(p.flags&128)){for(h=jr;h;)h=Di(h);return ku(),p.flags|=98560,p}if(M!==null&&M.dehydrated!==null){if(M=Jf(p),h===null){if(!M)throw Error(o(318));if(!We)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Gf(h,p)}else ku(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Oi(p),null}return Fs!==null&&(f_(Fs),Fs=null),p.flags&128?(p.lanes=w,p):(M=M!==null,w=!1,h===null?Jf(p):w=h.memoizedState!==null,M&&!w&&(p.child.flags|=8192,p.mode&1&&(h===null||wn.current&1?ri===0&&(ri=3):p_())),p.updateQueue!==null&&(p.flags|=4),Oi(p),null);case 4:return Uu(),lh(h,p),h===null&&Re(p.stateNode.containerInfo),Oi(p),null;case 10:return di(p.type._context),Oi(p),null;case 17:return kt(p.type)&&Ct(),Oi(p),null;case 19:if(Je(wn),A=p.memoizedState,A===null)return Oi(p),null;if(M=(p.flags&128)!==0,L=A.rendering,L===null)if(M)ch(A,!1);else{if(ri!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(L=sg(h),L!==null){for(p.flags|=128,ch(A,!1),h=L.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=w,M=p.child;M!==null;)w=M,A=h,w.flags&=14680066,L=w.alternate,L===null?(w.childLanes=0,w.lanes=A,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=L.childLanes,w.lanes=L.lanes,w.child=L.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=L.memoizedProps,w.memoizedState=L.memoizedState,w.updateQueue=L.updateQueue,w.type=L.type,A=L.dependencies,w.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),M=M.sibling;return dt(wn,wn.current&1|2),p.child}h=h.sibling}A.tail!==null&&_n()>l_&&(p.flags|=128,M=!0,ch(A,!1),p.lanes=4194304)}else{if(!M)if(h=sg(L),h!==null){if(p.flags|=128,M=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),ch(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!vn)return Oi(p),null}else 2*_n()-A.renderingStartTime>l_&&w!==1073741824&&(p.flags|=128,M=!0,ch(A,!1),p.lanes=4194304);A.isBackwards?(L.sibling=p.child,p.child=L):(h=A.last,h!==null?h.sibling=L:p.child=L,A.last=L)}return A.tail!==null?(p=A.tail,A.rendering=p,A.tail=p.sibling,A.renderingStartTime=_n(),p.sibling=null,h=wn.current,dt(wn,M?h&1|2:h&1),p):(Oi(p),null);case 22:case 23:return h_(),M=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==M&&(p.flags|=8192),M&&p.mode&1?Yr&1073741824&&(Oi(p),Oe&&p.subtreeFlags&6&&(p.flags|=8192)):Oi(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var LB=a.ReactCurrentOwner,Xr=!1;function ir(h,p,w,M){p.child=h===null?F2(p,null,w,M):Nu(p,h.child,w,M)}function dC(h,p,w,M,A){w=w.render;var L=p.ref;return On(p,A),M=z1(h,p,w,M,L,A),w=B1(),h!==null&&!Xr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~A,Zo(h,p,A)):(vn&&w&&P1(p),p.flags|=1,ir(h,p,M,A),p.child)}function fC(h,p,w,M,A){if(h===null){var L=w.type;return typeof L=="function"&&!m_(L)&&L.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=L,hC(h,p,L,M,A)):(h=Ng(w.type,null,M,p,p.mode,A),h.ref=p.ref,h.return=p,p.child=h)}if(L=h.child,!(h.lanes&A)){var J=L.memoizedProps;if(w=w.compare,w=w!==null?w:ec,w(J,M)&&h.ref===p.ref)return Zo(h,p,A)}return p.flags|=1,h=Wa(L,M),h.ref=p.ref,h.return=p,p.child=h}function hC(h,p,w,M,A){if(h!==null&&ec(h.memoizedProps,M)&&h.ref===p.ref)if(Xr=!1,(h.lanes&A)!==0)h.flags&131072&&(Xr=!0);else return p.lanes=h.lanes,Zo(h,p,A);return X1(h,p,w,M,A)}function pC(h,p,w){var M=p.pendingProps,A=M.children,L=h!==null?h.memoizedState:null;if(M.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},dt(zu,Yr),Yr|=w;else if(w&1073741824)p.memoizedState={baseLanes:0,cachePool:null},M=L!==null?L.baseLanes:w,dt(zu,Yr),Yr|=M;else return h=L!==null?L.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,dt(zu,Yr),Yr|=h,null;else L!==null?(M=L.baseLanes|w,p.memoizedState=null):M=w,dt(zu,Yr),Yr|=M;return ir(h,p,A,w),p.child}function mC(h,p){var w=p.ref;(h===null&&w!==null||h!==null&&h.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function X1(h,p,w,M,A){var L=kt(w)?Gt:Lt.current;return L=pt(p,L),On(p,A),w=z1(h,p,w,M,L,A),M=B1(),h!==null&&!Xr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~A,Zo(h,p,A)):(vn&&M&&P1(p),p.flags|=1,ir(h,p,w,A),p.child)}function gC(h,p,w,M,A){if(kt(w)){var L=!0;Rn(p)}else L=!1;if(On(p,A),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),R2(p,w,M),A1(p,w,M,A),M=!0;else if(h===null){var J=p.stateNode,ce=p.memoizedProps;J.props=ce;var Le=J.context,Qe=w.contextType;typeof Qe=="object"&&Qe!==null?Qe=Un(Qe):(Qe=kt(w)?Gt:Lt.current,Qe=pt(p,Qe));var ht=w.getDerivedStateFromProps,Rt=typeof ht=="function"||typeof J.getSnapshotBeforeUpdate=="function";Rt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ce!==M||Le!==Qe)&&I2(p,J,M,Qe),Fa=!1;var wt=p.memoizedState;J.state=wt,eg(p,M,J,A),Le=p.memoizedState,ce!==M||wt!==Le||Tt.current||Fa?(typeof ht=="function"&&(C1(p,w,ht,M),Le=p.memoizedState),(ce=Fa||P2(p,w,ce,M,wt,Le,Qe))?(Rt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(p.flags|=4194308)):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=Le),J.props=M,J.state=Le,J.context=Qe,M=ce):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{J=p.stateNode,E2(h,p),ce=p.memoizedProps,Qe=p.type===p.elementType?ce:tr(p.type,ce),J.props=Qe,Rt=p.pendingProps,wt=J.context,Le=w.contextType,typeof Le=="object"&&Le!==null?Le=Un(Le):(Le=kt(w)?Gt:Lt.current,Le=pt(p,Le));var ln=w.getDerivedStateFromProps;(ht=typeof ln=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ce!==Rt||wt!==Le)&&I2(p,J,M,Le),Fa=!1,wt=p.memoizedState,J.state=wt,eg(p,M,J,A);var _t=p.memoizedState;ce!==Rt||wt!==_t||Tt.current||Fa?(typeof ln=="function"&&(C1(p,w,ln,M),_t=p.memoizedState),(Qe=Fa||P2(p,w,Qe,M,wt,_t,Le)||!1)?(ht||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(M,_t,Le),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(M,_t,Le)),typeof J.componentDidUpdate=="function"&&(p.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof J.componentDidUpdate!="function"||ce===h.memoizedProps&&wt===h.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ce===h.memoizedProps&&wt===h.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=_t),J.props=M,J.state=_t,J.context=Le,M=Qe):(typeof J.componentDidUpdate!="function"||ce===h.memoizedProps&&wt===h.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ce===h.memoizedProps&&wt===h.memoizedState||(p.flags|=1024),M=!1)}return Y1(h,p,w,M,L,A)}function Y1(h,p,w,M,A,L){mC(h,p);var J=(p.flags&128)!==0;if(!M&&!J)return A&&ni(p,w,!1),Zo(h,p,L);M=p.stateNode,LB.current=p;var ce=J&&typeof w.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,h!==null&&J?(p.child=Nu(p,h.child,null,L),p.child=Nu(p,null,ce,L)):ir(h,p,ce,L),p.memoizedState=M.state,A&&ni(p,w,!0),p.child}function vC(h){var p=h.stateNode;p.pendingContext?Xn(h,p.pendingContext,p.pendingContext!==p.context):p.context&&Xn(h,p.context,!1),k1(h,p.containerInfo)}function yC(h,p,w,M,A){return ku(),L1(A),p.flags|=256,ir(h,p,w,M),p.child}var mg={dehydrated:null,treeContext:null,retryLane:0};function gg(h){return{baseLanes:h,cachePool:null}}function xC(h,p,w){var M=p.pendingProps,A=wn.current,L=!1,J=(p.flags&128)!==0,ce;if((ce=J)||(ce=h!==null&&h.memoizedState===null?!1:(A&2)!==0),ce?(L=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(A|=1),dt(wn,A&1),h===null)return D1(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?wi(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(A=M.children,h=M.fallback,L?(M=p.mode,L=p.child,A={mode:"hidden",children:A},!(M&1)&&L!==null?(L.childLanes=0,L.pendingProps=A):L=Og(A,M,0,null),h=uc(h,M,w,null),L.return=p,h.return=p,L.sibling=h,p.child=L,p.child.memoizedState=gg(w),p.memoizedState=mg,h):q1(p,A));if(A=h.memoizedState,A!==null){if(ce=A.dehydrated,ce!==null){if(J)return p.flags&256?(p.flags&=-257,vg(h,p,w,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(L=M.fallback,A=p.mode,M=Og({mode:"visible",children:M.children},A,0,null),L=uc(L,A,w,null),L.flags|=2,M.return=p,L.return=p,M.sibling=L,p.child=M,p.mode&1&&Nu(p,h.child,null,w),p.child.memoizedState=gg(w),p.memoizedState=mg,L);if(!(p.mode&1))p=vg(h,p,w,null);else if(wi(ce))p=vg(h,p,w,Error(o(419)));else if(M=(w&h.childLanes)!==0,Xr||M){if(M=Kn,M!==null){switch(w&-w){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}M=L&(M.suspendedLanes|w)?0:L,M!==0&&M!==A.retryLane&&(A.retryLane=M,vs(h,M,-1))}p_(),p=vg(h,p,w,Error(o(421)))}else ti(ce)?(p.flags|=128,p.child=h.child,p=XB.bind(null,h),Fr(ce,p),p=null):(w=A.treeContext,We&&(jr=xr(ce),Wr=p,vn=!0,Fs=null,Qf=!1,w!==null&&(hs[ps++]=qo,hs[ps++]=Ko,hs[ps++]=nc,qo=w.id,Ko=w.overflow,nc=p)),p=q1(p,p.pendingProps.children),p.flags|=4096);return p}return L?(M=wC(h,p,M.children,M.fallback,w),L=p.child,A=h.child.memoizedState,L.memoizedState=A===null?gg(w):{baseLanes:A.baseLanes|w,cachePool:null},L.childLanes=h.childLanes&~w,p.memoizedState=mg,M):(w=_C(h,p,M.children,w),p.memoizedState=null,w)}return L?(M=wC(h,p,M.children,M.fallback,w),L=p.child,A=h.child.memoizedState,L.memoizedState=A===null?gg(w):{baseLanes:A.baseLanes|w,cachePool:null},L.childLanes=h.childLanes&~w,p.memoizedState=mg,M):(w=_C(h,p,M.children,w),p.memoizedState=null,w)}function q1(h,p){return p=Og({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function _C(h,p,w,M){var A=h.child;return h=A.sibling,w=Wa(A,{mode:"visible",children:w}),!(p.mode&1)&&(w.lanes=M),w.return=p,w.sibling=null,h!==null&&(M=p.deletions,M===null?(p.deletions=[h],p.flags|=16):M.push(h)),p.child=w}function wC(h,p,w,M,A){var L=p.mode;h=h.child;var J=h.sibling,ce={mode:"hidden",children:w};return!(L&1)&&p.child!==h?(w=p.child,w.childLanes=0,w.pendingProps=ce,p.deletions=null):(w=Wa(h,ce),w.subtreeFlags=h.subtreeFlags&14680064),J!==null?M=Wa(J,M):(M=uc(M,L,A,null),M.flags|=2),M.return=p,w.return=p,w.sibling=M,p.child=w,M}function vg(h,p,w,M){return M!==null&&L1(M),Nu(p,h.child,null,w),h=q1(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function SC(h,p,w){h.lanes|=p;var M=h.alternate;M!==null&&(M.lanes|=p),nr(h.return,p,w)}function K1(h,p,w,M,A){var L=h.memoizedState;L===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:A}:(L.isBackwards=p,L.rendering=null,L.renderingStartTime=0,L.last=M,L.tail=w,L.tailMode=A)}function bC(h,p,w){var M=p.pendingProps,A=M.revealOrder,L=M.tail;if(ir(h,p,M.children,w),M=wn.current,M&2)M=M&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&SC(h,w,p);else if(h.tag===19)SC(h,w,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}M&=1}if(dt(wn,M),!(p.mode&1))p.memoizedState=null;else switch(A){case"forwards":for(w=p.child,A=null;w!==null;)h=w.alternate,h!==null&&sg(h)===null&&(A=w),w=w.sibling;w=A,w===null?(A=p.child,p.child=null):(A=w.sibling,w.sibling=null),K1(p,!1,A,w,L);break;case"backwards":for(w=null,A=p.child,p.child=null;A!==null;){if(h=A.alternate,h!==null&&sg(h)===null){p.child=A;break}h=A.sibling,A.sibling=w,w=A,A=h}K1(p,!0,w,null,L);break;case"together":K1(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Zo(h,p,w){if(h!==null&&(p.dependencies=h.dependencies),Bu|=p.lanes,!(w&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,w=Wa(h,h.pendingProps),p.child=w,w.return=p;h.sibling!==null;)h=h.sibling,w=w.sibling=Wa(h,h.pendingProps),w.return=p;w.sibling=null}return p.child}function kB(h,p,w){switch(p.tag){case 3:vC(p),ku();break;case 5:z2(p);break;case 1:kt(p.type)&&Rn(p);break;case 4:k1(p,p.stateNode.containerInfo);break;case 10:Qm(p,p.type._context,p.memoizedProps.value);break;case 13:var M=p.memoizedState;if(M!==null)return M.dehydrated!==null?(dt(wn,wn.current&1),p.flags|=128,null):w&p.child.childLanes?xC(h,p,w):(dt(wn,wn.current&1),h=Zo(h,p,w),h!==null?h.sibling:null);dt(wn,wn.current&1);break;case 19:if(M=(w&p.childLanes)!==0,h.flags&128){if(M)return bC(h,p,w);p.flags|=128}var A=p.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),dt(wn,wn.current),M)break;return null;case 22:case 23:return p.lanes=0,pC(h,p,w)}return Zo(h,p,w)}function NB(h,p){switch(R1(p),p.tag){case 1:return kt(p.type)&&Ct(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Uu(),Je(Tt),Je(Lt),U1(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return N1(p),null;case 13:if(Je(wn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));ku()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Je(wn),null;case 4:return Uu(),null;case 10:return di(p.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var yg=!1,sc=!1,OB=typeof WeakSet=="function"?WeakSet:Set,ot=null;function xg(h,p){var w=h.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(M){br(h,p,M)}else w.current=null}function $1(h,p,w){try{w()}catch(M){br(h,p,M)}}var MC=!1;function UB(h,p){for(B(h.containerInfo),ot=p;ot!==null;)if(h=ot,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,ot=p;else for(;ot!==null;){h=ot;try{var w=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var M=w.memoizedProps,A=w.memoizedState,L=h.stateNode,J=L.getSnapshotBeforeUpdate(h.elementType===h.type?M:tr(h.type,M),A);L.__reactInternalSnapshotBeforeUpdate=J}break;case 3:Oe&&$e(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){br(h,h.return,ce)}if(p=h.sibling,p!==null){p.return=h.return,ot=p;break}ot=h.return}return w=MC,MC=!1,w}function oc(h,p,w){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var A=M=M.next;do{if((A.tag&h)===h){var L=A.destroy;A.destroy=void 0,L!==void 0&&$1(p,w,L)}A=A.next}while(A!==M)}}function uh(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&h)===h){var M=w.create;w.destroy=M()}w=w.next}while(w!==p)}}function Z1(h){var p=h.ref;if(p!==null){var w=h.stateNode;switch(h.tag){case 5:h=K(w);break;default:h=w}typeof p=="function"?p(h):p.current=h}}function EC(h,p,w){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Ql,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var M=h=h.next;do{var A=M,L=A.destroy;A=A.tag,L!==void 0&&(A&2||A&4)&&$1(p,w,L),M=M.next}while(M!==h)}break;case 1:if(xg(p,w),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(J){br(p,w,J)}break;case 5:xg(p,w);break;case 4:Oe?IC(h,p,w):Pe&&Pe&&(p=p.stateNode.containerInfo,w=Se(p),rt(p,w))}}function TC(h,p,w){for(var M=p;;)if(EC(h,M,w),M.child===null||Oe&&M.tag===4){if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function CC(h){var p=h.alternate;p!==null&&(h.alternate=null,CC(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&De(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function AC(h){return h.tag===5||h.tag===3||h.tag===4}function PC(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||AC(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function RC(h){if(Oe){e:{for(var p=h.return;p!==null;){if(AC(p))break e;p=p.return}throw Error(o(160))}var w=p;switch(w.tag){case 5:p=w.stateNode,w.flags&32&&(de(p),w.flags&=-33),w=PC(h),J1(h,w,p);break;case 3:case 4:p=w.stateNode.containerInfo,w=PC(h),Q1(h,w,p);break;default:throw Error(o(161))}}}function Q1(h,p,w){var M=h.tag;if(M===5||M===6)h=h.stateNode,p?Ve(w,h,p):ze(w,h);else if(M!==4&&(h=h.child,h!==null))for(Q1(h,p,w),h=h.sibling;h!==null;)Q1(h,p,w),h=h.sibling}function J1(h,p,w){var M=h.tag;if(M===5||M===6)h=h.stateNode,p?be(w,h,p):fe(w,h);else if(M!==4&&(h=h.child,h!==null))for(J1(h,p,w),h=h.sibling;h!==null;)J1(h,p,w),h=h.sibling}function IC(h,p,w){for(var M=p,A=!1,L,J;;){if(!A){A=M.return;e:for(;;){if(A===null)throw Error(o(160));switch(L=A.stateNode,A.tag){case 5:J=!1;break e;case 3:L=L.containerInfo,J=!0;break e;case 4:L=L.containerInfo,J=!0;break e}A=A.return}A=!0}if(M.tag===5||M.tag===6)TC(h,M,w),J?Q(L,M.stateNode):He(L,M.stateNode);else if(M.tag===18)J?Cu(L,M.stateNode):Wf(L,M.stateNode);else if(M.tag===4){if(M.child!==null){L=M.stateNode.containerInfo,J=!0,M.child.return=M,M=M.child;continue}}else if(EC(h,M,w),M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return,M.tag===4&&(A=!1)}M.sibling.return=M.return,M=M.sibling}}function e_(h,p){if(Oe){switch(p.tag){case 0:case 11:case 14:case 15:oc(3,p,p.return),uh(3,p),oc(5,p,p.return);return;case 1:return;case 5:var w=p.stateNode;if(w!=null){var M=p.memoizedProps;h=h!==null?h.memoizedProps:M;var A=p.type,L=p.updateQueue;p.updateQueue=null,L!==null&&Ye(w,L,A,h,M,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));w=p.memoizedProps,Be(p.stateNode,h!==null?h.memoizedProps:w,w);return;case 3:We&&h!==null&&h.memoizedState.isDehydrated&&Wo(p.stateNode.containerInfo);return;case 12:return;case 13:_g(p);return;case 19:_g(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:oc(3,p,p.return),uh(3,p),oc(5,p,p.return);return;case 12:return;case 13:_g(p);return;case 19:_g(p);return;case 3:We&&h!==null&&h.memoizedState.isDehydrated&&Wo(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(Pe){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,rt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function _g(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var w=h.stateNode;w===null&&(w=h.stateNode=new OB),p.forEach(function(M){var A=YB.bind(null,h,M);w.has(M)||(w.add(M),M.then(A,A))})}}function FB(h,p){for(ot=p;ot!==null;){p=ot;var w=p.deletions;if(w!==null)for(var M=0;M<w.length;M++){var A=w[M];try{var L=h;Oe?IC(L,A,p):TC(L,A,p);var J=A.alternate;J!==null&&(J.return=null),A.return=null}catch(yt){br(A,p,yt)}}if(w=p.child,p.subtreeFlags&12854&&w!==null)w.return=p,ot=w;else for(;ot!==null;){p=ot;try{var ce=p.flags;if(ce&32&&Oe&&de(p.stateNode),ce&512){var Le=p.alternate;if(Le!==null){var Qe=Le.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}if(ce&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var ht=p.alternate;(ht===null||ht.memoizedState===null)&&(a_=_n())}break;case 22:var Rt=p.memoizedState!==null,wt=p.alternate,ln=wt!==null&&wt.memoizedState!==null;if(w=p,Oe){e:if(M=w,A=Rt,L=null,Oe)for(var _t=M;;){if(_t.tag===5){if(L===null){L=_t;var Ui=_t.stateNode;A?Ee(Ui):xe(_t.stateNode,_t.memoizedProps)}}else if(_t.tag===6){if(L===null){var xs=_t.stateNode;A?Z(xs):Te(xs,_t.memoizedProps)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===M)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===M)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===M)break e;L===_t&&(L=null),_t=_t.return}L===_t&&(L=null),_t.sibling.return=_t.return,_t=_t.sibling}}if(Rt&&!ln&&w.mode&1){ot=w;for(var Me=w.child;Me!==null;){for(w=ot=Me;ot!==null;){M=ot;var me=M.child;switch(M.tag){case 0:case 11:case 14:case 15:oc(4,M,M.return);break;case 1:xg(M,M.return);var Ie=M.stateNode;if(typeof Ie.componentWillUnmount=="function"){var ct=M.return;try{Ie.props=M.memoizedProps,Ie.state=M.memoizedState,Ie.componentWillUnmount()}catch(yt){br(M,ct,yt)}}break;case 5:xg(M,M.return);break;case 22:if(M.memoizedState!==null){kC(w);continue}}me!==null?(me.return=M,ot=me):kC(w)}Me=Me.sibling}}}switch(ce&4102){case 2:RC(p),p.flags&=-3;break;case 6:RC(p),p.flags&=-3,e_(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,e_(p.alternate,p);break;case 4:e_(p.alternate,p)}}catch(yt){br(p,p.return,yt)}if(w=p.sibling,w!==null){w.return=p.return,ot=w;break}ot=p.return}}}function zB(h,p,w){ot=h,DC(h)}function DC(h,p,w){for(var M=(h.mode&1)!==0;ot!==null;){var A=ot,L=A.child;if(A.tag===22&&M){var J=A.memoizedState!==null||yg;if(!J){var ce=A.alternate,Le=ce!==null&&ce.memoizedState!==null||sc;ce=yg;var Qe=sc;if(yg=J,(sc=Le)&&!Qe)for(ot=A;ot!==null;)J=ot,Le=J.child,J.tag===22&&J.memoizedState!==null?NC(A):Le!==null?(Le.return=J,ot=Le):NC(A);for(;L!==null;)ot=L,DC(L),L=L.sibling;ot=A,yg=ce,sc=Qe}LC(h)}else A.subtreeFlags&8772&&L!==null?(L.return=A,ot=L):LC(h)}}function LC(h){for(;ot!==null;){var p=ot;if(p.flags&8772){var w=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:sc||uh(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!sc)if(w===null)M.componentDidMount();else{var A=p.elementType===p.type?w.memoizedProps:tr(p.type,w.memoizedProps);M.componentDidUpdate(A,w.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var L=p.updateQueue;L!==null&&C2(p,L,M);break;case 3:var J=p.updateQueue;if(J!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=K(p.child.stateNode);break;case 1:w=p.child.stateNode}C2(p,J,w)}break;case 5:var ce=p.stateNode;w===null&&p.flags&4&&Xe(ce,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(We&&p.memoizedState===null){var Le=p.alternate;if(Le!==null){var Qe=Le.memoizedState;if(Qe!==null){var ht=Qe.dehydrated;ht!==null&&Kl(ht)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}sc||p.flags&512&&Z1(p)}catch(Rt){br(p,p.return,Rt)}}if(p===h){ot=null;break}if(w=p.sibling,w!==null){w.return=p.return,ot=w;break}ot=p.return}}function kC(h){for(;ot!==null;){var p=ot;if(p===h){ot=null;break}var w=p.sibling;if(w!==null){w.return=p.return,ot=w;break}ot=p.return}}function NC(h){for(;ot!==null;){var p=ot;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{uh(4,p)}catch(Le){br(p,w,Le)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var A=p.return;try{M.componentDidMount()}catch(Le){br(p,A,Le)}}var L=p.return;try{Z1(p)}catch(Le){br(p,L,Le)}break;case 5:var J=p.return;try{Z1(p)}catch(Le){br(p,J,Le)}}}catch(Le){br(p,p.return,Le)}if(p===h){ot=null;break}var ce=p.sibling;if(ce!==null){ce.return=p.return,ot=ce;break}ot=p.return}}var wg=0,Sg=1,bg=2,Mg=3,Eg=4;if(typeof Symbol=="function"&&Symbol.for){var dh=Symbol.for;wg=dh("selector.component"),Sg=dh("selector.has_pseudo_class"),bg=dh("selector.role"),Mg=dh("selector.test_id"),Eg=dh("selector.text")}function t_(h){var p=G(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=ue(h),h===null)throw Error(o(362));return h.stateNode.current}function n_(h,p){switch(p.$$typeof){case wg:if(h.type===p.value)return!0;break;case Sg:e:{p=p.value,h=[h,0];for(var w=0;w<h.length;){var M=h[w++],A=h[w++],L=p[A];if(M.tag!==5||!N(M)){for(;L!=null&&n_(M,L);)A++,L=p[A];if(A===p.length){p=!0;break e}else for(M=M.child;M!==null;)h.push(M,A),M=M.sibling}}p=!1}return p;case bg:if(h.tag===5&&re(h.stateNode,p.value))return!0;break;case Eg:if((h.tag===5||h.tag===6)&&(h=V(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case Mg:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function i_(h){switch(h.$$typeof){case wg:return"<"+(P(h.value)||"Unknown")+">";case Sg:return":has("+(i_(h)||"")+")";case bg:return'[role="'+h.value+'"]';case Eg:return'"'+h.value+'"';case Mg:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function OC(h,p){var w=[];h=[h,0];for(var M=0;M<h.length;){var A=h[M++],L=h[M++],J=p[L];if(A.tag!==5||!N(A)){for(;J!=null&&n_(A,J);)L++,J=p[L];if(L===p.length)w.push(A);else for(A=A.child;A!==null;)h.push(A,L),A=A.sibling}}return w}function r_(h,p){if(!ye)throw Error(o(363));h=t_(h),h=OC(h,p),p=[],h=Array.from(h);for(var w=0;w<h.length;){var M=h[w++];if(M.tag===5)N(M)||p.push(M.stateNode);else for(M=M.child;M!==null;)h.push(M),M=M.sibling}return p}var BB=Math.ceil,Tg=a.ReactCurrentDispatcher,s_=a.ReactCurrentOwner,Fn=a.ReactCurrentBatchConfig,Ht=0,Kn=null,$n=null,bi=0,Yr=0,zu=vt(0),ri=0,fh=null,Bu=0,Cg=0,o_=0,hh=null,wr=null,a_=0,l_=1/0;function Vu(){l_=_n()+500}var Ag=!1,c_=null,Ba=null,Pg=!1,Va=null,Rg=0,ph=0,u_=null,Ig=-1,Dg=0;function rr(){return Ht&6?_n():Ig!==-1?Ig:Ig=_n()}function Ha(h){return h.mode&1?Ht&2&&bi!==0?bi&-bi:Jl.transition!==null?(Dg===0&&(h=gn,gn<<=1,!(gn&4194240)&&(gn=64),Dg=h),Dg):(h=jt,h!==0?h:we()):1}function vs(h,p,w){if(50<ph)throw ph=0,u_=null,Error(o(185));var M=Lg(h,p);return M===null?null:(ho(M,p,w),(!(Ht&2)||M!==Kn)&&(M===Kn&&(!(Ht&2)&&(Cg|=p),ri===4&&Ga(M,bi)),Sr(M,w),p===1&&Ht===0&&!(h.mode&1)&&(Vu(),mo&&_r())),M)}function Lg(h,p){h.lanes|=p;var w=h.alternate;for(w!==null&&(w.lanes|=p),w=h,h=h.return;h!==null;)h.childLanes|=p,w=h.alternate,w!==null&&(w.childLanes|=p),w=h,h=h.return;return w.tag===3?w.stateNode:null}function Sr(h,p){var w=h.callbackNode;jf(h,p);var M=$l(h,h===Kn?bi:0);if(M===0)w!==null&&Pu(w),h.callbackNode=null,h.callbackPriority=0;else if(p=M&-M,h.callbackPriority!==p){if(w!=null&&Pu(w),p===1)h.tag===0?Zf(FC.bind(null,h)):$f(FC.bind(null,h)),ae?Ae(function(){Ht===0&&_r()}):Xo(Zl,_r),w=null;else{switch(Xf(M)){case 1:w=Zl;break;case 4:w=$m;break;case 16:w=Ji;break;case 536870912:w=qf;break;default:w=Ji}w=YC(w,UC.bind(null,h))}h.callbackPriority=p,h.callbackNode=w}}function UC(h,p){if(Ig=-1,Dg=0,Ht&6)throw Error(o(327));var w=h.callbackNode;if(cc()&&h.callbackNode!==w)return null;var M=$l(h,h===Kn?bi:0);if(M===0)return null;if(M&30||M&h.expiredLanes||p)p=kg(h,M);else{p=M;var A=Ht;Ht|=2;var L=VC();(Kn!==h||bi!==p)&&(Vu(),ac(h,p));do try{GB();break}catch(ce){BC(h,ce)}while(!0);Iu(),Tg.current=L,Ht=A,$n!==null?p=0:(Kn=null,bi=0,p=ri)}if(p!==0){if(p===2&&(A=jo(h),A!==0&&(M=A,p=d_(h,A))),p===1)throw w=fh,ac(h,0),Ga(h,M),Sr(h,_n()),w;if(p===6)Ga(h,M);else{if(A=h.current.alternate,!(M&30)&&!VB(A)&&(p=kg(h,M),p===2&&(L=jo(h),L!==0&&(M=L,p=d_(h,L))),p===1))throw w=fh,ac(h,0),Ga(h,M),Sr(h,_n()),w;switch(h.finishedWork=A,h.finishedLanes=M,p){case 0:case 1:throw Error(o(345));case 2:lc(h,wr);break;case 3:if(Ga(h,M),(M&130023424)===M&&(p=a_+500-_n(),10<p)){if($l(h,0)!==0)break;if(A=h.suspendedLanes,(A&M)!==M){rr(),h.pingedLanes|=h.suspendedLanes&A;break}h.timeoutHandle=se(lc.bind(null,h,wr),p);break}lc(h,wr);break;case 4:if(Ga(h,M),(M&4194240)===M)break;for(p=h.eventTimes,A=-1;0<M;){var J=31-Wt(M);L=1<<J,J=p[J],J>A&&(A=J),M&=~L}if(M=A,M=_n()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*BB(M/1960))-M,10<M){h.timeoutHandle=se(lc.bind(null,h,wr),M);break}lc(h,wr);break;case 5:lc(h,wr);break;default:throw Error(o(329))}}}return Sr(h,_n()),h.callbackNode===w?UC.bind(null,h):null}function d_(h,p){var w=hh;return h.current.memoizedState.isDehydrated&&(ac(h,p).flags|=256),h=kg(h,p),h!==2&&(p=wr,wr=w,p!==null&&f_(p)),h}function f_(h){wr===null?wr=h:wr.push.apply(wr,h)}function VB(h){for(var p=h;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var M=0;M<w.length;M++){var A=w[M],L=A.getSnapshot;A=A.value;try{if(!Hr(L(),A))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ga(h,p){for(p&=~o_,p&=~Cg,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var w=31-Wt(p),M=1<<w;h[w]=-1,p&=~M}}function FC(h){if(Ht&6)throw Error(o(327));cc();var p=$l(h,0);if(!(p&1))return Sr(h,_n()),null;var w=kg(h,p);if(h.tag!==0&&w===2){var M=jo(h);M!==0&&(p=M,w=d_(h,M))}if(w===1)throw w=fh,ac(h,0),Ga(h,p),Sr(h,_n()),w;if(w===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,lc(h,wr),Sr(h,_n()),null}function zC(h){Va!==null&&Va.tag===0&&!(Ht&6)&&cc();var p=Ht;Ht|=1;var w=Fn.transition,M=jt;try{if(Fn.transition=null,jt=1,h)return h()}finally{jt=M,Fn.transition=w,Ht=p,!(Ht&6)&&_r()}}function h_(){Yr=zu.current,Je(zu)}function ac(h,p){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;if(w!==Ue&&(h.timeoutHandle=Ue,ve(w)),$n!==null)for(w=$n.return;w!==null;){var M=w;switch(R1(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Ct();break;case 3:Uu(),Je(Tt),Je(Lt),U1();break;case 5:N1(M);break;case 4:Uu();break;case 13:Je(wn);break;case 19:Je(wn);break;case 10:di(M.type._context);break;case 22:case 23:h_()}w=w.return}if(Kn=h,$n=h=Wa(h.current,null),bi=Yr=p,ri=0,fh=null,o_=Cg=Bu=0,wr=hh=null,Gr!==null){for(p=0;p<Gr.length;p++)if(w=Gr[p],M=w.interleaved,M!==null){w.interleaved=null;var A=M.next,L=w.pending;if(L!==null){var J=L.next;L.next=A,M.next=J}w.pending=M}Gr=null}return h}function BC(h,p){do{var w=$n;try{if(Iu(),og.current=fg,ag){for(var M=In.memoizedState;M!==null;){var A=M.queue;A!==null&&(A.pending=null),M=M.next}ag=!1}if(Fu=0,fi=ki=In=null,ih=!1,rh=0,s_.current=null,w===null||w.return===null){ri=1,fh=p,$n=null;break}e:{var L=h,J=w.return,ce=w,Le=p;if(p=bi,ce.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var Qe=Le,ht=ce,Rt=ht.tag;if(!(ht.mode&1)&&(Rt===0||Rt===11||Rt===15)){var wt=ht.alternate;wt?(ht.updateQueue=wt.updateQueue,ht.memoizedState=wt.memoizedState,ht.lanes=wt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var ln=aC(J);if(ln!==null){ln.flags&=-257,lC(ln,J,ce,L,p),ln.mode&1&&oC(L,Qe,p),p=ln,Le=Qe;var _t=p.updateQueue;if(_t===null){var Ui=new Set;Ui.add(Le),p.updateQueue=Ui}else _t.add(Le);break e}else{if(!(p&1)){oC(L,Qe,p),p_();break e}Le=Error(o(426))}}else if(vn&&ce.mode&1){var xs=aC(J);if(xs!==null){!(xs.flags&65536)&&(xs.flags|=256),lC(xs,J,ce,L,p),L1(Le);break e}}L=Le,ri!==4&&(ri=2),hh===null?hh=[L]:hh.push(L),Le=W1(Le,ce),ce=J;do{switch(ce.tag){case 3:ce.flags|=65536,p&=-p,ce.lanes|=p;var Me=rC(ce,Le,p);T2(ce,Me);break e;case 1:L=Le;var me=ce.type,Ie=ce.stateNode;if(!(ce.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(Ba===null||!Ba.has(Ie)))){ce.flags|=65536,p&=-p,ce.lanes|=p;var ct=sC(ce,L,p);T2(ce,ct);break e}}ce=ce.return}while(ce!==null)}GC(w)}catch(yt){p=yt,$n===w&&w!==null&&($n=w=w.return);continue}break}while(!0)}function VC(){var h=Tg.current;return Tg.current=fg,h===null?fg:h}function p_(){(ri===0||ri===3||ri===2)&&(ri=4),Kn===null||!(Bu&268435455)&&!(Cg&268435455)||Ga(Kn,bi)}function kg(h,p){var w=Ht;Ht|=2;var M=VC();Kn===h&&bi===p||ac(h,p);do try{HB();break}catch(A){BC(h,A)}while(!0);if(Iu(),Ht=w,Tg.current=M,$n!==null)throw Error(o(261));return Kn=null,bi=0,ri}function HB(){for(;$n!==null;)HC($n)}function GB(){for(;$n!==null&&!Yf();)HC($n)}function HC(h){var p=XC(h.alternate,h,Yr);h.memoizedProps=h.pendingProps,p===null?GC(h):$n=p,s_.current=null}function GC(h){var p=h;do{var w=p.alternate;if(h=p.return,p.flags&32768){if(w=NB(w,p),w!==null){w.flags&=32767,$n=w;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{ri=6,$n=null;return}}else if(w=DB(w,p,Yr),w!==null){$n=w;return}if(p=p.sibling,p!==null){$n=p;return}$n=p=h}while(p!==null);ri===0&&(ri=5)}function lc(h,p){var w=jt,M=Fn.transition;try{Fn.transition=null,jt=1,WB(h,p,w)}finally{Fn.transition=M,jt=w}return null}function WB(h,p,w){do cc();while(Va!==null);if(Ht&6)throw Error(o(327));var M=h.finishedWork,A=h.finishedLanes;if(M===null)return null;if(h.finishedWork=null,h.finishedLanes=0,M===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var L=M.lanes|M.childLanes;if(Oa(h,L),h===Kn&&($n=Kn=null,bi=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Pg||(Pg=!0,YC(Ji,function(){return cc(),null})),L=(M.flags&15990)!==0,M.subtreeFlags&15990||L){L=Fn.transition,Fn.transition=null;var J=jt;jt=1;var ce=Ht;Ht|=4,s_.current=null,UB(h,M),FB(h,M),H(h.containerInfo),h.current=M,zB(M),Km(),Ht=ce,jt=J,Fn.transition=L}else h.current=M;if(Pg&&(Pg=!1,Va=h,Rg=A),L=h.pendingLanes,L===0&&(Ba=null),Kf(M.stateNode),Sr(h,_n()),p!==null)for(w=h.onRecoverableError,M=0;M<p.length;M++)w(p[M]);if(Ag)throw Ag=!1,h=c_,c_=null,h;return Rg&1&&h.tag!==0&&cc(),L=h.pendingLanes,L&1?h===u_?ph++:(ph=0,u_=h):ph=0,_r(),null}function cc(){if(Va!==null){var h=Xf(Rg),p=Fn.transition,w=jt;try{if(Fn.transition=null,jt=16>h?16:h,Va===null)var M=!1;else{if(h=Va,Va=null,Rg=0,Ht&6)throw Error(o(331));var A=Ht;for(Ht|=4,ot=h.current;ot!==null;){var L=ot,J=L.child;if(ot.flags&16){var ce=L.deletions;if(ce!==null){for(var Le=0;Le<ce.length;Le++){var Qe=ce[Le];for(ot=Qe;ot!==null;){var ht=ot;switch(ht.tag){case 0:case 11:case 15:oc(8,ht,L)}var Rt=ht.child;if(Rt!==null)Rt.return=ht,ot=Rt;else for(;ot!==null;){ht=ot;var wt=ht.sibling,ln=ht.return;if(CC(ht),ht===Qe){ot=null;break}if(wt!==null){wt.return=ln,ot=wt;break}ot=ln}}}var _t=L.alternate;if(_t!==null){var Ui=_t.child;if(Ui!==null){_t.child=null;do{var xs=Ui.sibling;Ui.sibling=null,Ui=xs}while(Ui!==null)}}ot=L}}if(L.subtreeFlags&2064&&J!==null)J.return=L,ot=J;else e:for(;ot!==null;){if(L=ot,L.flags&2048)switch(L.tag){case 0:case 11:case 15:oc(9,L,L.return)}var Me=L.sibling;if(Me!==null){Me.return=L.return,ot=Me;break e}ot=L.return}}var me=h.current;for(ot=me;ot!==null;){J=ot;var Ie=J.child;if(J.subtreeFlags&2064&&Ie!==null)Ie.return=J,ot=Ie;else e:for(J=me;ot!==null;){if(ce=ot,ce.flags&2048)try{switch(ce.tag){case 0:case 11:case 15:uh(9,ce)}}catch(yt){br(ce,ce.return,yt)}if(ce===J){ot=null;break e}var ct=ce.sibling;if(ct!==null){ct.return=ce.return,ot=ct;break e}ot=ce.return}}if(Ht=A,_r(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Ql,h)}catch{}M=!0}return M}finally{jt=w,Fn.transition=p}}return!1}function WC(h,p,w){p=W1(w,p),p=rC(h,p,1),za(h,p),p=rr(),h=Lg(h,1),h!==null&&(ho(h,1,p),Sr(h,p))}function br(h,p,w){if(h.tag===3)WC(h,h,w);else for(;p!==null;){if(p.tag===3){WC(p,h,w);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Ba===null||!Ba.has(M))){h=W1(w,h),h=sC(p,h,1),za(p,h),h=rr(),p=Lg(p,1),p!==null&&(ho(p,1,h),Sr(p,h));break}}p=p.return}}function jB(h,p,w){var M=h.pingCache;M!==null&&M.delete(p),p=rr(),h.pingedLanes|=h.suspendedLanes&w,Kn===h&&(bi&w)===w&&(ri===4||ri===3&&(bi&130023424)===bi&&500>_n()-a_?ac(h,0):o_|=w),Sr(h,p)}function jC(h,p){p===0&&(h.mode&1?(p=Br,Br<<=1,!(Br&130023424)&&(Br=4194304)):p=1);var w=rr();h=Lg(h,p),h!==null&&(ho(h,p,w),Sr(h,w))}function XB(h){var p=h.memoizedState,w=0;p!==null&&(w=p.retryLane),jC(h,w)}function YB(h,p){var w=0;switch(h.tag){case 13:var M=h.stateNode,A=h.memoizedState;A!==null&&(w=A.retryLane);break;case 19:M=h.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(p),jC(h,w)}var XC;XC=function(h,p,w){if(h!==null)if(h.memoizedProps!==p.pendingProps||Tt.current)Xr=!0;else{if(!(h.lanes&w)&&!(p.flags&128))return Xr=!1,kB(h,p,w);Xr=!!(h.flags&131072)}else Xr=!1,vn&&p.flags&1048576&&D2(p,ig,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var A=pt(p,Lt.current);On(p,w),A=z1(null,p,M,h,A,w);var L=B1();return p.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,kt(M)?(L=!0,Rn(p)):L=!1,p.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,T1(p),A.updater=tg,p.stateNode=A,A._reactInternals=p,A1(p,M,h,w),p=Y1(null,p,M,!0,L,w)):(p.tag=0,vn&&L&&P1(p),ir(null,p,A,w),p=p.child),p;case 16:M=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,A=M._init,M=A(M._payload),p.type=M,A=p.tag=KB(M),h=tr(M,h),A){case 0:p=X1(null,p,M,h,w);break e;case 1:p=gC(null,p,M,h,w);break e;case 11:p=dC(null,p,M,h,w);break e;case 14:p=fC(null,p,M,tr(M.type,h),w);break e}throw Error(o(306,M,""))}return p;case 0:return M=p.type,A=p.pendingProps,A=p.elementType===M?A:tr(M,A),X1(h,p,M,A,w);case 1:return M=p.type,A=p.pendingProps,A=p.elementType===M?A:tr(M,A),gC(h,p,M,A,w);case 3:e:{if(vC(p),h===null)throw Error(o(387));M=p.pendingProps,L=p.memoizedState,A=L.element,E2(h,p),eg(p,M,null,w);var J=p.memoizedState;if(M=J.element,We&&L.isDehydrated)if(L={element:M,isDehydrated:!1,cache:J.cache,transitions:J.transitions},p.updateQueue.baseState=L,p.memoizedState=L,p.flags&256){A=Error(o(423)),p=yC(h,p,M,w,A);break e}else if(M!==A){A=Error(o(424)),p=yC(h,p,M,w,A);break e}else for(We&&(jr=jn(p.stateNode.containerInfo),Wr=p,vn=!0,Fs=null,Qf=!1),w=F2(p,null,M,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(ku(),M===A){p=Zo(h,p,w);break e}ir(h,p,M,w)}p=p.child}return p;case 5:return z2(p),h===null&&D1(p),M=p.type,A=p.pendingProps,L=h!==null?h.memoizedProps:null,J=A.children,te(M,A)?J=null:L!==null&&te(M,L)&&(p.flags|=32),mC(h,p),ir(h,p,J,w),p.child;case 6:return h===null&&D1(p),null;case 13:return xC(h,p,w);case 4:return k1(p,p.stateNode.containerInfo),M=p.pendingProps,h===null?p.child=Nu(p,null,M,w):ir(h,p,M,w),p.child;case 11:return M=p.type,A=p.pendingProps,A=p.elementType===M?A:tr(M,A),dC(h,p,M,A,w);case 7:return ir(h,p,p.pendingProps,w),p.child;case 8:return ir(h,p,p.pendingProps.children,w),p.child;case 12:return ir(h,p,p.pendingProps.children,w),p.child;case 10:e:{if(M=p.type._context,A=p.pendingProps,L=p.memoizedProps,J=A.value,Qm(p,M,J),L!==null)if(Hr(L.value,J)){if(L.children===A.children&&!Tt.current){p=Zo(h,p,w);break e}}else for(L=p.child,L!==null&&(L.return=p);L!==null;){var ce=L.dependencies;if(ce!==null){J=L.child;for(var Le=ce.firstContext;Le!==null;){if(Le.context===M){if(L.tag===1){Le=Yo(-1,w&-w),Le.tag=2;var Qe=L.updateQueue;if(Qe!==null){Qe=Qe.shared;var ht=Qe.pending;ht===null?Le.next=Le:(Le.next=ht.next,ht.next=Le),Qe.pending=Le}}L.lanes|=w,Le=L.alternate,Le!==null&&(Le.lanes|=w),nr(L.return,w,p),ce.lanes|=w;break}Le=Le.next}}else if(L.tag===10)J=L.type===p.type?null:L.child;else if(L.tag===18){if(J=L.return,J===null)throw Error(o(341));J.lanes|=w,ce=J.alternate,ce!==null&&(ce.lanes|=w),nr(J,w,p),J=L.sibling}else J=L.child;if(J!==null)J.return=L;else for(J=L;J!==null;){if(J===p){J=null;break}if(L=J.sibling,L!==null){L.return=J.return,J=L;break}J=J.return}L=J}ir(h,p,A.children,w),p=p.child}return p;case 9:return A=p.type,M=p.pendingProps.children,On(p,w),A=Un(A),M=M(A),p.flags|=1,ir(h,p,M,w),p.child;case 14:return M=p.type,A=tr(M,p.pendingProps),A=tr(M.type,A),fC(h,p,M,A,w);case 15:return hC(h,p,p.type,p.pendingProps,w);case 17:return M=p.type,A=p.pendingProps,A=p.elementType===M?A:tr(M,A),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,kt(M)?(h=!0,Rn(p)):h=!1,On(p,w),R2(p,M,A),A1(p,M,A,w),Y1(null,p,M,!0,h,w);case 19:return bC(h,p,w);case 22:return pC(h,p,w)}throw Error(o(156,p.tag))};function YC(h,p){return Xo(h,p)}function qB(h,p,w,M){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(h,p,w,M){return new qB(h,p,w,M)}function m_(h){return h=h.prototype,!(!h||!h.isReactComponent)}function KB(h){if(typeof h=="function")return m_(h)?1:0;if(h!=null){if(h=h.$$typeof,h===y)return 11;if(h===_)return 14}return 2}function Wa(h,p){var w=h.alternate;return w===null?(w=ys(h.tag,p,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=p,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&14680064,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,p=h.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w}function Ng(h,p,w,M,A,L){var J=2;if(M=h,typeof h=="function")m_(h)&&(J=1);else if(typeof h=="string")J=5;else e:switch(h){case u:return uc(w.children,A,L,p);case d:J=8,A|=8;break;case f:return h=ys(12,w,p,A|2),h.elementType=f,h.lanes=L,h;case x:return h=ys(13,w,p,A),h.elementType=x,h.lanes=L,h;case g:return h=ys(19,w,p,A),h.elementType=g,h.lanes=L,h;case b:return Og(w,A,L,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:J=10;break e;case v:J=9;break e;case y:J=11;break e;case _:J=14;break e;case S:J=16,M=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=ys(J,w,p,A),p.elementType=h,p.type=M,p.lanes=L,p}function uc(h,p,w,M){return h=ys(7,h,M,p),h.lanes=w,h}function Og(h,p,w,M){return h=ys(22,h,M,p),h.elementType=b,h.lanes=w,h.stateNode={},h}function g_(h,p,w){return h=ys(6,h,null,p),h.lanes=w,h}function v_(h,p,w){return p=ys(4,h.children!==null?h.children:[],h.key,p),p.lanes=w,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function $B(h,p,w,M,A){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ue,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=M,this.onRecoverableError=A,We&&(this.mutableSourceEagerHydrationData=null)}function qC(h,p,w,M,A,L,J,ce,Le){return h=new $B(h,p,w,ce,Le),p===1?(p=1,L===!0&&(p|=8)):p=0,L=ys(3,null,null,p),h.current=L,L.stateNode=h,L.memoizedState={element:M,isDehydrated:w,cache:null,transitions:null},T1(L),h}function KC(h){if(!h)return Dt;h=h._reactInternals;e:{if(I(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(kt(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var w=h.type;if(kt(w))return zr(h,w,p)}return p}function $C(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=U(p),h===null?null:h.stateNode}function ZC(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<p?w:p}}function y_(h,p){ZC(h,p),(h=h.alternate)&&ZC(h,p)}function ZB(h){return h=U(h),h===null?null:h.stateNode}function QB(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=rr();vs(h,134217728,p),y_(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=rr(),w=Ha(h);vs(h,w,p),y_(h,w)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var w=Si(p.pendingLanes);w!==0&&(po(p,w|1),Sr(p,_n()),!(Ht&6)&&(Vu(),_r()))}break;case 13:var M=rr();zC(function(){return vs(h,1,M)}),y_(h,1)}},t.batchedUpdates=function(h,p){var w=Ht;Ht|=1;try{return h(p)}finally{Ht=w,Ht===0&&(Vu(),mo&&_r())}},t.createComponentSelector=function(h){return{$$typeof:wg,value:h}},t.createContainer=function(h,p,w,M,A,L,J){return qC(h,p,!1,null,w,M,A,L,J)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Sg,value:h}},t.createHydrationContainer=function(h,p,w,M,A,L,J,ce,Le){return h=qC(w,M,!0,h,A,L,J,ce,Le),h.context=KC(null),w=h.current,M=rr(),A=Ha(w),L=Yo(M,A),L.callback=p??null,za(w,L),h.current.lanes=A,ho(h,A,M),Sr(h,M),h},t.createPortal=function(h,p,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:h,containerInfo:p,implementation:w}},t.createRoleSelector=function(h){return{$$typeof:bg,value:h}},t.createTestNameSelector=function(h){return{$$typeof:Mg,value:h}},t.createTextSelector=function(h){return{$$typeof:Eg,value:h}},t.deferredUpdates=function(h){var p=jt,w=Fn.transition;try{return Fn.transition=null,jt=16,h()}finally{jt=p,Fn.transition=w}},t.discreteUpdates=function(h,p,w,M,A){var L=jt,J=Fn.transition;try{return Fn.transition=null,jt=1,h(p,w,M,A)}finally{jt=L,Fn.transition=J,Ht===0&&Vu()}},t.findAllNodes=r_,t.findBoundingRects=function(h,p){if(!ye)throw Error(o(363));p=r_(h,p),h=[];for(var w=0;w<p.length;w++)h.push(je(p[w]));for(p=h.length-1;0<p;p--){w=h[p];for(var M=w.x,A=M+w.width,L=w.y,J=L+w.height,ce=p-1;0<=ce;ce--)if(p!==ce){var Le=h[ce],Qe=Le.x,ht=Qe+Le.width,Rt=Le.y,wt=Rt+Le.height;if(M>=Qe&&L>=Rt&&A<=ht&&J<=wt){h.splice(p,1);break}else if(M!==Qe||w.width!==Le.width||wt<L||Rt>J){if(!(L!==Rt||w.height!==Le.height||ht<M||Qe>A)){Qe>M&&(Le.width+=Qe-M,Le.x=M),ht<A&&(Le.width=A-Qe),h.splice(p,1);break}}else{Rt>L&&(Le.height+=Rt-L,Le.y=L),wt<J&&(Le.height=J-Rt),h.splice(p,1);break}}}return h},t.findHostInstance=$C,t.findHostInstanceWithNoPortals=function(h){return h=O(h),h=h!==null?W(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return $C(h)},t.flushControlled=function(h){var p=Ht;Ht|=1;var w=Fn.transition,M=jt;try{Fn.transition=null,jt=1,h()}finally{jt=M,Fn.transition=w,Ht=p,Ht===0&&(Vu(),_r())}},t.flushPassiveEffects=cc,t.flushSync=zC,t.focusWithin=function(h,p){if(!ye)throw Error(o(363));for(h=t_(h),p=OC(h,p),p=Array.from(p),h=0;h<p.length;){var w=p[h++];if(!N(w)){if(w.tag===5&&_e(w.stateNode))return!0;for(w=w.child;w!==null;)p.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return jt},t.getFindAllNodesFailureDescription=function(h,p){if(!ye)throw Error(o(363));var w=0,M=[];h=[t_(h),0];for(var A=0;A<h.length;){var L=h[A++],J=h[A++],ce=p[J];if((L.tag!==5||!N(L))&&(n_(L,ce)&&(M.push(i_(ce)),J++,J>w&&(w=J)),J<p.length))for(L=L.child;L!==null;)h.push(L,J),L=L.sibling}if(w<p.length){for(h=[];w<p.length;w++)h.push(i_(p[w]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return K(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:ZB,findFiberByHostInstance:h.findFiberByHostInstance||QB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Ql=p.inject(h),Vr=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,w,M){if(!ye)throw Error(o(363));h=r_(h,p);var A=ge(h,w,M).disconnect;return{disconnect:function(){A()}}},t.registerMutableSourceForHydration=function(h,p){var w=p._getVersion;w=w(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,w]:h.mutableSourceEagerHydrationData.push(p,w)},t.runWithPriority=function(h,p){var w=jt;try{return jt=h,p()}finally{jt=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,w,M){var A=p.current,L=rr(),J=Ha(A);return w=KC(w),p.context===null?p.context=w:p.pendingContext=w,p=Yo(L,J),p.payload={element:h},M=M===void 0?null:M,M!==null&&(p.callback=M),za(A,p),h=vs(A,J,L),h!==null&&Jm(h,A,J),J},t};X4.exports=bae;var Mae=X4.exports;const Eae=NM(Mae);var Y4={exports:{}},q4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,B){var H=k.length;k.push(B);e:for(;0<H;){var F=H-1>>>1,Y=k[F];if(0<r(Y,B))k[F]=B,k[H]=Y,H=F;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var B=k[0],H=k.pop();if(H!==B){k[0]=H;e:for(var F=0,Y=k.length,ie=Y>>>1;F<ie;){var $=2*(F+1)-1,te=k[$],oe=$+1,se=k[oe];if(0>r(te,H))oe<Y&&0>r(se,te)?(k[F]=se,k[oe]=H,F=oe):(k[F]=te,k[$]=H,F=$);else if(oe<Y&&0>r(se,H))k[F]=se,k[oe]=H,F=oe;else break e}}return B}function r(k,B){var H=k.sortIndex-B.sortIndex;return H!==0?H:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var B=t(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=k)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(c)}}function b(k){if(y=!1,S(k),!v)if(t(l)!==null)v=!0,K(E);else{var B=t(c);B!==null&&ne(b,B.startTime-k)}}function E(k,B){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var H=f;try{for(S(B),d=t(l);d!==null&&(!(d.expirationTime>B)||k&&!O());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var Y=F(d.expirationTime<=B);B=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&i(l),S(B)}else i(l);d=t(l)}if(d!==null)var ie=!0;else{var $=t(c);$!==null&&ne(b,$.startTime-B),ie=!1}return ie}finally{d=null,f=H,m=!1}}var C=!1,P=null,R=-1,I=5,T=-1;function O(){return!(n.unstable_now()-T<I)}function U(){if(P!==null){var k=n.unstable_now();T=k;var B=!0;try{B=P(!0,k)}finally{B?j():(C=!1,P=null)}}else C=!1}var j;if(typeof _=="function")j=function(){_(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=U,j=function(){ee.postMessage(null)}}else j=function(){x(U,0)};function K(k){P=k,C||(C=!0,j())}function ne(k,B){R=x(function(){k(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,K(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return k()}finally{f=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=f;f=k;try{return B()}finally{f=H}},n.unstable_scheduleCallback=function(k,B,H){var F=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,k={id:u++,callback:B,priorityLevel:k,startTime:H,expirationTime:Y,sortIndex:-1},H>F?(k.sortIndex=H,e(c,k),t(l)===null&&k===t(c)&&(y?(g(R),R=-1):y=!0,ne(b,H-F))):(k.sortIndex=Y,e(l,k),v||m||(v=!0,K(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var B=f;return function(){var H=f;f=B;try{return k.apply(this,arguments)}finally{f=H}}}})(q4);Y4.exports=q4;var iD=Y4.exports;const w2={},Tae=n=>void Object.assign(w2,n);function Cae(n,e){function t(u,{args:d=[],attach:f,...m},v){let y=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=fd(g,{type:u,root:v,attach:f,primitive:!0})}else{const g=w2[y];if(!g)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=fd(new g(...d),{type:u,root:v,attach:f,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),y!=="inject"&&bS(x,m),x}function i(u,d){let f=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?SS(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||fd(d,{}),d.__r3f.parent=u,RM(d),hd(d)}}function r(u,d,f){let m=!1;if(d){var v,y;if((v=d.__r3f)!=null&&v.attach)SS(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const x=u.children.filter(_=>_!==d),g=x.indexOf(f);u.children=[...x.slice(0,g),d,...x.slice(g)],m=!0}m||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||fd(d,{}),d.__r3f.parent=u,RM(d),hd(d)}}function s(u,d,f=!1){u&&[...u].forEach(m=>o(d,m,f))}function o(u,d,f){if(d){var m,v,y;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(b=>b!==d)),(v=d.__r3f)!=null&&v.attach)lD(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var x;u.remove(d),(x=d.__r3f)!=null&&x.root&&Nae(Ry(d),d)}const _=(y=d.__r3f)==null?void 0:y.primitive,S=!_&&(f===void 0?d.dispose!==null:f);if(!_){var g;s((g=d.__r3f)==null?void 0:g.objects,d,S),s(d.children,d,S)}if(delete d.__r3f,S&&d.dispose&&d.type!=="Scene"){const b=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?iD.unstable_scheduleCallback(iD.unstable_IdlePriority,b):b()}hd(u)}}function a(u,d,f,m){var v;const y=(v=u.__r3f)==null?void 0:v.parent;if(!y)return;const x=t(d,f,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&i(x,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>i(x,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(y,x),x.raycast&&x.__r3f.eventCount&&Ry(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>{};return{reconciler:Eae({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,i(f,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const m=u.getState().scene;m.__r3f&&r(m,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:x=[],children:g,..._}=m,{args:S=[],children:b,...E}=f;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((P,R)=>P!==S[R]))return[!0];const C=tB(u,_,E,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[d,f],m,v,y,x){d?a(u,m,y,x):bS(u,f)},commitMount(u,d,f,m){var v;const y=(v=u.__r3f)!=null?v:{};u.raycast&&y.handlers&&y.eventCount&&Ry(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>fd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:m}=(d=u.__r3f)!=null?d:{};f&&m&&lD(m,u,f),u.isObject3D&&(u.visible=!1),hd(u)},unhideInstance(u,d){var f;const{attach:m,parent:v}=(f=u.__r3f)!=null?f:{};m&&v&&SS(v,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),hd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Fd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fn.fun(performance.now)?performance.now:fn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:bS}}var rD,sD;const wS=n=>"colorSpace"in n||"outputColorSpace"in n,K4=()=>{var n;return(n=w2.ColorManagement)!=null?n:null},$4=n=>n&&n.isOrthographicCamera,Aae=n=>n&&n.hasOwnProperty("current"),Ym=typeof window<"u"&&((rD=window.document)!=null&&rD.createElement||((sD=window.navigator)==null?void 0:sD.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function Z4(n){const e=z.useRef(n);return Ym(()=>void(e.current=n),[n]),e}function Pae({set:n}){return Ym(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class Q4 extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Q4.getDerivedStateFromError=()=>({error:!0});const J4="__default",oD=new Map,Rae=n=>n&&!!n.memoized&&!!n.changes;function eB(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Fh=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Ry(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const fn={obj:n=>n===Object(n)&&!fn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(fn.str(n)||fn.num(n)||fn.boo(n))return n===e;const s=fn.obj(n);if(s&&i==="reference")return n===e;const o=fn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!fn.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(fn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Iae(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function fd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function PM(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const aD=/-\d+$/;function SS(n,e,t){if(fn.str(t)){if(aD.test(t)){const s=t.replace(aD,""),{target:o,key:a}=PM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=PM(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function lD(n,e,t){var i,r;if(fn.str(t)){const{target:s,key:o}=PM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function tB(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const u=n.__r3f,d=Object.entries(r),f=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)r.hasOwnProperty(v[y])||d.unshift([v[y],J4+"remove"])}d.forEach(([v,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||fn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,y,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),f.push([v,y,!1,g]);for(const _ in r){const S=r[_];_.startsWith(`${v}-`)&&f.push([_,S,!1,_.split("-")])}});const m={...r};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:f}}const Dae=typeof process<"u"&&!1;function bS(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=Rae(e)?e:tB(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[m,v,y,x]=a[f];if(wS(n)){const b="srgb",E="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?b:E):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?b:E)}let g=n,_=g[m];if(x.length&&(_=x.reduce((S,b)=>S[b],n),!(_&&_.set))){const[S,...b]=x.reverse();g=b.reverse().reduce((E,C)=>E[C],n),m=S}if(v===J4+"remove")if(g.constructor){let S=oD.get(g.constructor);S||(S=new g.constructor,oD.set(g.constructor,S)),v=S[m]}else v=0;if(y&&i)v?i.handlers[m]=v:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Jc)){if(Array.isArray(v))_.fromArray?_.fromArray(v):_.set(...v);else if(_.copy&&v&&v.constructor&&(Dae?_.constructor.name===v.constructor.name:_.constructor===v.constructor))_.copy(v);else if(v!==void 0){var c;const S=(c=_)==null?void 0:c.isColor;!S&&_.setScalar?_.setScalar(v):_ instanceof Jc&&v instanceof Jc?_.mask=v.mask:_.set(v),!K4()&&s&&!s.linear&&S&&_.convertSRGBToLinear()}}else{var u;if(g[m]=v,(u=g[m])!=null&&u.isTexture&&g[m].format===Yi&&g[m].type===Ns&&s){const S=g[m];wS(S)&&wS(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}hd(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const f=Ry(n).getState().internal,m=f.interaction.indexOf(n);m>-1&&f.interaction.splice(m,1),i.eventCount&&f.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&RM(n),n}function hd(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function RM(n){n.onUpdate==null||n.onUpdate(n)}function Lae(n,e){n.manual||($4(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function ty(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function kae(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Fd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Fd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Fd.ContinuousEventPriority;default:return Fd.DefaultEventPriority}}function nB(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Nae(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{nB(t.capturedMap,e,i,r)})}function Oae(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=n.getState(),d=new Set,f=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const _=Fh(m[g]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const _=Fh(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let y=m.flatMap(v).sort((g,_)=>{const S=Fh(g.object),b=Fh(_.object);return!S||!b?g.distance-_.distance:b.events.priority-S.events.priority||g.distance-_.distance}).filter(g=>{const _=ty(g);return d.has(_)?!1:(d.add(_),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const g of y){let _=g.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&f.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())d.has(ty(g.intersection))||f.push(g.intersection);return f}function r(l,c,u,d){const f=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=Fh(v.object)||f,{raycaster:x,pointer:g,camera:_,internal:S}=y,b=new q(g.x,g.y,0).unproject(_),E=T=>{var O,U;return(O=(U=S.capturedMap.get(T))==null?void 0:U.has(v.eventObject))!=null?O:!1},C=T=>{const O={intersection:v,target:c.target};S.capturedMap.has(T)?S.capturedMap.get(T).set(v.eventObject,O):S.capturedMap.set(T,new Map([[v.eventObject,O]])),c.target.setPointerCapture(T)},P=T=>{const O=S.capturedMap.get(T);O&&nB(S.capturedMap,v.eventObject,O,T)};let R={};for(let T in c){let O=c[T];typeof O!="function"&&(R[T]=O)}let I={...v,...R,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:b,ray:x.ray,camera:_,stopPropagation(){const T="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!T||T.has(v.eventObject))&&(I.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:P},nativeEvent:c};if(d(I),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,m=f==null?void 0:f.handlers;if(c.hovered.delete(ty(u)),f!=null&&f.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:f}=n.getState();f.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(u,m?t:void 0),g=v?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&g<=2&&(o(u,f.interaction),d&&d(u)),m&&s(x);function _(S){const b=S.eventObject,E=b.__r3f,C=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=ty(S),R=f.hovered.get(P);R?R.stopped&&S.stopPropagation():(f.hovered.set(P,S),C.onPointerOver==null||C.onPointerOver(S),C.onPointerEnter==null||C.onPointerEnter(S))}C.onPointerMove==null||C.onPointerMove(S)}else{const P=C[l];P?(!v||f.initialHits.includes(b))&&(o(u,f.interaction.filter(R=>!f.initialHits.includes(R))),P(S)):v&&f.initialHits.includes(b)&&o(u,f.interaction.filter(R=>!f.initialHits.includes(R)))}}r(x,u,g,_)}}return{handlePointer:a}}const iB=n=>!!(n!=null&&n.render),rB=z.createContext(null),Uae=(n,e)=>{const t=gae((a,l)=>{const c=new q,u=new q,d=new q;function f(g=l().camera,_=u,S=l().size){const{width:b,height:E,top:C,left:P}=S,R=b/E;_.isVector3?d.copy(_):d.set(..._);const I=g.getWorldPosition(c).distanceTo(d);if($4(g))return{width:b/g.zoom,height:E/g.zoom,top:C,left:P,factor:1,distance:I,aspect:R};{const T=g.fov*Math.PI/180,O=2*Math.tan(T/2)*I,U=O*(b/E);return{width:U,height:O,top:C,left:P,factor:b/U,distance:I,aspect:R}}}let m;const v=g=>a(_=>({performance:{..._.performance,current:g}})),y=new Fe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new m2,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,S,b,E)=>{const C=l().camera,P={width:g,height:_,top:b||0,left:E||0,updateStyle:S};a(R=>({size:P,viewport:{...R.viewport,...f(C,u,P)}}))},setDpr:g=>a(_=>{const S=eB(g);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,S)=>{const b=l().internal;return b.priority=b.priority+(_>0?1:0),b.subscribers.push({ref:g,priority:_,store:S}),b.subscribers=b.subscribers.sort((E,C)=>E.priority-C.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(C=>C.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var f;r=l,s=c.dpr,Lae(a,l),u.setPixelRatio(c.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let ny,Fae=new Set,zae=new Set,Bae=new Set;function MS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function zh(n,e){switch(n){case"before":return MS(Fae,e);case"after":return MS(zae,e);case"tail":return MS(Bae,e)}}let ES,TS;function CS(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ES=e.internal.subscribers,ny=0;ny<ES.length;ny++)TS=ES[ny],TS.ref.current(TS.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Vae(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,zh("before",c),t=!0;for(const d of n.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(i+=CS(c,s))}if(t=!1,zh("after",c),i===0)return zh("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,u=1){var d;if(!c)return n.forEach(f=>a(f.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,d,f){if(u&&zh("before",c),d)CS(c,d,f);else for(const m of n.values())CS(c,m.store.getState());u&&zh("after",c)}return{loop:o,invalidate:a,advance:l}}function sB(){const n=z.useContext(rB);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function oa(n=t=>t,e){return sB()(n,e)}function S2(n,e=0){const t=sB(),i=t.getState().internal.subscribe,r=Z4(n);return Ym(()=>i(r,e,t),[e,i,t]),null}const Tf=new Map,{invalidate:cD,advance:uD}=Vae(Tf),{reconciler:cx,applyProps:cd}=Cae(Tf,kae),ud={objects:"shallow",strict:!1},Hae=(n,e)=>{const t=typeof n=="function"?n(e):n;return iB(t)?t:new W4({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Gae(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Wae(n){const e=Tf.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Uae(cD,uD),o=t||cx.createContainer(s,Fd.ConcurrentRoot,null,!1,null,"",r,null);e||Tf.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:m,events:v,onCreated:y,shadows:x=!1,linear:g=!1,flat:_=!1,legacy:S=!1,orthographic:b=!1,frameloop:E="always",dpr:C=[1,2],performance:P,raycaster:R,camera:I,onPointerMissed:T}=u,O=s.getState(),U=O.gl;O.gl||O.set({gl:U=Hae(d,n)});let j=O.raycaster;j||O.set({raycaster:j=new O4});const{params:W,...ee}=R||{};if(fn.equ(ee,j,ud)||cd(j,{...ee}),fn.equ(W,j.params,ud)||cd(j,{params:{...j.params,...W}}),!O.camera||O.camera===c&&!fn.equ(c,I,ud)){c=I;const H=I instanceof zm,F=H?I:b?new Pl(0,0,0,0,.1,1e3):new Hn(75,0,.1,1e3);H||(F.position.z=5,I&&(cd(F,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(F.manual=!0,F.updateProjectionMatrix())),!O.camera&&!(I!=null&&I.rotation)&&F.lookAt(0,0,0)),O.set({camera:F}),j.camera=F}if(!O.scene){let H;m!=null&&m.isScene?H=m:(H=new $T,m&&cd(H,m)),O.set({scene:fd(H)})}if(!O.xr){var K;const H=(ie,$)=>{const te=s.getState();te.frameloop!=="never"&&uD(ie,!0,te,$)},F=()=>{const ie=s.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?H:null),ie.gl.xr.isPresenting||cD(ie)},Y={connect(){const ie=s.getState().gl;ie.xr.addEventListener("sessionstart",F),ie.xr.addEventListener("sessionend",F)},disconnect(){const ie=s.getState().gl;ie.xr.removeEventListener("sessionstart",F),ie.xr.removeEventListener("sessionend",F)}};typeof((K=U.xr)==null?void 0:K.addEventListener)=="function"&&Y.connect(),O.set({xr:Y})}if(U.shadowMap){const H=U.shadowMap.enabled,F=U.shadowMap.type;if(U.shadowMap.enabled=!!x,fn.boo(x))U.shadowMap.type=hp;else if(fn.str(x)){var ne;const Y={basic:qF,percentage:jx,soft:hp,variance:Xs};U.shadowMap.type=(ne=Y[x])!=null?ne:hp}else fn.obj(x)&&Object.assign(U.shadowMap,x);(H!==U.shadowMap.enabled||F!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const k=K4();k&&("enabled"in k?k.enabled=!S:"legacyMode"in k&&(k.legacyMode=S)),l||cd(U,{outputEncoding:g?3e3:3001,toneMapping:_?ko:LT}),O.legacy!==S&&O.set(()=>({legacy:S})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==_&&O.set(()=>({flat:_})),d&&!fn.fun(d)&&!iB(d)&&!fn.equ(d,U,ud)&&cd(U,d),v&&!O.events.handlers&&O.set({events:v(s)});const B=Gae(n,f);return fn.equ(B,O.size,ud)||O.setSize(B.width,B.height,B.updateStyle,B.top,B.left),C&&O.viewport.dpr!==eB(C)&&O.setDpr(C),O.frameloop!==E&&O.setFrameloop(E),O.onPointerMissed||O.set({onPointerMissed:T}),P&&!fn.equ(P,O.performance,ud)&&O.set(H=>({performance:{...H.performance,...P}})),a=y,l=!0,this},render(u){return l||this.configure(),cx.updateContainer(D.jsx(jae,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){oB(n)}}}function jae({store:n,children:e,onCreated:t,rootElement:i}){return Ym(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),D.jsx(rB.Provider,{value:n,children:e})}function oB(n,e){const t=Tf.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),cx.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Iae(r),Tf.delete(n)}catch{}},500)})}}cx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});const AS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xae(n){const{handlePointer:e}=Oae(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(AS).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=AS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=AS[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function dD(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Yae({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,u=z.useRef(!1);z.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,f,m]=z.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:_,top:S,width:b,height:E,bottom:C,right:P,x:R,y:I}=a.current.element.getBoundingClientRect(),T={left:_,top:S,width:b,height:E,bottom:C,right:P,x:R,y:I};a.current.element instanceof HTMLElement&&i&&(T.height=a.current.element.offsetHeight,T.width=a.current.element.offsetWidth),Object.freeze(T),u.current&&!Zae(a.current.lastBounds,T)&&o(a.current.lastBounds=T)};return[g,c?dD(g,c):g,l?dD(g,l):g]},[o,i,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=aB(g),y())};return Kae(m,!!e),qae(f),z.useEffect(()=>{v(),y()},[e,m,f]),z.useEffect(()=>v,[]),[x,s,d]}function qae(n){z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Kae(n,e){z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function aB(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...aB(n.parentElement)]}const $ae=["x","y","top","bottom","left","right","width","height"],Zae=(n,e)=>$ae.every(t=>n[t]===e[t]);var Qae=Object.defineProperty,Jae=Object.defineProperties,ele=Object.getOwnPropertyDescriptors,fD=Object.getOwnPropertySymbols,tle=Object.prototype.hasOwnProperty,nle=Object.prototype.propertyIsEnumerable,hD=(n,e,t)=>e in n?Qae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pD=(n,e)=>{for(var t in e||(e={}))tle.call(e,t)&&hD(n,t,e[t]);if(fD)for(var t of fD(e))nle.call(e,t)&&hD(n,t,e[t]);return n},ile=(n,e)=>Jae(n,ele(e)),mD,gD;typeof window<"u"&&((mD=window.document)!=null&&mD.createElement||((gD=window.navigator)==null?void 0:gD.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function lB(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=lB(i,e,t);if(r)return r;i=i.sibling}}function cB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const vD=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=vD;return}return vD.apply(this,arguments)};const b2=cB(z.createContext(null));class uB extends z.Component{render(){return z.createElement(b2.Provider,{value:this._reactInternals},this.props.children)}}function rle(){const n=z.useContext(b2);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=lB(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function sle(){const n=rle(),[e]=z.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==b2&&!e.has(r)&&e.set(r,z.useContext(cB(r)))}t=t.return}return e}function ole(){const n=sle();return z.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>z.createElement(e,null,z.createElement(t.Provider,ile(pD({},i),{value:n.get(t)}))),e=>z.createElement(uB,pD({},e))),[n])}const ale=z.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=Xae,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:g,camera:_,scene:S,onPointerMissed:b,onCreated:E,...C},P){z.useMemo(()=>Tae(hae),[]);const R=ole(),[I,T]=Yae({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=z.useRef(null),U=z.useRef(null);z.useImperativeHandle(P,()=>O.current);const j=Z4(b),[W,ee]=z.useState(!1),[K,ne]=z.useState(!1);if(W)throw W;if(K)throw K;const k=z.useRef(null);Ym(()=>{const H=O.current;T.width>0&&T.height>0&&H&&(k.current||(k.current=Wae(H)),k.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:g,camera:_,scene:S,size:T,onPointerMissed:(...F)=>j.current==null?void 0:j.current(...F),onCreated:F=>{F.events.connect==null||F.events.connect(a?Aae(a)?a.current:a:U.current),l&&F.setEvents({compute:(Y,ie)=>{const $=Y[l+"X"],te=Y[l+"Y"];ie.pointer.set($/ie.size.width*2-1,-(te/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),E==null||E(F)}}),k.current.render(D.jsx(R,{children:D.jsx(Q4,{set:ne,children:D.jsx(z.Suspense,{fallback:D.jsx(Pae,{set:ee}),children:e??null})})})))}),z.useEffect(()=>{const H=O.current;if(H)return()=>oB(H)},[]);const B=a?"none":"auto";return D.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...r},...C,children:D.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:D.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}),lle=z.forwardRef(function(e,t){return D.jsx(uB,{children:D.jsx(ale,{...e,ref:t})})});function ux(){return ux=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ux.apply(null,arguments)}var cle=Object.defineProperty,ule=(n,e,t)=>e in n?cle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dle=(n,e,t)=>(ule(n,e+"",t),t);class fle{constructor(){dle(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var hle=Object.defineProperty,ple=(n,e,t)=>e in n?hle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,St=(n,e,t)=>(ple(n,typeof e!="symbol"?e+"":e,t),t);const iy=new wu,yD=new ca,mle=Math.cos(70*(Math.PI/180)),xD=(n,e)=>(n%e+e)%e;let gle=class extends fle{constructor(e,t){super(),St(this,"object"),St(this,"domElement"),St(this,"enabled",!0),St(this,"target",new q),St(this,"minDistance",0),St(this,"maxDistance",1/0),St(this,"minZoom",0),St(this,"maxZoom",1/0),St(this,"minPolarAngle",0),St(this,"maxPolarAngle",Math.PI),St(this,"minAzimuthAngle",-1/0),St(this,"maxAzimuthAngle",1/0),St(this,"enableDamping",!1),St(this,"dampingFactor",.05),St(this,"enableZoom",!0),St(this,"zoomSpeed",1),St(this,"enableRotate",!0),St(this,"rotateSpeed",1),St(this,"enablePan",!0),St(this,"panSpeed",1),St(this,"screenSpacePanning",!0),St(this,"keyPanSpeed",7),St(this,"zoomToCursor",!1),St(this,"autoRotate",!1),St(this,"autoRotateSpeed",2),St(this,"reverseOrbit",!1),St(this,"reverseHorizontalOrbit",!1),St(this,"reverseVerticalOrbit",!1),St(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),St(this,"mouseButtons",{LEFT:Rc.ROTATE,MIDDLE:Rc.DOLLY,RIGHT:Rc.PAN}),St(this,"touches",{ONE:Ic.ROTATE,TWO:Ic.DOLLY_PAN}),St(this,"target0"),St(this,"position0"),St(this,"zoom0"),St(this,"_domElementKeyEvents",null),St(this,"getPolarAngle"),St(this,"getAzimuthalAngle"),St(this,"setPolarAngle"),St(this,"setAzimuthalAngle"),St(this,"getDistance"),St(this,"getZoomScale"),St(this,"listenToKeyEvents"),St(this,"stopListenToKeyEvents"),St(this,"saveState"),St(this,"reset"),St(this,"update"),St(this,"connect"),St(this,"dispose"),St(this,"dollyIn"),St(this,"dollyOut"),St(this,"getScale"),St(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let de=xD(Q,2*Math.PI),Ee=u.phi;Ee<0&&(Ee+=2*Math.PI),de<0&&(de+=2*Math.PI);let Z=Math.abs(de-Ee);2*Math.PI-Z<Z&&(de<Ee?de+=2*Math.PI:Ee+=2*Math.PI),d.phi=de-Ee,i.update()},this.setAzimuthalAngle=Q=>{let de=xD(Q,2*Math.PI),Ee=u.theta;Ee<0&&(Ee+=2*Math.PI),de<0&&(de+=2*Math.PI);let Z=Math.abs(de-Ee);2*Math.PI-Z<Z&&(de<Ee?de+=2*Math.PI:Ee+=2*Math.PI),d.theta=de-Ee,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",fe),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",fe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Q=new q,de=new q(0,1,0),Ee=new $i().setFromUnitVectors(e.up,de),Z=Ee.clone().invert(),xe=new q,Te=new $i,$e=2*Math.PI;return function(){const Se=i.object.position;Ee.setFromUnitVectors(e.up,de),Z.copy(Ee).invert(),Q.copy(Se).sub(i.target),Q.applyQuaternion(Ee),u.setFromVector3(Q),i.autoRotate&&l===a.NONE&&W(U()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let Ke=i.minAzimuthAngle,nt=i.maxAzimuthAngle;isFinite(Ke)&&isFinite(nt)&&(Ke<-Math.PI?Ke+=$e:Ke>Math.PI&&(Ke-=$e),nt<-Math.PI?nt+=$e:nt>Math.PI&&(nt-=$e),Ke<=nt?u.theta=Math.max(Ke,Math.min(nt,u.theta)):u.theta=u.theta>(Ke+nt)/2?Math.max(Ke,u.theta):Math.min(nt,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&I||i.object.isOrthographicCamera?u.radius=ie(u.radius):u.radius=ie(u.radius*f),Q.setFromSpherical(u),Q.applyQuaternion(Z),Se.copy(i.target).add(Q),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let rt=!1;if(i.zoomToCursor&&I){let gt=null;if(i.object instanceof Hn&&i.object.isPerspectiveCamera){const Yt=Q.length();gt=ie(Yt*f);const Zt=Yt-gt;i.object.position.addScaledVector(P,Zt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Yt=new q(R.x,R.y,0);Yt.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/f)),i.object.updateProjectionMatrix(),rt=!0;const Zt=new q(R.x,R.y,0);Zt.unproject(i.object),i.object.position.sub(Zt).add(Yt),i.object.updateMatrixWorld(),gt=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;gt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(gt).add(i.object.position):(iy.origin.copy(i.object.position),iy.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(iy.direction))<mle?e.lookAt(i.target):(yD.setFromNormalAndCoplanarPoint(i.object.up,i.target),iy.intersectPlane(yD,i.target))))}else i.object instanceof Pl&&i.object.isOrthographicCamera&&(rt=f!==1,rt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/f)),i.object.updateProjectionMatrix()));return f=1,I=!1,rt||xe.distanceToSquared(i.object.position)>c||8*(1-Te.dot(i.object.quaternion))>c?(i.dispatchEvent(r),xe.copy(i.object.position),Te.copy(i.object.quaternion),rt=!1,!0):!1}})(),this.connect=Q=>{i.domElement=Q,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Xe),i.domElement.addEventListener("pointerdown",je),i.domElement.addEventListener("pointercancel",N),i.domElement.addEventListener("wheel",ge)},this.dispose=()=>{var Q,de,Ee,Z,xe,Te;i.domElement&&(i.domElement.style.touchAction="auto"),(Q=i.domElement)==null||Q.removeEventListener("contextmenu",Xe),(de=i.domElement)==null||de.removeEventListener("pointerdown",je),(Ee=i.domElement)==null||Ee.removeEventListener("pointercancel",N),(Z=i.domElement)==null||Z.removeEventListener("wheel",ge),(xe=i.domElement)==null||xe.ownerDocument.removeEventListener("pointermove",V),(Te=i.domElement)==null||Te.ownerDocument.removeEventListener("pointerup",N),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",fe)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new EM,d=new EM;let f=1;const m=new q,v=new Fe,y=new Fe,x=new Fe,g=new Fe,_=new Fe,S=new Fe,b=new Fe,E=new Fe,C=new Fe,P=new q,R=new Fe;let I=!1;const T=[],O={};function U(){return 2*Math.PI/60/60*i.autoRotateSpeed}function j(){return Math.pow(.95,i.zoomSpeed)}function W(Q){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=Q:d.theta-=Q}function ee(Q){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=Q:d.phi-=Q}const K=(()=>{const Q=new q;return function(Ee,Z){Q.setFromMatrixColumn(Z,0),Q.multiplyScalar(-Ee),m.add(Q)}})(),ne=(()=>{const Q=new q;return function(Ee,Z){i.screenSpacePanning===!0?Q.setFromMatrixColumn(Z,1):(Q.setFromMatrixColumn(Z,0),Q.crossVectors(i.object.up,Q)),Q.multiplyScalar(Ee),m.add(Q)}})(),k=(()=>{const Q=new q;return function(Ee,Z){const xe=i.domElement;if(xe&&i.object instanceof Hn&&i.object.isPerspectiveCamera){const Te=i.object.position;Q.copy(Te).sub(i.target);let $e=Q.length();$e*=Math.tan(i.object.fov/2*Math.PI/180),K(2*Ee*$e/xe.clientHeight,i.object.matrix),ne(2*Z*$e/xe.clientHeight,i.object.matrix)}else xe&&i.object instanceof Pl&&i.object.isOrthographicCamera?(K(Ee*(i.object.right-i.object.left)/i.object.zoom/xe.clientWidth,i.object.matrix),ne(Z*(i.object.top-i.object.bottom)/i.object.zoom/xe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function B(Q){i.object instanceof Hn&&i.object.isPerspectiveCamera||i.object instanceof Pl&&i.object.isOrthographicCamera?f=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function H(Q){B(f/Q)}function F(Q){B(f*Q)}function Y(Q){if(!i.zoomToCursor||!i.domElement)return;I=!0;const de=i.domElement.getBoundingClientRect(),Ee=Q.clientX-de.left,Z=Q.clientY-de.top,xe=de.width,Te=de.height;R.x=Ee/xe*2-1,R.y=-(Z/Te)*2+1,P.set(R.x,R.y,1).unproject(i.object).sub(i.object.position).normalize()}function ie(Q){return Math.max(i.minDistance,Math.min(i.maxDistance,Q))}function $(Q){v.set(Q.clientX,Q.clientY)}function te(Q){Y(Q),b.set(Q.clientX,Q.clientY)}function oe(Q){g.set(Q.clientX,Q.clientY)}function se(Q){y.set(Q.clientX,Q.clientY),x.subVectors(y,v).multiplyScalar(i.rotateSpeed);const de=i.domElement;de&&(W(2*Math.PI*x.x/de.clientHeight),ee(2*Math.PI*x.y/de.clientHeight)),v.copy(y),i.update()}function ve(Q){E.set(Q.clientX,Q.clientY),C.subVectors(E,b),C.y>0?H(j()):C.y<0&&F(j()),b.copy(E),i.update()}function Ue(Q){_.set(Q.clientX,Q.clientY),S.subVectors(_,g).multiplyScalar(i.panSpeed),k(S.x,S.y),g.copy(_),i.update()}function Ne(Q){Y(Q),Q.deltaY<0?F(j()):Q.deltaY>0&&H(j()),i.update()}function Oe(Q){let de=!1;switch(Q.code){case i.keys.UP:k(0,i.keyPanSpeed),de=!0;break;case i.keys.BOTTOM:k(0,-i.keyPanSpeed),de=!0;break;case i.keys.LEFT:k(i.keyPanSpeed,0),de=!0;break;case i.keys.RIGHT:k(-i.keyPanSpeed,0),de=!0;break}de&&(Q.preventDefault(),i.update())}function Pe(){if(T.length==1)v.set(T[0].pageX,T[0].pageY);else{const Q=.5*(T[0].pageX+T[1].pageX),de=.5*(T[0].pageY+T[1].pageY);v.set(Q,de)}}function We(){if(T.length==1)g.set(T[0].pageX,T[0].pageY);else{const Q=.5*(T[0].pageX+T[1].pageX),de=.5*(T[0].pageY+T[1].pageY);g.set(Q,de)}}function G(){const Q=T[0].pageX-T[1].pageX,de=T[0].pageY-T[1].pageY,Ee=Math.sqrt(Q*Q+de*de);b.set(0,Ee)}function Re(){i.enableZoom&&G(),i.enablePan&&We()}function we(){i.enableZoom&&G(),i.enableRotate&&Pe()}function De(Q){if(T.length==1)y.set(Q.pageX,Q.pageY);else{const Ee=He(Q),Z=.5*(Q.pageX+Ee.x),xe=.5*(Q.pageY+Ee.y);y.set(Z,xe)}x.subVectors(y,v).multiplyScalar(i.rotateSpeed);const de=i.domElement;de&&(W(2*Math.PI*x.x/de.clientHeight),ee(2*Math.PI*x.y/de.clientHeight)),v.copy(y)}function ae(Q){if(T.length==1)_.set(Q.pageX,Q.pageY);else{const de=He(Q),Ee=.5*(Q.pageX+de.x),Z=.5*(Q.pageY+de.y);_.set(Ee,Z)}S.subVectors(_,g).multiplyScalar(i.panSpeed),k(S.x,S.y),g.copy(_)}function Ae(Q){const de=He(Q),Ee=Q.pageX-de.x,Z=Q.pageY-de.y,xe=Math.sqrt(Ee*Ee+Z*Z);E.set(0,xe),C.set(0,Math.pow(E.y/b.y,i.zoomSpeed)),H(C.y),b.copy(E)}function ye(Q){i.enableZoom&&Ae(Q),i.enablePan&&ae(Q)}function ue(Q){i.enableZoom&&Ae(Q),i.enableRotate&&De(Q)}function je(Q){var de,Ee;i.enabled!==!1&&(T.length===0&&((de=i.domElement)==null||de.ownerDocument.addEventListener("pointermove",V),(Ee=i.domElement)==null||Ee.ownerDocument.addEventListener("pointerup",N)),Ye(Q),Q.pointerType==="touch"?ze(Q):re(Q))}function V(Q){i.enabled!==!1&&(Q.pointerType==="touch"?Be(Q):_e(Q))}function N(Q){var de,Ee,Z;be(Q),T.length===0&&((de=i.domElement)==null||de.releasePointerCapture(Q.pointerId),(Ee=i.domElement)==null||Ee.ownerDocument.removeEventListener("pointermove",V),(Z=i.domElement)==null||Z.ownerDocument.removeEventListener("pointerup",N)),i.dispatchEvent(o),l=a.NONE}function re(Q){let de;switch(Q.button){case 0:de=i.mouseButtons.LEFT;break;case 1:de=i.mouseButtons.MIDDLE;break;case 2:de=i.mouseButtons.RIGHT;break;default:de=-1}switch(de){case Rc.DOLLY:if(i.enableZoom===!1)return;te(Q),l=a.DOLLY;break;case Rc.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enablePan===!1)return;oe(Q),l=a.PAN}else{if(i.enableRotate===!1)return;$(Q),l=a.ROTATE}break;case Rc.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enableRotate===!1)return;$(Q),l=a.ROTATE}else{if(i.enablePan===!1)return;oe(Q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function _e(Q){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;se(Q);break;case a.DOLLY:if(i.enableZoom===!1)return;ve(Q);break;case a.PAN:if(i.enablePan===!1)return;Ue(Q);break}}function ge(Q){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Q.preventDefault(),i.dispatchEvent(s),Ne(Q),i.dispatchEvent(o))}function fe(Q){i.enabled===!1||i.enablePan===!1||Oe(Q)}function ze(Q){switch(Ve(Q),T.length){case 1:switch(i.touches.ONE){case Ic.ROTATE:if(i.enableRotate===!1)return;Pe(),l=a.TOUCH_ROTATE;break;case Ic.PAN:if(i.enablePan===!1)return;We(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ic.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Re(),l=a.TOUCH_DOLLY_PAN;break;case Ic.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;we(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Be(Q){switch(Ve(Q),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;De(Q),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ae(Q),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ye(Q),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ue(Q),i.update();break;default:l=a.NONE}}function Xe(Q){i.enabled!==!1&&Q.preventDefault()}function Ye(Q){T.push(Q)}function be(Q){delete O[Q.pointerId];for(let de=0;de<T.length;de++)if(T[de].pointerId==Q.pointerId){T.splice(de,1);return}}function Ve(Q){let de=O[Q.pointerId];de===void 0&&(de=new Fe,O[Q.pointerId]=de),de.set(Q.pageX,Q.pageY)}function He(Q){const de=Q.pointerId===T[0].pointerId?T[1]:T[0];return O[de.pointerId]}this.dollyIn=(Q=j())=>{F(Q),i.update()},this.dollyOut=(Q=j())=>{H(Q),i.update()},this.getScale=()=>f,this.setScale=Q=>{B(Q),i.update()},this.getZoomScale=()=>j(),t!==void 0&&this.connect(t),this.update()}};function vle(){var n=Object.create(null);function e(r,s){var o=r.id,a=r.name,l=r.dependencies;l===void 0&&(l=[]);var c=r.init;c===void 0&&(c=function(){});var u=r.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(f){return f&&f.isWorkerModule&&(e(f,function(m){if(m instanceof Error)throw m}),f=n[f.id].value),f}),c=i("<"+a+">.init",c),u&&(u=i("<"+a+">.getTransferables",u));var d=null;typeof c=="function"?d=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:d,getTransferables:u},s(d)}catch(f){f&&f.noLog||console.error(f),s(f)}}function t(r,s){var o,a=r.id,l=r.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(d){return s(d instanceof Error?d:new Error(""+d))}):u(c)}catch(d){s(d)}function u(d){try{var f=n[a].getTransferables&&n[a].getTransferables(d);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),s(d,f)}catch(m){console.error(m),s(m)}}}function i(r,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(r){var s=r.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function yle(n){var e=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,i=n.init;t=Array.isArray(t)?t.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var r=Promise.all(t).then(function(s){return i.apply(null,s)});return e._getInitResult=function(){return r},r},e}var dB=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return dB=function(){return n},n},xle=0,_le=0,PS=!1,bp=Object.create(null),Mp=Object.create(null),IM=Object.create(null);function Hf(n){if((!n||typeof n.init!="function")&&!PS)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,i=n.getTransferables,r=n.workerId,s=yle(n);r==null&&(r="#default");var o="workerModule"+ ++xle,a=n.name||o,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(PS=!0,u=Hf({workerId:r,name:"<"+a+"> function dependency: "+u.name,init:`function(){return (
`+Iy(u)+`
)}`}),PS=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function c(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(!dB())return s.apply(void 0,u);if(!l){l=_D(r,"registerModule",c.workerModuleData);var f=function(){l=null,Mp[r].delete(f)};(Mp[r]||(Mp[r]=new Set)).add(f)}return l.then(function(m){var v=m.isCallable;if(v)return _D(r,"callModule",{id:o,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:o,name:a,dependencies:e,init:Iy(t),getTransferables:i&&Iy(i)},c.onMainThread=s,c}function wle(n){Mp[n]&&Mp[n].forEach(function(e){e()}),bp[n]&&(bp[n].terminate(),delete bp[n])}function Iy(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Sle(n){var e=bp[n];if(!e){var t=Iy(vle);e=bp[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,s=r.messageId,o=IM[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete IM[s],o(r)}}return e}function _D(n,e,t){return new Promise(function(i,r){var s=++_le;IM[s]=function(o){o.success?i(o.result):r(new Error("Error in worker "+e+" call: "+o.error))},Sle(n).postMessage({messageId:s,action:e,data:t})})}function fB(){var n=function(e){function t(B,H,F,Y,ie,$,te,oe){var se=1-te;oe.x=se*se*B+2*se*te*F+te*te*ie,oe.y=se*se*H+2*se*te*Y+te*te*$}function i(B,H,F,Y,ie,$,te,oe,se,ve){var Ue=1-se;ve.x=Ue*Ue*Ue*B+3*Ue*Ue*se*F+3*Ue*se*se*ie+se*se*se*te,ve.y=Ue*Ue*Ue*H+3*Ue*Ue*se*Y+3*Ue*se*se*$+se*se*se*oe}function r(B,H){for(var F=/([MLQCZ])([^MLQCZ]*)/g,Y,ie,$,te,oe;Y=F.exec(B);){var se=Y[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ve){return parseFloat(ve)});switch(Y[1]){case"M":te=ie=se[0],oe=$=se[1];break;case"L":(se[0]!==te||se[1]!==oe)&&H("L",te,oe,te=se[0],oe=se[1]);break;case"Q":{H("Q",te,oe,te=se[2],oe=se[3],se[0],se[1]);break}case"C":{H("C",te,oe,te=se[4],oe=se[5],se[0],se[1],se[2],se[3]);break}case"Z":(te!==ie||oe!==$)&&H("L",te,oe,ie,$);break}}}function s(B,H,F){F===void 0&&(F=16);var Y={x:0,y:0};r(B,function(ie,$,te,oe,se,ve,Ue,Ne,Oe){switch(ie){case"L":H($,te,oe,se);break;case"Q":{for(var Pe=$,We=te,G=1;G<F;G++)t($,te,ve,Ue,oe,se,G/(F-1),Y),H(Pe,We,Y.x,Y.y),Pe=Y.x,We=Y.y;break}case"C":{for(var Re=$,we=te,De=1;De<F;De++)i($,te,ve,Ue,Ne,Oe,oe,se,De/(F-1),Y),H(Re,we,Y.x,Y.y),Re=Y.x,we=Y.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(B,H){var F=B.getContext?B.getContext("webgl",c):B,Y=l.get(F);if(!Y){let Re=function(ue){var je=$[ue];if(!je&&(je=$[ue]=F.getExtension(ue),!je))throw new Error(ue+" not supported");return je},we=function(ue,je){var V=F.createShader(je);return F.shaderSource(V,ue),F.compileShader(V),V},De=function(ue,je,V,N){if(!te[ue]){var re={},_e={},ge=F.createProgram();F.attachShader(ge,we(je,F.VERTEX_SHADER)),F.attachShader(ge,we(V,F.FRAGMENT_SHADER)),F.linkProgram(ge),te[ue]={program:ge,transaction:function(ze){F.useProgram(ge),ze({setUniform:function(Xe,Ye){for(var be=[],Ve=arguments.length-2;Ve-- >0;)be[Ve]=arguments[Ve+2];var He=_e[Ye]||(_e[Ye]=F.getUniformLocation(ge,Ye));F["uniform"+Xe].apply(F,[He].concat(be))},setAttribute:function(Xe,Ye,be,Ve,He){var Q=re[Xe];Q||(Q=re[Xe]={buf:F.createBuffer(),loc:F.getAttribLocation(ge,Xe),data:null}),F.bindBuffer(F.ARRAY_BUFFER,Q.buf),F.vertexAttribPointer(Q.loc,Ye,F.FLOAT,!1,0,0),F.enableVertexAttribArray(Q.loc),ie?F.vertexAttribDivisor(Q.loc,Ve):Re("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Q.loc,Ve),He!==Q.data&&(F.bufferData(F.ARRAY_BUFFER,He,be),Q.data=He)}})}}}te[ue].transaction(N)},ae=function(ue,je){se++;try{F.activeTexture(F.TEXTURE0+se);var V=oe[ue];V||(V=oe[ue]=F.createTexture(),F.bindTexture(F.TEXTURE_2D,V),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST)),F.bindTexture(F.TEXTURE_2D,V),je(V,se)}finally{se--}},Ae=function(ue,je,V){var N=F.createFramebuffer();ve.push(N),F.bindFramebuffer(F.FRAMEBUFFER,N),F.activeTexture(F.TEXTURE0+je),F.bindTexture(F.TEXTURE_2D,ue),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,ue,0);try{V(N)}finally{F.deleteFramebuffer(N),F.bindFramebuffer(F.FRAMEBUFFER,ve[--ve.length-1]||null)}},ye=function(){$={},te={},oe={},se=-1,ve.length=0};var Ue=Re,Ne=we,Oe=De,Pe=ae,We=Ae,G=ye,ie=typeof WebGL2RenderingContext<"u"&&F instanceof WebGL2RenderingContext,$={},te={},oe={},se=-1,ve=[];F.canvas.addEventListener("webglcontextlost",function(ue){ye(),ue.preventDefault()},!1),l.set(F,Y={gl:F,isWebGL2:ie,getExtension:Re,withProgram:De,withTexture:ae,withTextureFramebuffer:Ae,handleContextLoss:ye})}H(Y)}function d(B,H,F,Y,ie,$,te,oe){te===void 0&&(te=15),oe===void 0&&(oe=null),u(B,function(se){var ve=se.gl,Ue=se.withProgram,Ne=se.withTexture;Ne("copy",function(Oe,Pe){ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ie,$,0,ve.RGBA,ve.UNSIGNED_BYTE,H),Ue("copy",o,a,function(We){var G=We.setUniform,Re=We.setAttribute;Re("aUV",2,ve.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),G("1i","image",Pe),ve.bindFramebuffer(ve.FRAMEBUFFER,oe||null),ve.disable(ve.BLEND),ve.colorMask(te&8,te&4,te&2,te&1),ve.viewport(F,Y,ie,$),ve.scissor(F,Y,ie,$),ve.drawArrays(ve.TRIANGLES,0,3)})})})}function f(B,H,F){var Y=B.width,ie=B.height;u(B,function($){var te=$.gl,oe=new Uint8Array(Y*ie*4);te.readPixels(0,0,Y,ie,te.RGBA,te.UNSIGNED_BYTE,oe),B.width=H,B.height=F,d(te,oe,0,0,Y,ie)})}var m=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:d,resizeWebGLCanvasWithoutClearing:f});function v(B,H,F,Y,ie,$){$===void 0&&($=1);var te=new Uint8Array(B*H),oe=Y[2]-Y[0],se=Y[3]-Y[1],ve=[];s(F,function(Re,we,De,ae){ve.push({x1:Re,y1:we,x2:De,y2:ae,minX:Math.min(Re,De),minY:Math.min(we,ae),maxX:Math.max(Re,De),maxY:Math.max(we,ae)})}),ve.sort(function(Re,we){return Re.maxX-we.maxX});for(var Ue=0;Ue<B;Ue++)for(var Ne=0;Ne<H;Ne++){var Oe=We(Y[0]+oe*(Ue+.5)/B,Y[1]+se*(Ne+.5)/H),Pe=Math.pow(1-Math.abs(Oe)/ie,$)/2;Oe<0&&(Pe=1-Pe),Pe=Math.max(0,Math.min(255,Math.round(Pe*255))),te[Ne*B+Ue]=Pe}return te;function We(Re,we){for(var De=1/0,ae=1/0,Ae=ve.length;Ae--;){var ye=ve[Ae];if(ye.maxX+ae<=Re)break;if(Re+ae>ye.minX&&we-ae<ye.maxY&&we+ae>ye.minY){var ue=g(Re,we,ye.x1,ye.y1,ye.x2,ye.y2);ue<De&&(De=ue,ae=Math.sqrt(De))}}return G(Re,we)&&(ae=-ae),ae}function G(Re,we){for(var De=0,ae=ve.length;ae--;){var Ae=ve[ae];if(Ae.maxX<=Re)break;var ye=Ae.y1>we!=Ae.y2>we&&Re<(Ae.x2-Ae.x1)*(we-Ae.y1)/(Ae.y2-Ae.y1)+Ae.x1;ye&&(De+=Ae.y1<Ae.y2?1:-1)}return De!==0}}function y(B,H,F,Y,ie,$,te,oe,se,ve){$===void 0&&($=1),oe===void 0&&(oe=0),se===void 0&&(se=0),ve===void 0&&(ve=0),x(B,H,F,Y,ie,$,te,null,oe,se,ve)}function x(B,H,F,Y,ie,$,te,oe,se,ve,Ue){$===void 0&&($=1),se===void 0&&(se=0),ve===void 0&&(ve=0),Ue===void 0&&(Ue=0);for(var Ne=v(B,H,F,Y,ie,$),Oe=new Uint8Array(Ne.length*4),Pe=0;Pe<Ne.length;Pe++)Oe[Pe*4+Ue]=Ne[Pe];d(te,Oe,se,ve,B,H,1<<3-Ue,oe)}function g(B,H,F,Y,ie,$){var te=ie-F,oe=$-Y,se=te*te+oe*oe,ve=se?Math.max(0,Math.min(1,((B-F)*te+(H-Y)*oe)/se)):0,Ue=B-(F+ve*te),Ne=H-(Y+ve*oe);return Ue*Ue+Ne*Ne}var _=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:y,generateIntoFramebuffer:x}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",b="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),P=null,R=!1,I={},T=new WeakMap;function O(B){if(!R&&!ee(B))throw new Error("WebGL generation not supported")}function U(B,H,F,Y,ie,$,te){if($===void 0&&($=1),te===void 0&&(te=null),!te&&(te=P,!te)){var oe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!oe)throw new Error("OffscreenCanvas or DOM canvas not supported");te=P=oe.getContext("webgl",{depth:!1})}O(te);var se=new Uint8Array(B*H*4);u(te,function(Oe){var Pe=Oe.gl,We=Oe.withTexture,G=Oe.withTextureFramebuffer;We("readable",function(Re,we){Pe.texImage2D(Pe.TEXTURE_2D,0,Pe.RGBA,B,H,0,Pe.RGBA,Pe.UNSIGNED_BYTE,null),G(Re,we,function(De){W(B,H,F,Y,ie,$,Pe,De,0,0,0),Pe.readPixels(0,0,B,H,Pe.RGBA,Pe.UNSIGNED_BYTE,se)})})});for(var ve=new Uint8Array(B*H),Ue=0,Ne=0;Ue<se.length;Ue+=4)ve[Ne++]=se[Ue];return ve}function j(B,H,F,Y,ie,$,te,oe,se,ve){$===void 0&&($=1),oe===void 0&&(oe=0),se===void 0&&(se=0),ve===void 0&&(ve=0),W(B,H,F,Y,ie,$,te,null,oe,se,ve)}function W(B,H,F,Y,ie,$,te,oe,se,ve,Ue){$===void 0&&($=1),se===void 0&&(se=0),ve===void 0&&(ve=0),Ue===void 0&&(Ue=0),O(te);var Ne=[];s(F,function(Oe,Pe,We,G){Ne.push(Oe,Pe,We,G)}),Ne=new Float32Array(Ne),u(te,function(Oe){var Pe=Oe.gl,We=Oe.isWebGL2,G=Oe.getExtension,Re=Oe.withProgram,we=Oe.withTexture,De=Oe.withTextureFramebuffer,ae=Oe.handleContextLoss;if(we("rawDistances",function(Ae,ye){(B!==Ae._lastWidth||H!==Ae._lastHeight)&&Pe.texImage2D(Pe.TEXTURE_2D,0,Pe.RGBA,Ae._lastWidth=B,Ae._lastHeight=H,0,Pe.RGBA,Pe.UNSIGNED_BYTE,null),Re("main",S,b,function(ue){var je=ue.setAttribute,V=ue.setUniform,N=!We&&G("ANGLE_instanced_arrays"),re=!We&&G("EXT_blend_minmax");je("aUV",2,Pe.STATIC_DRAW,0,C),je("aLineSegment",4,Pe.DYNAMIC_DRAW,1,Ne),V.apply(void 0,["4f","uGlyphBounds"].concat(Y)),V("1f","uMaxDistance",ie),V("1f","uExponent",$),De(Ae,ye,function(_e){Pe.enable(Pe.BLEND),Pe.colorMask(!0,!0,!0,!0),Pe.viewport(0,0,B,H),Pe.scissor(0,0,B,H),Pe.blendFunc(Pe.ONE,Pe.ONE),Pe.blendEquationSeparate(Pe.FUNC_ADD,We?Pe.MAX:re.MAX_EXT),Pe.clear(Pe.COLOR_BUFFER_BIT),We?Pe.drawArraysInstanced(Pe.TRIANGLES,0,3,Ne.length/4):N.drawArraysInstancedANGLE(Pe.TRIANGLES,0,3,Ne.length/4)})}),Re("post",o,E,function(ue){ue.setAttribute("aUV",2,Pe.STATIC_DRAW,0,C),ue.setUniform("1i","tex",ye),Pe.bindFramebuffer(Pe.FRAMEBUFFER,oe),Pe.disable(Pe.BLEND),Pe.colorMask(Ue===0,Ue===1,Ue===2,Ue===3),Pe.viewport(se,ve,B,H),Pe.scissor(se,ve,B,H),Pe.drawArrays(Pe.TRIANGLES,0,3)})}),Pe.isContextLost())throw ae(),new Error("webgl context lost")})}function ee(B){var H=!B||B===P?I:B.canvas||B,F=T.get(H);if(F===void 0){R=!0;var Y=null;try{var ie=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],$=U(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,B);F=$&&ie.length===$.length&&$.every(function(te,oe){return te===ie[oe]}),F||(Y="bad trial run results",console.info(ie,$))}catch(te){F=!1,Y=te.message}Y&&console.warn("WebGL SDF generation not supported:",Y),R=!1,T.set(H,F)}return F}var K=Object.freeze({__proto__:null,generate:U,generateIntoCanvas:j,generateIntoFramebuffer:W,isSupported:ee});function ne(B,H,F,Y,ie,$){ie===void 0&&(ie=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),$===void 0&&($=1);try{return U.apply(K,arguments)}catch(te){return console.info("WebGL SDF generation failed, falling back to JS",te),v.apply(_,arguments)}}function k(B,H,F,Y,ie,$,te,oe,se,ve){ie===void 0&&(ie=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),$===void 0&&($=1),oe===void 0&&(oe=0),se===void 0&&(se=0),ve===void 0&&(ve=0);try{return j.apply(K,arguments)}catch(Ue){return console.info("WebGL SDF generation failed, falling back to JS",Ue),y.apply(_,arguments)}}return e.forEachPathCommand=r,e.generate=ne,e.generateIntoCanvas=k,e.javascript=_,e.pathToLineSegments=s,e.webgl=K,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function ble(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(t).forEach(function(ae,Ae){i[ae]=1<<Ae+1,r[i[ae]]=ae}),Object.freeze(i);var s=i.LRI|i.RLI|i.FSI,o=i.L|i.R|i.AL,a=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,l=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,c=i.S|i.WS|i.B|s|i.PDI|l,u=null;function d(){if(!u){u=new Map;var ae=function(ye){if(t.hasOwnProperty(ye)){var ue=0;t[ye].split(",").forEach(function(je){var V=je.split("+"),N=V[0],re=V[1];N=parseInt(N,36),re=re?parseInt(re,36):0,u.set(ue+=N,i[ye]);for(var _e=0;_e<re;_e++)u.set(++ue,i[ye])})}};for(var Ae in t)ae(Ae)}}function f(ae){return d(),u.get(ae.codePointAt(0))||i.L}function m(ae){return r[f(ae)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(ae,Ae){var ye=36,ue=0,je=new Map,V=Ae&&new Map,N;return ae.split(",").forEach(function re(_e){if(_e.indexOf("+")!==-1)for(var ge=+_e;ge--;)re(N);else{N=_e;var fe=_e.split(">"),ze=fe[0],Be=fe[1];ze=String.fromCodePoint(ue+=parseInt(ze,ye)),Be=String.fromCodePoint(ue+=parseInt(Be,ye)),je.set(ze,Be),Ae&&V.set(Be,ze)}}),{map:je,reverseMap:V}}var x,g,_;function S(){if(!x){var ae=y(v.pairs,!0),Ae=ae.map,ye=ae.reverseMap;x=Ae,g=ye,_=y(v.canonical,!1).map}}function b(ae){return S(),x.get(ae)||null}function E(ae){return S(),g.get(ae)||null}function C(ae){return S(),_.get(ae)||null}var P=i.L,R=i.R,I=i.EN,T=i.ES,O=i.ET,U=i.AN,j=i.CS,W=i.B,ee=i.S,K=i.ON,ne=i.BN,k=i.NSM,B=i.AL,H=i.LRO,F=i.RLO,Y=i.LRE,ie=i.RLE,$=i.PDF,te=i.LRI,oe=i.RLI,se=i.FSI,ve=i.PDI;function Ue(ae,Ae){for(var ye=125,ue=new Uint32Array(ae.length),je=0;je<ae.length;je++)ue[je]=f(ae[je]);var V=new Map;function N(di,nr){var On=ue[di];ue[di]=nr,V.set(On,V.get(On)-1),On&a&&V.set(a,V.get(a)-1),V.set(nr,(V.get(nr)||0)+1),nr&a&&V.set(a,(V.get(a)||0)+1)}for(var re=new Uint8Array(ae.length),_e=new Map,ge=[],fe=null,ze=0;ze<ae.length;ze++)fe||ge.push(fe={start:ze,end:ae.length-1,level:Ae==="rtl"?1:Ae==="ltr"?0:Iu(ze,!1)}),ue[ze]&W&&(fe.end=ze,fe=null);for(var Be=ie|Y|F|H|s|ve|$|W,Xe=function(di){return di+(di&1?1:2)},Ye=function(di){return di+(di&1?2:1)},be=0;be<ge.length;be++){fe=ge[be];var Ve=[{_level:fe.level,_override:0,_isolate:0}],He=void 0,Q=0,de=0,Ee=0;V.clear();for(var Z=fe.start;Z<=fe.end;Z++){var xe=ue[Z];if(He=Ve[Ve.length-1],V.set(xe,(V.get(xe)||0)+1),xe&a&&V.set(a,(V.get(a)||0)+1),xe&Be)if(xe&(ie|Y)){re[Z]=He._level;var Te=(xe===ie?Ye:Xe)(He._level);Te<=ye&&!Q&&!de?Ve.push({_level:Te,_override:0,_isolate:0}):Q||de++}else if(xe&(F|H)){re[Z]=He._level;var $e=(xe===F?Ye:Xe)(He._level);$e<=ye&&!Q&&!de?Ve.push({_level:$e,_override:xe&F?R:P,_isolate:0}):Q||de++}else if(xe&s){xe&se&&(xe=Iu(Z+1,!0)===1?oe:te),re[Z]=He._level,He._override&&N(Z,He._override);var ke=(xe===oe?Ye:Xe)(He._level);ke<=ye&&Q===0&&de===0?(Ee++,Ve.push({_level:ke,_override:0,_isolate:1,_isolInitIndex:Z})):Q++}else if(xe&ve){if(Q>0)Q--;else if(Ee>0){for(de=0;!Ve[Ve.length-1]._isolate;)Ve.pop();var Se=Ve[Ve.length-1]._isolInitIndex;Se!=null&&(_e.set(Se,Z),_e.set(Z,Se)),Ve.pop(),Ee--}He=Ve[Ve.length-1],re[Z]=He._level,He._override&&N(Z,He._override)}else xe&$?(Q===0&&(de>0?de--:!He._isolate&&Ve.length>1&&(Ve.pop(),He=Ve[Ve.length-1])),re[Z]=He._level):xe&W&&(re[Z]=fe.level);else re[Z]=He._level,He._override&&xe!==ne&&N(Z,He._override)}for(var Ke=[],nt=null,rt=fe.start;rt<=fe.end;rt++){var gt=ue[rt];if(!(gt&l)){var Yt=re[rt],Zt=gt&s,mn=gt===ve;nt&&Yt===nt._level?(nt._end=rt,nt._endsWithIsolInit=Zt):Ke.push(nt={_start:rt,_end:rt,_level:Yt,_startsWithPDI:mn,_endsWithIsolInit:Zt})}}for(var Ii=[],ti=0;ti<Ke.length;ti++){var wi=Ke[ti];if(!wi._startsWithPDI||wi._startsWithPDI&&!_e.has(wi._start)){for(var Fr=[nt=wi],Di=void 0;nt&&nt._endsWithIsolInit&&(Di=_e.get(nt._end))!=null;)for(var Li=ti+1;Li<Ke.length;Li++)if(Ke[Li]._start===Di){Fr.push(nt=Ke[Li]);break}for(var jn=[],xr=0;xr<Fr.length;xr++)for(var ql=Fr[xr],Na=ql._start;Na<=ql._end;Na++)jn.push(Na);for(var Gf=re[jn[0]],Tu=fe.level,Wo=jn[0]-1;Wo>=0;Wo--)if(!(ue[Wo]&l)){Tu=re[Wo];break}var Kl=jn[jn.length-1],Wf=re[Kl],Cu=fe.level;if(!(ue[Kl]&s)){for(var X=Kl+1;X<=fe.end;X++)if(!(ue[X]&l)){Cu=re[X];break}}Ii.push({_seqIndices:jn,_sosType:Math.max(Tu,Gf)%2?R:P,_eosType:Math.max(Cu,Wf)%2?R:P})}}for(var pe=0;pe<Ii.length;pe++){var Ce=Ii[pe],le=Ce._seqIndices,he=Ce._sosType,qe=Ce._eosType,et=re[le[0]]&1?R:P;if(V.get(k))for(var ut=0;ut<le.length;ut++){var lt=le[ut];if(ue[lt]&k){for(var xt=he,vt=ut-1;vt>=0;vt--)if(!(ue[le[vt]]&l)){xt=ue[le[vt]];break}N(lt,xt&(s|ve)?K:xt)}}if(V.get(I))for(var Je=0;Je<le.length;Je++){var dt=le[Je];if(ue[dt]&I)for(var Dt=Je-1;Dt>=-1;Dt--){var Lt=Dt===-1?he:ue[le[Dt]];if(Lt&o){Lt===B&&N(dt,U);break}}}if(V.get(B))for(var Tt=0;Tt<le.length;Tt++){var Gt=le[Tt];ue[Gt]&B&&N(Gt,R)}if(V.get(T)||V.get(j))for(var pt=1;pt<le.length-1;pt++){var kt=le[pt];if(ue[kt]&(T|j)){for(var Ct=0,Xn=0,zr=pt-1;zr>=0&&(Ct=ue[le[zr]],!!(Ct&l));zr--);for(var Rn=pt+1;Rn<le.length&&(Xn=ue[le[Rn]],!!(Xn&l));Rn++);Ct===Xn&&(ue[kt]===T?Ct===I:Ct&(I|U))&&N(kt,Ct)}}if(V.get(I))for(var ni=0;ni<le.length;ni++){var Wt=le[ni];if(ue[Wt]&I){for(var ii=ni-1;ii>=0&&ue[le[ii]]&(O|l);ii--)N(le[ii],I);for(ni++;ni<le.length&&ue[le[ni]]&(O|l|I);ni++)ue[le[ni]]!==I&&N(le[ni],I)}}if(V.get(O)||V.get(T)||V.get(j))for(var Yn=0;Yn<le.length;Yn++){var qn=le[Yn];if(ue[qn]&(O|T|j)){N(qn,K);for(var gn=Yn-1;gn>=0&&ue[le[gn]]&l;gn--)N(le[gn],K);for(var Br=Yn+1;Br<le.length&&ue[le[Br]]&l;Br++)N(le[Br],K)}}if(V.get(I))for(var Si=0,$l=he;Si<le.length;Si++){var qm=le[Si],jf=ue[qm];jf&I?$l===P&&N(qm,P):jf&o&&($l=jf)}if(V.get(a)){var jo=R|I|U,Au=jo|P,ho=[];{for(var Oa=[],po=0;po<le.length;po++)if(ue[le[po]]&a){var jt=ae[le[po]],Xf=void 0;if(b(jt)!==null)if(Oa.length<63)Oa.push({char:jt,seqIndex:po});else break;else if((Xf=E(jt))!==null)for(var Xo=Oa.length-1;Xo>=0;Xo--){var Pu=Oa[Xo].char;if(Pu===Xf||Pu===E(C(jt))||b(C(Pu))===jt){ho.push([Oa[Xo].seqIndex,po]),Oa.length=Xo;break}}}ho.sort(function(di,nr){return di[0]-nr[0]})}for(var Yf=0;Yf<ho.length;Yf++){for(var Km=ho[Yf],_n=Km[0],Zl=Km[1],$m=!1,Ji=0,qf=_n+1;qf<Zl;qf++){var Ql=le[qf];if(ue[Ql]&Au){$m=!0;var Vr=ue[Ql]&jo?R:P;if(Vr===et){Ji=Vr;break}}}if($m&&!Ji){Ji=he;for(var Kf=_n-1;Kf>=0;Kf--){var Zm=le[Kf];if(ue[Zm]&Au){var Hr=ue[Zm]&jo?R:P;Hr!==et?Ji=Hr:Ji=et;break}}}if(Ji){if(ue[le[_n]]=ue[le[Zl]]=Ji,Ji!==et){for(var er=_n+1;er<le.length;er++)if(!(ue[le[er]]&l)){f(ae[le[er]])&k&&(ue[le[er]]=Ji);break}}if(Ji!==et){for(var mo=Zl+1;mo<le.length;mo++)if(!(ue[le[mo]]&l)){f(ae[le[mo]])&k&&(ue[le[mo]]=Ji);break}}}}for(var fs=0;fs<le.length;fs++)if(ue[le[fs]]&a){for(var $f=fs,Zf=fs,_r=he,Jl=fs-1;Jl>=0;Jl--)if(ue[le[Jl]]&l)$f=Jl;else{_r=ue[le[Jl]]&jo?R:P;break}for(var ec=qe,tc=fs+1;tc<le.length;tc++)if(ue[le[tc]]&(a|l))Zf=tc;else{ec=ue[le[tc]]&jo?R:P;break}for(var tr=$f;tr<=Zf;tr++)ue[le[tr]]=_r===ec?_r:et;fs=Zf}}}for(var ui=fe.start;ui<=fe.end;ui++){var Ru=re[ui],Us=ue[ui];if(Ru&1?Us&(P|I|U)&&re[ui]++:Us&R?re[ui]++:Us&(U|I)&&(re[ui]+=2),Us&l&&(re[ui]=ui===0?fe.level:re[ui-1]),ui===fe.end||f(ae[ui])&(ee|W))for(var Ua=ui;Ua>=0&&f(ae[Ua])&c;Ua--)re[Ua]=fe.level}}return{levels:re,paragraphs:ge};function Iu(di,nr){for(var On=di;On<ae.length;On++){var Un=ue[On];if(Un&(R|B))return 1;if(Un&(W|P)||nr&&Un===ve)return 0;if(Un&s){var Gr=Qm(On);On=Gr===-1?ae.length:Gr}}return 0}function Qm(di){for(var nr=1,On=di+1;On<ae.length;On++){var Un=ue[On];if(Un&W)break;if(Un&ve){if(--nr===0)return On}else Un&s&&nr++}return-1}}var Ne="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Oe;function Pe(){if(!Oe){var ae=y(Ne,!0),Ae=ae.map,ye=ae.reverseMap;ye.forEach(function(ue,je){Ae.set(je,ue)}),Oe=Ae}}function We(ae){return Pe(),Oe.get(ae)||null}function G(ae,Ae,ye,ue){var je=ae.length;ye=Math.max(0,ye==null?0:+ye),ue=Math.min(je-1,ue==null?je-1:+ue);for(var V=new Map,N=ye;N<=ue;N++)if(Ae[N]&1){var re=We(ae[N]);re!==null&&V.set(N,re)}return V}function Re(ae,Ae,ye,ue){var je=ae.length;ye=Math.max(0,ye==null?0:+ye),ue=Math.min(je-1,ue==null?je-1:+ue);var V=[];return Ae.paragraphs.forEach(function(N){var re=Math.max(ye,N.start),_e=Math.min(ue,N.end);if(re<_e){for(var ge=Ae.levels.slice(re,_e+1),fe=_e;fe>=re&&f(ae[fe])&c;fe--)ge[fe]=N.level;for(var ze=N.level,Be=1/0,Xe=0;Xe<ge.length;Xe++){var Ye=ge[Xe];Ye>ze&&(ze=Ye),Ye<Be&&(Be=Ye|1)}for(var be=ze;be>=Be;be--)for(var Ve=0;Ve<ge.length;Ve++)if(ge[Ve]>=be){for(var He=Ve;Ve+1<ge.length&&ge[Ve+1]>=be;)Ve++;Ve>He&&V.push([He+re,Ve+re])}}}),V}function we(ae,Ae,ye,ue){var je=De(ae,Ae,ye,ue),V=[].concat(ae);return je.forEach(function(N,re){V[re]=(Ae.levels[N]&1?We(ae[N]):null)||ae[N]}),V.join("")}function De(ae,Ae,ye,ue){for(var je=Re(ae,Ae,ye,ue),V=[],N=0;N<ae.length;N++)V[N]=N;return je.forEach(function(re){for(var _e=re[0],ge=re[1],fe=V.slice(_e,ge+1),ze=fe.length;ze--;)V[ge-ze]=fe[ze]}),V}return e.closingToOpeningBracket=E,e.getBidiCharType=f,e.getBidiCharTypeName=m,e.getCanonicalBracket=C,e.getEmbeddingLevels=Ue,e.getMirroredCharacter=We,e.getMirroredCharactersMap=G,e.getReorderSegments=Re,e.getReorderedIndices=De,e.getReorderedString=we,e.openingToClosingBracket=b,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const hB=/\bvoid\s+main\s*\(\s*\)\s*{/g;function DM(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(i,r){let s=Nt[r];return s?DM(s):i}return n.replace(e,t)}const Mi=[];for(let n=0;n<256;n++)Mi[n]=(n<16?"0":"")+n.toString(16);function Mle(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Mi[n&255]+Mi[n>>8&255]+Mi[n>>16&255]+Mi[n>>24&255]+"-"+Mi[e&255]+Mi[e>>8&255]+"-"+Mi[e>>16&15|64]+Mi[e>>24&255]+"-"+Mi[t&63|128]+Mi[t>>8&255]+"-"+Mi[t>>16&255]+Mi[t>>24&255]+Mi[i&255]+Mi[i>>8&255]+Mi[i>>16&255]+Mi[i>>24&255]).toUpperCase()}const Tc=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},Ele=Date.now(),wD=new WeakMap,SD=new Map;let Tle=1e10;function LM(n,e){const t=Rle(e);let i=wD.get(n);if(i||wD.set(n,i=Object.create(null)),i[t])return new i[t];const r=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const d=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let f=SD[d];if(!f){const m=Cle(this,c,e,t);f=SD[d]=m}c.vertexShader=f.vertexShader,c.fragmentShader=f.fragmentShader,Tc(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Ele}}),this[r]&&this[r](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:Tle++}),u.uuid=Mle(),u.uniforms=Tc({},c.uniforms,e.uniforms),u.defines=Tc({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=Tc({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>n.type,set:c=>{n.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Tc(this.extensions,c.extensions),Tc(this.defines,c.defines),Tc(this.uniforms,KT.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=LM(n.isDerivedMaterial?n.getDepthMaterial():new w1({depthPacking:GT}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=LM(n.isDerivedMaterial?n.getDistanceMaterial():new S1,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return i[t]=o,new o}function Cle(n,{vertexShader:e,fragmentShader:t},i,r){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:f,customRewriter:m,timeUniform:v}=i;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",d=d||"",(l||m)&&(e=DM(e)),(f||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=DM(t)),m){let y=m({vertexShader:e,fragmentShader:t});e=y.vertexShader,t=y.fragmentShader}if(f){let y=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(y.push(x),"")),d=`${f}
${y.join(`
`)}
${d}`}if(v){const y=`
uniform float ${v};
`;s=y+s,c=y+c}return l&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,s=`${s}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,x,g,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,g))?x:`troika_${x}_${r}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=bD(e,r,s,o,a),t=bD(t,r,c,u,d),{vertexShader:e,fragmentShader:t}}function bD(n,e,t,i,r){return(i||r||t)&&(n=n.replace(hB,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),n}function Ale(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Ple=0;const MD=new Map;function Rle(n){const e=JSON.stringify(n,Ale);let t=MD.get(e);return t==null&&MD.set(e,t=++Ple),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Ile(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(r){var s=e._bin,o=new Uint8Array(r);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var d=s.readUint(o,a);a+=4,c.push(e._readFont(o,d))}return c}return[e._readFont(o,0)]},_readFont:function(r,s){var o=e._bin,a=s;o.readFixed(r,s),s+=4;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:r,_offset:a},d={},f=0;f<l;f++){var m=o.readASCII(r,s,4);s+=4,o.readUint(r,s),s+=4;var v=o.readUint(r,s);s+=4;var y=o.readUint(r,s);s+=4,d[m]={offset:v,length:y}}for(f=0;f<c.length;f++){var x=c[f];d[x]&&(u[x.trim()]=e[x.trim()].parse(r,d[x].offset,d[x].length,u))}return u},_tabOffset:function(r,s,o){for(var a=e._bin,l=a.readUshort(r,o+4),c=o+12,u=0;u<l;u++){var d=a.readASCII(r,c,4);c+=4,a.readUint(r,c),c+=4;var f=a.readUint(r,c);if(c+=4,a.readUint(r,c),c+=4,d==s)return f}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(r,s+2*l));return a},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(r[s+l]);return a},readUnicode:function(r,s,o){for(var a="",l=0;l<o;l++){var c=r[s++]<<8|r[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,o){var a=e._bin._tdec;return a&&s==0&&o==r.length?a.decode(r):e._bin.readASCII(r,s,o)},readBytes:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(r[s+l]);return a},readASCIIArray:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(r[s+l]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,o,a,l){var c=e._bin,u={},d=s;c.readFixed(r,s),s+=4;var f=c.readUshort(r,s);s+=2;var m=c.readUshort(r,s);s+=2;var v=c.readUshort(r,s);return s+=2,u.scriptList=e._lctf.readScriptList(r,d+f),u.featureList=e._lctf.readFeatureList(r,d+m),u.lookupList=e._lctf.readLookupList(r,d+v,l),u},e._lctf.readLookupList=function(r,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(r,s);s+=2;for(var d=0;d<u;d++){var f=a.readUshort(r,s);s+=2;var m=e._lctf.readLookupTable(r,l+f,o);c.push(m)}return c},e._lctf.readLookupTable=function(r,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(r,s),s+=2,c.flag=a.readUshort(r,s),s+=2;var u=a.readUshort(r,s);s+=2;for(var d=c.ltype,f=0;f<u;f++){var m=a.readUshort(r,s);s+=2;var v=o(r,d,l+m,c);c.tabs.push(v)}return c},e._lctf.numOfOnes=function(r){for(var s=0,o=0;o<32;o++)r>>>o&1&&s++;return s},e._lctf.readClassDef=function(r,s){var o=e._bin,a=[],l=o.readUshort(r,s);if(s+=2,l==1){var c=o.readUshort(r,s);s+=2;var u=o.readUshort(r,s);s+=2;for(var d=0;d<u;d++)a.push(c+d),a.push(c+d),a.push(o.readUshort(r,s)),s+=2}if(l==2){var f=o.readUshort(r,s);for(s+=2,d=0;d<f;d++)a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2}return a},e._lctf.getInterval=function(r,s){for(var o=0;o<r.length;o+=3){var a=r[o],l=r[o+1];if(r[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(r,s){var o=e._bin,a={};a.fmt=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(r,s,l)),a.fmt==2&&(a.tab=o.readUshorts(r,s,3*l)),a},e._lctf.coverageIndex=function(r,s){var o=r.tab;if(r.fmt==1)return o.indexOf(s);if(r.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(r,s,4);s+=4;var f=o.readUshort(r,s);s+=2;var m=e._lctf.readFeatureTable(r,a+f);m.tag=d.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(r,s);s+=2,l.tab=[];for(var d=0;d<u;d++)l.tab.push(o.readUshort(r,s+2*d));return l},e._lctf.readScriptList=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(r,s,4);s+=4;var f=o.readUshort(r,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(r,a+f)}return l},e._lctf.readScriptTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(r,a+c));var u=o.readUshort(r,s);s+=2;for(var d=0;d<u;d++){var f=o.readASCII(r,s,4);s+=4;var m=o.readUshort(r,s);s+=2,l[f.trim()]=e._lctf.readLangSysTable(r,a+m)}return l},e._lctf.readLangSysTable=function(r,s){var o=e._bin,a={};o.readUshort(r,s),s+=2,a.reqFeature=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.features=o.readUshorts(r,s,l),a},e.CFF={},e.CFF.parse=function(r,s,o){var a=e._bin;(r=new Uint8Array(r.buffer,s,o))[s=0],r[++s],r[++s],r[++s],s++;var l=[];s=e.CFF.readIndex(r,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(r,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(r,s,d);var f=[];for(u=0;u<d.length-1;u++)f.push(e.CFF.readDict(r,s+d[u],s+d[u+1]));s+=d[d.length-1];var m=f[0],v=[];s=e.CFF.readIndex(r,s,v);var y=[];for(u=0;u<v.length-1;u++)y.push(a.readASCII(r,s+v[u],v[u+1]-v[u]));if(s+=v[v.length-1],e.CFF.readSubrs(r,s,m),m.CharStrings){s=m.CharStrings,v=[],s=e.CFF.readIndex(r,s,v);var x=[];for(u=0;u<v.length-1;u++)x.push(a.readBytes(r,s+v[u],v[u+1]-v[u]));m.CharStrings=x}if(m.ROS){s=m.FDArray;var g=[];for(s=e.CFF.readIndex(r,s,g),m.FDArray=[],u=0;u<g.length-1;u++){var _=e.CFF.readDict(r,s+g[u],s+g[u+1]);e.CFF._readFDict(r,_,y),m.FDArray.push(_)}s+=g[g.length-1],s=m.FDSelect,m.FDSelect=[];var S=r[s];if(s++,S!=3)throw S;var b=a.readUshort(r,s);for(s+=2,u=0;u<b+1;u++)m.FDSelect.push(a.readUshort(r,s),r[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(r,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(r,m.charset,m.CharStrings.length)),e.CFF._readFDict(r,m,y),m},e.CFF._readFDict=function(r,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(r,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(r,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(r,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var d=0;d<l.length-1;d++)o.Subrs.push(a.readBytes(r,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var o=0;o<r.charset.length;o++)if(r.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,o){e._bin;var a=[".notdef"],l=r[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=r[s];s++;for(var u=0;u<c;u++)a.push(r[s+u]);return a},e.CFF.readCharset=function(r,s,o){var a=e._bin,l=[".notdef"],c=r[s];if(s++,c==0)for(var u=0;u<o;u++){var d=a.readUshort(r,s);s+=2,l.push(d)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){d=a.readUshort(r,s),s+=2;var f=0;for(c==1?(f=r[s],s++):(f=a.readUshort(r,s),s+=2),u=0;u<=f;u++)l.push(d),d++}}return l},e.CFF.readIndex=function(r,s,o){var a=e._bin,l=a.readUshort(r,s)+1,c=r[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(r[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(r,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(r,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(r,s,o){var a=e._bin,l=r[s],c=r[s+1];r[s+2],r[s+3],r[s+4];var u=1,d=null,f=null;l<=20&&(d=l,u=1),l==12&&(d=100*l+c,u=2),21<=l&&l<=27&&(d=l,u=1),l==28&&(f=a.readShort(r,s+1),u=3),29<=l&&l<=31&&(d=l,u=1),32<=l&&l<=246&&(f=l-139,u=1),247<=l&&l<=250&&(f=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(f=256*-(l-251)-c-108,u=2),l==255&&(f=a.readInt(r,s+1)/65535,u=5),o.val=f??"o"+d,o.size=u},e.CFF.readCharString=function(r,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=r[s],d=r[s+1];r[s+2],r[s+3],r[s+4];var f=1,m=null,v=null;u<=20&&(m=u,f=1),u==12&&(m=100*u+d,f=2),u!=19&&u!=20||(m=u,f=2),21<=u&&u<=27&&(m=u,f=1),u==28&&(v=l.readShort(r,s+1),f=3),29<=u&&u<=31&&(m=u,f=1),32<=u&&u<=246&&(v=u-139,f=1),247<=u&&u<=250&&(v=256*(u-247)+d+108,f=2),251<=u&&u<=254&&(v=256*-(u-251)-d-108,f=2),u==255&&(v=l.readInt(r,s+1)/65535,f=5),c.push(v??"o"+m),s+=f}return c},e.CFF.readDict=function(r,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=r[s],d=r[s+1];r[s+2],r[s+3],r[s+4];var f=1,m=null,v=null;if(u==28&&(v=a.readShort(r,s+1),f=3),u==29&&(v=a.readInt(r,s+1),f=5),32<=u&&u<=246&&(v=u-139,f=1),247<=u&&u<=250&&(v=256*(u-247)+d+108,f=2),251<=u&&u<=254&&(v=256*-(u-251)-d-108,f=2),u==255)throw v=a.readInt(r,s+1)/65535,f=5,"unknown number";if(u==30){var y=[];for(f=1;;){var x=r[s+f];f++;var g=x>>4,_=15&x;if(g!=15&&y.push(g),_!=15&&y.push(_),_==15)break}for(var S="",b=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<y.length;E++)S+=b[y[E]];v=parseFloat(S)}u<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],f=1,u==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],f=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(v),s+=f}return l},e.cmap={},e.cmap.parse=function(r,s,o){r=new Uint8Array(r.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2;var u=[];l.tables=[];for(var d=0;d<c;d++){var f=a.readUshort(r,s);s+=2;var m=a.readUshort(r,s);s+=2;var v=a.readUint(r,s);s+=4;var y="p"+f+"e"+m,x=u.indexOf(v);if(x==-1){var g;x=l.tables.length,u.push(v);var _=a.readUshort(r,v);_==0?g=e.cmap.parse0(r,v):_==4?g=e.cmap.parse4(r,v):_==6?g=e.cmap.parse6(r,v):_==12?g=e.cmap.parse12(r,v):console.debug("unknown format: "+_,f,m,v),l.tables.push(g)}if(l[y]!=null)throw"multiple tables for one platform+encoding";l[y]=x}return l},e.cmap.parse0=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(r[s+c]);return a},e.cmap.parse4=function(r,s){var o=e._bin,a=s,l={};l.format=o.readUshort(r,s),s+=2;var c=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2;var u=o.readUshort(r,s);s+=2;var d=u/2;l.searchRange=o.readUshort(r,s),s+=2,l.entrySelector=o.readUshort(r,s),s+=2,l.rangeShift=o.readUshort(r,s),s+=2,l.endCount=o.readUshorts(r,s,d),s+=2*d,s+=2,l.startCount=o.readUshorts(r,s,d),s+=2*d,l.idDelta=[];for(var f=0;f<d;f++)l.idDelta.push(o.readShort(r,s)),s+=2;for(l.idRangeOffset=o.readUshorts(r,s,d),s+=2*d,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(r,s)),s+=2;return l},e.cmap.parse6=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,a.firstCode=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(r,s)),s+=2;return a},e.cmap.parse12=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,s+=2,o.readUint(r,s),s+=4,o.readUint(r,s),s+=4;var l=o.readUint(r,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,d=o.readUint(r,u+0),f=o.readUint(r,u+4),m=o.readUint(r,u+8);a.groups.push([d,f,m])}return a},e.glyf={},e.glyf.parse=function(r,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(r,s){var o=e._bin,a=r._data,l=e._tabOffset(a,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var d=o.readUshort(a,l);if(l+=2,a.length-l<d)return null;c.instructions=o.readBytes(a,l,d),l+=d;var f=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<f;u++){var m=a[l];if(l++,c.flags.push(m),(8&m)!=0){var v=a[l];l++;for(var y=0;y<v;y++)c.flags.push(m),u++}}for(c.xs=[],u=0;u<f;u++){var x=(2&c.flags[u])!=0,g=(16&c.flags[u])!=0;x?(c.xs.push(g?a[l]:-a[l]),l++):g?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<f;u++)x=(4&c.flags[u])!=0,g=(32&c.flags[u])!=0,x?(c.ys.push(g?a[l]:-a[l]),l++):g?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,S=0;for(u=0;u<f;u++)_+=c.xs[u],S+=c.ys[u],c.xs[u]=_,c.ys[u]=S}else{var b;c.parts=[];do{b=o.readUshort(a,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=o.readUshort(a,l),l+=2,1&b){var C=o.readShort(a,l);l+=2;var P=o.readShort(a,l);l+=2}else C=o.readInt8(a,l),l++,P=o.readInt8(a,l),l++;2&b?(E.m.tx=C,E.m.ty=P):(E.p1=C,E.p2=P),8&b?(E.m.a=E.m.d=o.readF2dot14(a,l),l+=2):64&b?(E.m.a=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2):128&b&&(E.m.a=o.readF2dot14(a,l),l+=2,E.m.b=o.readF2dot14(a,l),l+=2,E.m.c=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2)}while(32&b);if(256&b){var R=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<R;u++)c.instr.push(a[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(r,s,o,a){var l=s;s+=4;var c=e._bin.readUshort(r,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(r,l+c)}},e.GPOS={},e.GPOS.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var d=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,d+c)}if(s==1&&u.fmt==1){var f=l.readUshort(r,o);o+=2,f!=0&&(u.pos=e.GPOS.readValueRecord(r,o,f))}else if(s==2&&u.fmt>=1&&u.fmt<=2){f=l.readUshort(r,o),o+=2;var m=l.readUshort(r,o);o+=2;var v=e._lctf.numOfOnes(f),y=e._lctf.numOfOnes(m);if(u.fmt==1){u.pairsets=[];var x=l.readUshort(r,o);o+=2;for(var g=0;g<x;g++){var _=c+l.readUshort(r,o);o+=2;var S=l.readUshort(r,_);_+=2;for(var b=[],E=0;E<S;E++){var C=l.readUshort(r,_);_+=2,f!=0&&(U=e.GPOS.readValueRecord(r,_,f),_+=2*v),m!=0&&(j=e.GPOS.readValueRecord(r,_,m),_+=2*y),b.push({gid2:C,val1:U,val2:j})}u.pairsets.push(b)}}if(u.fmt==2){var P=l.readUshort(r,o);o+=2;var R=l.readUshort(r,o);o+=2;var I=l.readUshort(r,o);o+=2;var T=l.readUshort(r,o);for(o+=2,u.classDef1=e._lctf.readClassDef(r,c+P),u.classDef2=e._lctf.readClassDef(r,c+R),u.matrix=[],g=0;g<I;g++){var O=[];for(E=0;E<T;E++){var U=null,j=null;f!=0&&(U=e.GPOS.readValueRecord(r,o,f),o+=2*v),m!=0&&(j=e.GPOS.readValueRecord(r,o,m),o+=2*y),O.push({val1:U,val2:j})}u.matrix.push(O)}}}else if(s==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(r,l.readUshort(r,o)+c),u.baseCoverage=e._lctf.readCoverage(r,l.readUshort(r,o+2)+c),u.markClassCount=l.readUshort(r,o+4),u.markArray=e.GPOS.readMarkArray(r,l.readUshort(r,o+6)+c),u.baseArray=e.GPOS.readBaseArray(r,l.readUshort(r,o+8)+c,u.markClassCount);else if(s==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(r,l.readUshort(r,o)+c),u.mark2Coverage=e._lctf.readCoverage(r,l.readUshort(r,o+2)+c),u.markClassCount=l.readUshort(r,o+4),u.mark1Array=e.GPOS.readMarkArray(r,l.readUshort(r,o+6)+c),u.mark2Array=e.GPOS.readBaseArray(r,l.readUshort(r,o+8)+c,u.markClassCount);else{if(s==9&&u.fmt==1){var W=l.readUshort(r,o);o+=2;var ee=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=W;else if(a.ltype!=W)throw"invalid extension substitution";return e.GPOS.subt(r,a.ltype,c+ee)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(r,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(r,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(r,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(r,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(r,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(r,s,o){var a=e._bin,l=[],c=s,u=a.readUshort(r,s);s+=2;for(var d=0;d<u;d++){for(var f=[],m=0;m<o;m++)f.push(e.GPOS.readAnchorRecord(r,c+a.readUshort(r,s))),s+=2;l.push(f)}return l},e.GPOS.readMarkArray=function(r,s){var o=e._bin,a=[],l=s,c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=e.GPOS.readAnchorRecord(r,o.readUshort(r,s+2)+l);d.markClass=o.readUshort(r,s),a.push(d),s+=4}return a},e.GPOS.readAnchorRecord=function(r,s){var o=e._bin,a={};return a.fmt=o.readUshort(r,s),a.x=o.readShort(r,s+2),a.y=o.readShort(r,s+4),a},e.GSUB={},e.GSUB.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var d=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,c+d)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(r,o),o+=2;else if(u.fmt==2){var f=l.readUshort(r,o);o+=2,u.newg=l.readUshorts(r,o,f),o+=2*u.newg.length}}else if(s==2&&u.fmt==1){f=l.readUshort(r,o),o+=2,u.seqs=[];for(var m=0;m<f;m++){var v=l.readUshort(r,o)+c;o+=2;var y=l.readUshort(r,v);u.seqs.push(l.readUshorts(r,v+2,y))}}else if(s==4)for(u.vals=[],f=l.readUshort(r,o),o+=2,m=0;m<f;m++){var x=l.readUshort(r,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(r,c+x))}else if(s==5&&u.fmt==2){if(u.fmt==2){var g=l.readUshort(r,o);o+=2,u.cDef=e._lctf.readClassDef(r,c+g),u.scset=[];var _=l.readUshort(r,o);for(o+=2,m=0;m<_;m++){var S=l.readUshort(r,o);o+=2,u.scset.push(S==0?null:e.GSUB.readSubClassSet(r,c+S))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(m=0;m<3;m++){f=l.readUshort(r,o),o+=2;for(var b=[],E=0;E<f;E++)b.push(e._lctf.readCoverage(r,c+l.readUshort(r,o+2*E)));o+=2*f,m==0&&(u.backCvg=b),m==1&&(u.inptCvg=b),m==2&&(u.ahedCvg=b)}f=l.readUshort(r,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(r,o,f)}}else{if(s==7&&u.fmt==1){var C=l.readUshort(r,o);o+=2;var P=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=C;else if(a.ltype!=C)throw"invalid extension substitution";return e.GSUB.subt(r,a.ltype,c+P)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(r,s){var o=e._bin.readUshort,a=s,l=[],c=o(r,s);s+=2;for(var u=0;u<c;u++){var d=o(r,s);s+=2,l.push(e.GSUB.readSubClassRule(r,a+d))}return l},e.GSUB.readSubClassRule=function(r,s){var o=e._bin.readUshort,a={},l=o(r,s),c=o(r,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(r,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,c),a},e.GSUB.readSubstLookupRecords=function(r,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(r,s),a(r,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(r,s);s+=2,l.push(e.GSUB.readChainSubClassRule(r,a+d))}return l},e.GSUB.readChainSubClassRule=function(r,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(r,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(r,s,u),s+=2*a[l[c]].length}return u=o.readUshort(r,s),s+=2,a.subst=o.readUshorts(r,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(r,s);s+=2,l.push(e.GSUB.readLigature(r,a+d))}return l},e.GSUB.readLigature=function(r,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(r,s)),s+=2;return a},e.head={},e.head.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.fontRevision=a.readFixed(r,s),s+=4,a.readUint(r,s),s+=4,a.readUint(r,s),s+=4,l.flags=a.readUshort(r,s),s+=2,l.unitsPerEm=a.readUshort(r,s),s+=2,l.created=a.readUint64(r,s),s+=8,l.modified=a.readUint64(r,s),s+=8,l.xMin=a.readShort(r,s),s+=2,l.yMin=a.readShort(r,s),s+=2,l.xMax=a.readShort(r,s),s+=2,l.yMax=a.readShort(r,s),s+=2,l.macStyle=a.readUshort(r,s),s+=2,l.lowestRecPPEM=a.readUshort(r,s),s+=2,l.fontDirectionHint=a.readShort(r,s),s+=2,l.indexToLocFormat=a.readShort(r,s),s+=2,l.glyphDataFormat=a.readShort(r,s),s+=2,l},e.hhea={},e.hhea.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.ascender=a.readShort(r,s),s+=2,l.descender=a.readShort(r,s),s+=2,l.lineGap=a.readShort(r,s),s+=2,l.advanceWidthMax=a.readUshort(r,s),s+=2,l.minLeftSideBearing=a.readShort(r,s),s+=2,l.minRightSideBearing=a.readShort(r,s),s+=2,l.xMaxExtent=a.readShort(r,s),s+=2,l.caretSlopeRise=a.readShort(r,s),s+=2,l.caretSlopeRun=a.readShort(r,s),s+=2,l.caretOffset=a.readShort(r,s),s+=2,s+=8,l.metricDataFormat=a.readShort(r,s),s+=2,l.numberOfHMetrics=a.readUshort(r,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(r,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,d=0,f=0;f<a.maxp.numGlyphs;f++)f<a.hhea.numberOfHMetrics&&(u=l.readUshort(r,s),s+=2,d=l.readShort(r,s),s+=2),c.aWidth.push(u),c.lsBearing.push(d);return c},e.kern={},e.kern.parse=function(r,s,o,a){var l=e._bin,c=l.readUshort(r,s);if(s+=2,c==1)return e.kern.parseV1(r,s-2,o,a);var u=l.readUshort(r,s);s+=2;for(var d={glyph1:[],rval:[]},f=0;f<u;f++){s+=2,o=l.readUshort(r,s),s+=2;var m=l.readUshort(r,s);s+=2;var v=m>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(r,s,d)}return d},e.kern.parseV1=function(r,s,o,a){var l=e._bin;l.readFixed(r,s),s+=4;var c=l.readUint(r,s);s+=4;for(var u={glyph1:[],rval:[]},d=0;d<c;d++){l.readUint(r,s),s+=4;var f=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var m=f>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(r,s,u)}return u},e.kern.readFormat0=function(r,s,o){var a=e._bin,l=-1,c=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2;for(var u=0;u<c;u++){var d=a.readUshort(r,s);s+=2;var f=a.readUshort(r,s);s+=2;var m=a.readShort(r,s);s+=2,d!=l&&(o.glyph1.push(d),o.rval.push({glyph2:[],vals:[]}));var v=o.rval[o.rval.length-1];v.glyph2.push(f),v.vals.push(m),l=d}return s},e.loca={},e.loca.parse=function(r,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,d=a.maxp.numGlyphs+1;if(u==0)for(var f=0;f<d;f++)c.push(l.readUshort(r,s+(f<<1))<<1);if(u==1)for(f=0;f<d;f++)c.push(l.readUint(r,s+(f<<2)));return c},e.maxp={},e.maxp.parse=function(r,s,o){var a=e._bin,l={},c=a.readUint(r,s);return s+=4,l.numGlyphs=a.readUshort(r,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(r,s),s+=2,l.maxContours=a.readUshort(r,s),s+=2,l.maxCompositePoints=a.readUshort(r,s),s+=2,l.maxCompositeContours=a.readUshort(r,s),s+=2,l.maxZones=a.readUshort(r,s),s+=2,l.maxTwilightPoints=a.readUshort(r,s),s+=2,l.maxStorage=a.readUshort(r,s),s+=2,l.maxFunctionDefs=a.readUshort(r,s),s+=2,l.maxInstructionDefs=a.readUshort(r,s),s+=2,l.maxStackElements=a.readUshort(r,s),s+=2,l.maxSizeOfInstructions=a.readUshort(r,s),s+=2,l.maxComponentElements=a.readUshort(r,s),s+=2,l.maxComponentDepth=a.readUshort(r,s),s+=2),l},e.name={},e.name.parse=function(r,s,o){var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2,a.readUshort(r,s);for(var u,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],f=s+=2,m=0;m<c;m++){var v=a.readUshort(r,s);s+=2;var y=a.readUshort(r,s);s+=2;var x=a.readUshort(r,s);s+=2;var g=a.readUshort(r,s);s+=2;var _=a.readUshort(r,s);s+=2;var S=a.readUshort(r,s);s+=2;var b,E=d[g],C=f+12*c+S;if(v==0)b=a.readUnicode(r,C,_/2);else if(v==3&&y==0)b=a.readUnicode(r,C,_/2);else if(y==0)b=a.readASCII(r,C,_);else if(y==1)b=a.readUnicode(r,C,_/2);else if(y==3)b=a.readUnicode(r,C,_/2);else{if(v!=1)throw"unknown encoding "+y+", platformID: "+v;b=a.readASCII(r,C,_),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var P="p"+v+","+x.toString(16);l[P]==null&&(l[P]={}),l[P][E!==void 0?E:g]=b,l[P]._lang=x}for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==1033)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==0)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==3084)return l[R];for(var R in l)if(l[R].postScriptName!=null)return l[R];for(var R in l){u=R;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(r,s,o){var a=e._bin.readUshort(r,s);s+=2;var l={};if(a==0)e["OS/2"].version0(r,s,l);else if(a==1)e["OS/2"].version1(r,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(r,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(r,s,l)}return l},e["OS/2"].version0=function(r,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(r,s),s+=2,o.usWeightClass=a.readUshort(r,s),s+=2,o.usWidthClass=a.readUshort(r,s),s+=2,o.fsType=a.readUshort(r,s),s+=2,o.ySubscriptXSize=a.readShort(r,s),s+=2,o.ySubscriptYSize=a.readShort(r,s),s+=2,o.ySubscriptXOffset=a.readShort(r,s),s+=2,o.ySubscriptYOffset=a.readShort(r,s),s+=2,o.ySuperscriptXSize=a.readShort(r,s),s+=2,o.ySuperscriptYSize=a.readShort(r,s),s+=2,o.ySuperscriptXOffset=a.readShort(r,s),s+=2,o.ySuperscriptYOffset=a.readShort(r,s),s+=2,o.yStrikeoutSize=a.readShort(r,s),s+=2,o.yStrikeoutPosition=a.readShort(r,s),s+=2,o.sFamilyClass=a.readShort(r,s),s+=2,o.panose=a.readBytes(r,s,10),s+=10,o.ulUnicodeRange1=a.readUint(r,s),s+=4,o.ulUnicodeRange2=a.readUint(r,s),s+=4,o.ulUnicodeRange3=a.readUint(r,s),s+=4,o.ulUnicodeRange4=a.readUint(r,s),s+=4,o.achVendID=[a.readInt8(r,s),a.readInt8(r,s+1),a.readInt8(r,s+2),a.readInt8(r,s+3)],s+=4,o.fsSelection=a.readUshort(r,s),s+=2,o.usFirstCharIndex=a.readUshort(r,s),s+=2,o.usLastCharIndex=a.readUshort(r,s),s+=2,o.sTypoAscender=a.readShort(r,s),s+=2,o.sTypoDescender=a.readShort(r,s),s+=2,o.sTypoLineGap=a.readShort(r,s),s+=2,o.usWinAscent=a.readUshort(r,s),s+=2,o.usWinDescent=a.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,o){var a=e._bin;return s=e["OS/2"].version0(r,s,o),o.ulCodePageRange1=a.readUint(r,s),s+=4,o.ulCodePageRange2=a.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,o){var a=e._bin;return s=e["OS/2"].version1(r,s,o),o.sxHeight=a.readShort(r,s),s+=2,o.sCapHeight=a.readShort(r,s),s+=2,o.usDefault=a.readUshort(r,s),s+=2,o.usBreak=a.readUshort(r,s),s+=2,o.usMaxContext=a.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,o){var a=e._bin;return s=e["OS/2"].version2(r,s,o),o.usLowerOpticalPointSize=a.readUshort(r,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,o){var a=e._bin,l={};return l.version=a.readFixed(r,s),s+=4,l.italicAngle=a.readFixed(r,s),s+=4,l.underlinePosition=a.readShort(r,s),s+=2,l.underlineThickness=a.readShort(r,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var o=r.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var d=l.groups[u];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,s){var o={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var a=r.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),r.SVG.entries[s]=a),a)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,u=r.CFF.Private;if(c.ROS){for(var d=0;c.FDSelect[d+2]<=s;)d+=2;u=c.FDArray[c.FDSelect[d+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],l,c,u,o)}else r.glyf&&e.U._drawGlyf(s,r,o);return o},e.U._drawGlyf=function(r,s,o){var a=s.glyf[r];a==null&&(a=s.glyf[r]=e.glyf._parseGlyf(s,r)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(r,s){for(var o=0;o<r.noc;o++){for(var a=o==0?0:r.endPts[o-1]+1,l=r.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,d=c==l?a:c+1,f=1&r.flags[c],m=1&r.flags[u],v=1&r.flags[d],y=r.xs[c],x=r.ys[c];if(c==a)if(f){if(!m){e.U.P.moveTo(s,y,x);continue}e.U.P.moveTo(s,r.xs[u],r.ys[u])}else m?e.U.P.moveTo(s,r.xs[u],r.ys[u]):e.U.P.moveTo(s,(r.xs[u]+y)/2,(r.ys[u]+x)/2);f?m&&e.U.P.lineTo(s,y,x):v?e.U.P.qcurveTo(s,y,x,r.xs[d],r.ys[d]):e.U.P.qcurveTo(s,y,x,(y+r.xs[d])/2,(x+r.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,o){for(var a=0;a<r.parts.length;a++){var l={cmds:[],crds:[]},c=r.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,d=0;d<l.crds.length;d+=2){var f=l.crds[d],m=l.crds[d+1];o.crds.push(f*u.a+m*u.b+u.tx),o.crds.push(f*u.c+m*u.d+u.ty)}for(d=0;d<l.cmds.length;d++)o.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(r,s){var o=e._lctf.getInterval(s,r);return o==-1?0:s[o+2]},e.U._applySubs=function(r,s,o,a){for(var l=r.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,d=o.tabs[c];if(!d.coverage||(u=e._lctf.coverageIndex(d.coverage,r[s]))!=-1){if(o.ltype==1)r[s],d.fmt==1?r[s]=r[s]+d.delta:r[s]=d.newg[u];else if(o.ltype==4)for(var f=d.vals[u],m=0;m<f.length;m++){var v=f[m],y=v.chain.length;if(!(y>l)){for(var x=!0,g=0,_=0;_<y;_++){for(;r[s+g+(1+_)]==-1;)g++;v.chain[_]!=r[s+g+(1+_)]&&(x=!1)}if(x){for(r[s]=v.nglyph,_=0;_<y+g;_++)r[s+_+1]=-1;break}}}else if(o.ltype==5&&d.fmt==2)for(var S=e._lctf.getInterval(d.cDef,r[s]),b=d.cDef[S+2],E=d.scset[b],C=0;C<E.length;C++){var P=E[C],R=P.input;if(!(R.length>l)){for(x=!0,_=0;_<R.length;_++){var I=e._lctf.getInterval(d.cDef,r[s+1+_]);if(S==-1&&d.cDef[I+2]!=R[_]){x=!1;break}}if(x){var T=P.substLookupRecords;for(m=0;m<T.length;m+=2)T[m],T[m+1]}}}else if(o.ltype==6&&d.fmt==3){if(!e.U._glsCovered(r,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(r,d.inptCvg,s)||!e.U._glsCovered(r,d.ahedCvg,s+d.inptCvg.length))continue;var O=d.lookupRec;for(C=0;C<O.length;C+=2){S=O[C];var U=a[O[C+1]];e.U._applySubs(r,s+S,U,a)}}}}},e.U._glsCovered=function(r,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],r[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var d=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,f=e.U.glyphToPath(r,u),m=0;m<f.crds.length;m+=2)a.crds.push(f.crds[m]+l),a.crds.push(f.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<f.cmds.length;m++)a.cmds.push(f.cmds[m]);o&&a.cmds.push("X"),l+=r.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(r,u,d))}}return a},e.U.P={},e.U.P.moveTo=function(r,s,o){r.cmds.push("M"),r.crds.push(s,o)},e.U.P.lineTo=function(r,s,o){r.cmds.push("L"),r.crds.push(s,o)},e.U.P.curveTo=function(r,s,o,a,l,c,u){r.cmds.push("C"),r.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(r,s,o,a,l){r.cmds.push("Q"),r.crds.push(s,o,a,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,o,a,l){for(var c=s.stack,u=s.nStems,d=s.haveWidth,f=s.width,m=s.open,v=0,y=s.x,x=s.y,g=0,_=0,S=0,b=0,E=0,C=0,P=0,R=0,I=0,T=0,O={val:0,size:0};v<r.length;){e.CFF.getCharString(r,v,O);var U=O.val;if(v+=O.size,U=="o1"||U=="o18")c.length%2!=0&&!d&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(U=="o3"||U=="o23")c.length%2!=0&&!d&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(U=="o4")c.length>1&&!d&&(f=c.shift()+a.nominalWidthX,d=!0),m&&e.U.P.closePath(l),x+=c.pop(),e.U.P.moveTo(l,y,x),m=!0;else if(U=="o5")for(;c.length>0;)y+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,y,x);else if(U=="o6"||U=="o7")for(var j=c.length,W=U=="o6",ee=0;ee<j;ee++){var K=c.shift();W?y+=K:x+=K,W=!W,e.U.P.lineTo(l,y,x)}else if(U=="o8"||U=="o24"){j=c.length;for(var ne=0;ne+6<=j;)g=y+c.shift(),_=x+c.shift(),S=g+c.shift(),b=_+c.shift(),y=S+c.shift(),x=b+c.shift(),e.U.P.curveTo(l,g,_,S,b,y,x),ne+=6;U=="o24"&&(y+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,y,x))}else{if(U=="o11")break;if(U=="o1234"||U=="o1235"||U=="o1236"||U=="o1237")U=="o1234"&&(_=x,S=(g=y+c.shift())+c.shift(),T=b=_+c.shift(),C=b,R=x,y=(P=(E=(I=S+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,g,_,S,b,I,T),e.U.P.curveTo(l,E,C,P,R,y,x)),U=="o1235"&&(g=y+c.shift(),_=x+c.shift(),S=g+c.shift(),b=_+c.shift(),I=S+c.shift(),T=b+c.shift(),E=I+c.shift(),C=T+c.shift(),P=E+c.shift(),R=C+c.shift(),y=P+c.shift(),x=R+c.shift(),c.shift(),e.U.P.curveTo(l,g,_,S,b,I,T),e.U.P.curveTo(l,E,C,P,R,y,x)),U=="o1236"&&(g=y+c.shift(),_=x+c.shift(),S=g+c.shift(),T=b=_+c.shift(),C=b,P=(E=(I=S+c.shift())+c.shift())+c.shift(),R=C+c.shift(),y=P+c.shift(),e.U.P.curveTo(l,g,_,S,b,I,T),e.U.P.curveTo(l,E,C,P,R,y,x)),U=="o1237"&&(g=y+c.shift(),_=x+c.shift(),S=g+c.shift(),b=_+c.shift(),I=S+c.shift(),T=b+c.shift(),E=I+c.shift(),C=T+c.shift(),P=E+c.shift(),R=C+c.shift(),Math.abs(P-y)>Math.abs(R-x)?y=P+c.shift():x=R+c.shift(),e.U.P.curveTo(l,g,_,S,b,I,T),e.U.P.curveTo(l,E,C,P,R,y,x));else if(U=="o14"){if(c.length>0&&!d&&(f=c.shift()+o.nominalWidthX,d=!0),c.length==4){var k=c.shift(),B=c.shift(),H=c.shift(),F=c.shift(),Y=e.CFF.glyphBySE(o,H),ie=e.CFF.glyphBySE(o,F);e.U._drawCFF(o.CharStrings[Y],s,o,a,l),s.x=k,s.y=B,e.U._drawCFF(o.CharStrings[ie],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(U=="o19"||U=="o20")c.length%2!=0&&!d&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0,v+=u+7>>3;else if(U=="o21")c.length>2&&!d&&(f=c.shift()+a.nominalWidthX,d=!0),x+=c.pop(),y+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,x),m=!0;else if(U=="o22")c.length>1&&!d&&(f=c.shift()+a.nominalWidthX,d=!0),y+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,x),m=!0;else if(U=="o25"){for(;c.length>6;)y+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,y,x);g=y+c.shift(),_=x+c.shift(),S=g+c.shift(),b=_+c.shift(),y=S+c.shift(),x=b+c.shift(),e.U.P.curveTo(l,g,_,S,b,y,x)}else if(U=="o26")for(c.length%2&&(y+=c.shift());c.length>0;)g=y,_=x+c.shift(),y=S=g+c.shift(),x=(b=_+c.shift())+c.shift(),e.U.P.curveTo(l,g,_,S,b,y,x);else if(U=="o27")for(c.length%2&&(x+=c.shift());c.length>0;)_=x,S=(g=y+c.shift())+c.shift(),b=_+c.shift(),y=S+c.shift(),x=b,e.U.P.curveTo(l,g,_,S,b,y,x);else if(U=="o10"||U=="o29"){var $=U=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var te=c.pop(),oe=$.Subrs[te+$.Bias];s.x=y,s.y=x,s.nStems=u,s.haveWidth=d,s.width=f,s.open=m,e.U._drawCFF(oe,s,o,a,l),y=s.x,x=s.y,u=s.nStems,d=s.haveWidth,f=s.width,m=s.open}}else if(U=="o30"||U=="o31"){var se=c.length,ve=(ne=0,U=="o31");for(ne+=se-(j=-3&se);ne<j;)ve?(_=x,S=(g=y+c.shift())+c.shift(),x=(b=_+c.shift())+c.shift(),j-ne==5?(y=S+c.shift(),ne++):y=S,ve=!1):(g=y,_=x+c.shift(),S=g+c.shift(),b=_+c.shift(),y=S+c.shift(),j-ne==5?(x=b+c.shift(),ne++):x=b,ve=!0),e.U.P.curveTo(l,g,_,S,b,y,x),ne+=4}else{if((U+"").charAt(0)=="o")throw console.debug("Unknown operation: "+U,r),U;c.push(U)}}}s.x=y,s.y=x,s.nStems=u,s.haveWidth=d,s.width=f,s.open=m};var t=e,i={Typr:t};return n.Typr=t,n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Dle(){return function(n){var e=Uint8Array,t=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(U,j){for(var W=new t(31),ee=0;ee<31;++ee)W[ee]=j+=1<<U[ee-1];var K=new i(W[30]);for(ee=1;ee<30;++ee)for(var ne=W[ee];ne<W[ee+1];++ne)K[ne]=ne-W[ee]<<5|ee;return[W,K]},l=a(r,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=a(s,0)[0],f=new t(32768),m=0;m<32768;++m){var v=(43690&m)>>>1|(21845&m)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,f[m]=((65280&v)>>>8|(255&v)<<8)>>>1}var y=function(U,j,W){for(var ee=U.length,K=0,ne=new t(j);K<ee;++K)++ne[U[K]-1];var k,B=new t(j);for(K=0;K<j;++K)B[K]=B[K-1]+ne[K-1]<<1;{k=new t(1<<j);var H=15-j;for(K=0;K<ee;++K)if(U[K])for(var F=K<<4|U[K],Y=j-U[K],ie=B[U[K]-1]++<<Y,$=ie|(1<<Y)-1;ie<=$;++ie)k[f[ie]>>>H]=F}return k},x=new e(288);for(m=0;m<144;++m)x[m]=8;for(m=144;m<256;++m)x[m]=9;for(m=256;m<280;++m)x[m]=7;for(m=280;m<288;++m)x[m]=8;var g=new e(32);for(m=0;m<32;++m)g[m]=5;var _=y(x,9),S=y(g,5),b=function(U){for(var j=U[0],W=1;W<U.length;++W)U[W]>j&&(j=U[W]);return j},E=function(U,j,W){var ee=j/8|0;return(U[ee]|U[ee+1]<<8)>>(7&j)&W},C=function(U,j){var W=j/8|0;return(U[W]|U[W+1]<<8|U[W+2]<<16)>>(7&j)},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(U,j,W){var ee=new Error(j||P[U]);if(ee.code=U,Error.captureStackTrace&&Error.captureStackTrace(ee,R),!W)throw ee;return ee},I=function(U,j,W){var ee=U.length;if(!ee||W&&!W.l&&ee<5)return j||new e(0);var K=!j||W,ne=!W||W.i;W||(W={}),j||(j=new e(3*ee));var k,B=function(He){var Q=j.length;if(He>Q){var de=new e(Math.max(2*Q,He));de.set(j),j=de}},H=W.f||0,F=W.p||0,Y=W.b||0,ie=W.l,$=W.d,te=W.m,oe=W.n,se=8*ee;do{if(!ie){W.f=H=E(U,F,1);var ve=E(U,F+1,3);if(F+=3,!ve){var Ue=U[(ye=((k=F)/8|0)+(7&k&&1)+4)-4]|U[ye-3]<<8,Ne=ye+Ue;if(Ne>ee){ne&&R(0);break}K&&B(Y+Ue),j.set(U.subarray(ye,Ne),Y),W.b=Y+=Ue,W.p=F=8*Ne;continue}if(ve==1)ie=_,$=S,te=9,oe=5;else if(ve==2){var Oe=E(U,F,31)+257,Pe=E(U,F+10,15)+4,We=Oe+E(U,F+5,31)+1;F+=14;for(var G=new e(We),Re=new e(19),we=0;we<Pe;++we)Re[o[we]]=E(U,F+3*we,7);F+=3*Pe;var De=b(Re),ae=(1<<De)-1,Ae=y(Re,De);for(we=0;we<We;){var ye,ue=Ae[E(U,F,ae)];if(F+=15&ue,(ye=ue>>>4)<16)G[we++]=ye;else{var je=0,V=0;for(ye==16?(V=3+E(U,F,3),F+=2,je=G[we-1]):ye==17?(V=3+E(U,F,7),F+=3):ye==18&&(V=11+E(U,F,127),F+=7);V--;)G[we++]=je}}var N=G.subarray(0,Oe),re=G.subarray(Oe);te=b(N),oe=b(re),ie=y(N,te),$=y(re,oe)}else R(1);if(F>se){ne&&R(0);break}}K&&B(Y+131072);for(var _e=(1<<te)-1,ge=(1<<oe)-1,fe=F;;fe=F){var ze=(je=ie[C(U,F)&_e])>>>4;if((F+=15&je)>se){ne&&R(0);break}if(je||R(2),ze<256)j[Y++]=ze;else{if(ze==256){fe=F,ie=null;break}var Be=ze-254;if(ze>264){var Xe=r[we=ze-257];Be=E(U,F,(1<<Xe)-1)+c[we],F+=Xe}var Ye=$[C(U,F)&ge],be=Ye>>>4;if(Ye||R(3),F+=15&Ye,re=d[be],be>3&&(Xe=s[be],re+=C(U,F)&(1<<Xe)-1,F+=Xe),F>se){ne&&R(0);break}K&&B(Y+131072);for(var Ve=Y+Be;Y<Ve;Y+=4)j[Y]=j[Y-re],j[Y+1]=j[Y+1-re],j[Y+2]=j[Y+2-re],j[Y+3]=j[Y+3-re];Y=Ve}}W.l=ie,W.p=fe,W.b=Y,ie&&(H=1,W.m=te,W.d=$,W.n=oe)}while(!H);return Y==j.length?j:function(He,Q,de){(de==null||de>He.length)&&(de=He.length);var Ee=new(He instanceof t?t:He instanceof i?i:e)(de-Q);return Ee.set(He.subarray(Q,de)),Ee}(j,0,Y)},T=new e(0),O=typeof TextDecoder<"u"&&new TextDecoder;try{O.decode(T,{stream:!0})}catch{}return n.convert_streams=function(U){var j=new DataView(U),W=0;function ee(){var Oe=j.getUint16(W);return W+=2,Oe}function K(){var Oe=j.getUint32(W);return W+=4,Oe}function ne(Oe){Ue.setUint16(Ne,Oe),Ne+=2}function k(Oe){Ue.setUint32(Ne,Oe),Ne+=4}for(var B={signature:K(),flavor:K(),length:K(),numTables:ee(),reserved:ee(),totalSfntSize:K(),majorVersion:ee(),minorVersion:ee(),metaOffset:K(),metaLength:K(),metaOrigLength:K(),privOffset:K(),privLength:K()},H=0;Math.pow(2,H)<=B.numTables;)H++;H--;for(var F=16*Math.pow(2,H),Y=16*B.numTables-F,ie=12,$=[],te=0;te<B.numTables;te++)$.push({tag:K(),offset:K(),compLength:K(),origLength:K(),origChecksum:K()}),ie+=16;var oe,se=new Uint8Array(12+16*$.length+$.reduce(function(Oe,Pe){return Oe+Pe.origLength+4},0)),ve=se.buffer,Ue=new DataView(ve),Ne=0;return k(B.flavor),ne(B.numTables),ne(F),ne(H),ne(Y),$.forEach(function(Oe){k(Oe.tag),k(Oe.origChecksum),k(ie),k(Oe.origLength),Oe.outOffset=ie,(ie+=Oe.origLength)%4!=0&&(ie+=4-ie%4)}),$.forEach(function(Oe){var Pe,We=U.slice(Oe.offset,Oe.offset+Oe.compLength);if(Oe.compLength!=Oe.origLength){var G=new Uint8Array(Oe.origLength);Pe=new Uint8Array(We,2),I(Pe,G)}else G=new Uint8Array(We);se.set(G,Oe.outOffset);var Re=0;(ie=Oe.outOffset+Oe.origLength)%4!=0&&(Re=4-ie%4),se.set(new Uint8Array(Re).buffer,Oe.outOffset+Oe.origLength),oe=ie+Re}),ve.slice(0,oe)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function Lle(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,o=4,a=8,l=16,c=32;let u;function d(P){if(!u){const R={R:s,L:r,D:o,C:l,U:c,T:a};u=new Map;for(let I in i){let T=0;i[I].split(",").forEach(O=>{let[U,j]=O.split("+");U=parseInt(U,36),j=j?parseInt(j,36):0,u.set(T+=U,R[I]);for(let W=j;W--;)u.set(++T,R[I])})}}return u.get(P)||c}const f=1,m=2,v=3,y=4,x=[null,"isol","init","fina","medi"];function g(P){const R=new Uint8Array(P.length);let I=c,T=f,O=-1;for(let U=0;U<P.length;U++){const j=P.codePointAt(U);let W=d(j)|0,ee=f;W&a||(I&(r|o|l)?W&(s|o|l)?(ee=v,(T===f||T===v)&&R[O]++):W&(r|c)&&(T===m||T===y)&&R[O]--:I&(s|c)&&(T===m||T===y)&&R[O]--,T=R[U]=ee,I=W,O=U,j>65535&&U++)}return R}function _(P,R){const I=[];for(let O=0;O<R.length;O++){const U=R.codePointAt(O);U>65535&&O++,I.push(n.U.codeToGlyph(P,U))}const T=P.GSUB;if(T){const{lookupList:O,featureList:U}=T;let j;const W=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ee=[];U.forEach(K=>{if(W.test(K.tag))for(let ne=0;ne<K.tab.length;ne++){if(ee[K.tab[ne]])continue;ee[K.tab[ne]]=!0;const k=O[K.tab[ne]],B=/^(isol|init|fina|medi)$/.test(K.tag);B&&!j&&(j=g(R));for(let H=0;H<I.length;H++)(!j||!B||x[j[H]]===K.tag)&&n.U._applySubs(I,H,k,O)}})}return I}function S(P,R){const I=new Int16Array(R.length*3);let T=0;for(;T<R.length;T++){const W=R[T];if(W===-1)continue;I[T*3+2]=P.hmtx.aWidth[W];const ee=P.GPOS;if(ee){const K=ee.lookupList;for(let ne=0;ne<K.length;ne++){const k=K[ne];for(let B=0;B<k.tabs.length;B++){const H=k.tabs[B];if(k.ltype===1){if(n._lctf.coverageIndex(H.coverage,W)!==-1&&H.pos){j(H.pos,T);break}}else if(k.ltype===2){let F=null,Y=O();if(Y!==-1){const ie=n._lctf.coverageIndex(H.coverage,R[Y]);if(ie!==-1){if(H.fmt===1){const $=H.pairsets[ie];for(let te=0;te<$.length;te++)$[te].gid2===W&&(F=$[te])}else if(H.fmt===2){const $=n.U._getGlyphClass(R[Y],H.classDef1),te=n.U._getGlyphClass(W,H.classDef2);F=H.matrix[$][te]}if(F){F.val1&&j(F.val1,Y),F.val2&&j(F.val2,T);break}}}}else if(k.ltype===4){const F=n._lctf.coverageIndex(H.markCoverage,W);if(F!==-1){const Y=O(U),ie=Y===-1?-1:n._lctf.coverageIndex(H.baseCoverage,R[Y]);if(ie!==-1){const $=H.markArray[F],te=H.baseArray[ie][$.markClass];I[T*3]=te.x-$.x+I[Y*3]-I[Y*3+2],I[T*3+1]=te.y-$.y+I[Y*3+1];break}}}else if(k.ltype===6){const F=n._lctf.coverageIndex(H.mark1Coverage,W);if(F!==-1){const Y=O();if(Y!==-1){const ie=R[Y];if(b(P,ie)===3){const $=n._lctf.coverageIndex(H.mark2Coverage,ie);if($!==-1){const te=H.mark1Array[F],oe=H.mark2Array[$][te.markClass];I[T*3]=oe.x-te.x+I[Y*3]-I[Y*3+2],I[T*3+1]=oe.y-te.y+I[Y*3+1];break}}}}}}}}else if(P.kern&&!P.cff){const K=O();if(K!==-1){const ne=P.kern.glyph1.indexOf(R[K]);if(ne!==-1){const k=P.kern.rval[ne].glyph2.indexOf(W);k!==-1&&(I[K*3+2]+=P.kern.rval[ne].vals[k])}}}}return I;function O(W){for(let ee=T-1;ee>=0;ee--)if(R[ee]!==-1&&(!W||W(R[ee])))return ee;return-1}function U(W){return b(P,W)===1}function j(W,ee){for(let K=0;K<3;K++)I[ee*3+K]+=W[K]||0}}function b(P,R){const I=P.GDEF&&P.GDEF.glyphClassDef;return I?n.U._getGlyphClass(R,I):0}function E(...P){for(let R=0;R<P.length;R++)if(typeof P[R]=="number")return P[R]}function C(P){const R=Object.create(null),I=P["OS/2"],T=P.hhea,O=P.head.unitsPerEm,U=E(I&&I.sTypoAscender,T&&T.ascender,O),j={unitsPerEm:O,ascender:U,descender:E(I&&I.sTypoDescender,T&&T.descender,0),capHeight:E(I&&I.sCapHeight,U),xHeight:E(I&&I.sxHeight,U),lineGap:E(I&&I.sTypoLineGap,T&&T.lineGap),supportsCodePoint(W){return n.U.codeToGlyph(P,W)>0},forEachGlyph(W,ee,K,ne){let k=0;const B=1/j.unitsPerEm*ee,H=_(P,W);let F=0;const Y=S(P,H);return H.forEach((ie,$)=>{if(ie!==-1){let te=R[ie];if(!te){const{cmds:oe,crds:se}=n.U.glyphToPath(P,ie);let ve="",Ue=0;for(let G=0,Re=oe.length;G<Re;G++){const we=t[oe[G]];ve+=oe[G];for(let De=1;De<=we;De++)ve+=(De>1?",":"")+se[Ue++]}let Ne,Oe,Pe,We;if(se.length){Ne=Oe=1/0,Pe=We=-1/0;for(let G=0,Re=se.length;G<Re;G+=2){let we=se[G],De=se[G+1];we<Ne&&(Ne=we),De<Oe&&(Oe=De),we>Pe&&(Pe=we),De>We&&(We=De)}}else Ne=Pe=Oe=We=0;te=R[ie]={index:ie,advanceWidth:P.hmtx.aWidth[ie],xMin:Ne,yMin:Oe,xMax:Pe,yMax:We,path:ve}}ne.call(null,te,k+Y[$*3]*B,Y[$*3+1]*B,F),k+=Y[$*3+2]*B,K&&(k+=K*ee)}F+=W.codePointAt(F)>65535?2:1}),k}};return j}return function(R){const I=new Uint8Array(R,0,4),T=n._bin.readASCII(I,0,4);if(T==="wOFF")R=e(R);else if(T==="wOF2")throw new Error("woff2 fonts not supported");return C(n.parse(R)[0])}}const kle=Hf({name:"Typr Font Parser",dependencies:[Ile,Dle,Lle],init(n,e,t){const i=n(),r=e();return t(i,r)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Nle(){return function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(S){var b=S>>5;this.buckets.set(b,(this.buckets.get(b)||0)|1<<(31&S))},e.prototype.has=function(S){var b=this.buckets.get(S>>5);return b!==void 0&&(b&1<<(31&S))!=0},e.prototype.serialize=function(){var S=[];return this.buckets.forEach(function(b,E){S.push((+E).toString(36)+":"+b.toString(36))}),S.join(",")},e.prototype.deserialize=function(S){var b=this;this.buckets.clear(),S.split(",").forEach(function(E){var C=E.split(":");b.buckets.set(parseInt(C[0],36),parseInt(C[1],36))})};var t=Math.pow(2,8),i=t-1,r=~i;function s(S){var b=function(C){return C&r}(S).toString(16),E=function(C){return(C&r)+t-1}(S).toString(16);return"codepoint-index/plane"+(S>>16)+"/"+b+"-"+E+".json"}function o(S,b){var E=S&i,C=b.codePointAt(E/6|0);return((C=(C||48)-48)&1<<E%6)!=0}function a(S,b){var E;(E=S,E.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(C){return C.split("-").map(function(P){return parseInt(P.trim(),16)})})).forEach(function(C){var P=C[0],R=C[1];R===void 0&&(R=P),b(P,R)})}function l(S,b){a(S,function(E,C){for(var P=E;P<=C;P++)b(P)})}var c={},u={},d=new WeakMap,f="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(S){var b=d.get(S);return b||(b=new e,l(S.ranges,function(E){return b.add(E)}),d.set(S,b)),b}var v,y=new Map;function x(S,b,E){return S[b]?b:S[E]?E:function(C){for(var P in C)return P}(S)}function g(S,b){var E=b;if(!S.includes(E)){E=1/0;for(var C=0;C<S.length;C++)Math.abs(S[C]-b)<Math.abs(E-b)&&(E=S[C])}return E}function _(S){return v||(v=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(b){v.add(b)})),v.has(S)}return n.CodePointSet=e,n.clearCache=function(){c={},u={}},n.getFontsForString=function(S,b){b===void 0&&(b={});var E,C=b.lang;C===void 0&&(C=new RegExp("\\p{Script=Hangul}","u").test(E=S)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(E)?"ja":"en");var P=b.category;P===void 0&&(P="sans-serif");var R=b.style;R===void 0&&(R="normal");var I=b.weight;I===void 0&&(I=400);var T=(b.dataUrl||f).replace(/\/$/g,""),O=new Map,U=new Uint8Array(S.length),j={},W={},ee=new Array(S.length),K=new Map,ne=!1;function k(F){var Y=y.get(F);return Y||(Y=fetch(T+"/"+F).then(function(ie){if(!ie.ok)throw new Error(ie.statusText);return ie.json().then(function($){if(!Array.isArray($)||$[0]!==1)throw new Error("Incorrect schema version; need 1, got "+$[0]);return $[1]})}).catch(function(ie){if(T!==f)return ne||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+T+'", trying default CDN. '+ie.message),ne=!0),T=f,y.delete(F),k(F);throw ie}),y.set(F,Y)),Y}for(var B=function(F){var Y=S.codePointAt(F),ie=s(Y);ee[F]=ie,c[ie]||K.has(ie)||K.set(ie,k(ie).then(function($){c[ie]=$})),Y>65535&&(F++,H=F)},H=0;H<S.length;H++)B(H);return Promise.all(K.values()).then(function(){K.clear();for(var F=function(ie){var $=S.codePointAt(ie),te=null,oe=c[ee[ie]],se=void 0;for(var ve in oe){var Ue=W[ve];if(Ue===void 0&&(Ue=W[ve]=new RegExp(ve).test(C||"en")),Ue){for(var Ne in se=ve,oe[ve])if(o($,oe[ve][Ne])){te=Ne;break}break}}if(!te){e:for(var Oe in oe)if(Oe!==se){for(var Pe in oe[Oe])if(o($,oe[Oe][Pe])){te=Pe;break e}}}te||(console.debug("No font coverage for U+"+$.toString(16)),te="latin"),ee[ie]=te,u[te]||K.has(te)||K.set(te,k("font-meta/"+te+".json").then(function(We){u[te]=We})),$>65535&&(ie++,Y=ie)},Y=0;Y<S.length;Y++)F(Y);return Promise.all(K.values())}).then(function(){for(var F,Y=null,ie=0;ie<S.length;ie++){var $=S.codePointAt(ie);if(Y&&(_($)||m(Y).has($)))U[ie]=U[ie-1];else{Y=u[ee[ie]];var te=j[Y.id];if(!te){var oe=Y.typeforms,se=x(oe,P,"sans-serif"),ve=x(oe[se],R,"normal"),Ue=g((F=oe[se])===null||F===void 0?void 0:F[ve],I);te=j[Y.id]=T+"/font-files/"+Y.id+"/"+se+"."+ve+"."+Ue+".woff"}var Ne=O.get(te);Ne==null&&(Ne=O.size,O.set(te,Ne)),U[ie]=Ne}$>65535&&(ie++,U[ie]=U[ie-1])}return{fontUrls:Array.from(O.keys()),chars:U}})},Object.defineProperty(n,"__esModule",{value:!0}),n}({})}function Ole(n,e){const t=Object.create(null),i=Object.create(null);function r(o,a){const l=c=>{console.error(`Failure loading font ${o}`,c)};try{const c=new XMLHttpRequest;c.open("get",o,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=n(c.response);u.src=o,a(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(o,a){let l=t[o];l?a(l):i[o]?i[o].push(a):(i[o]=[a],r(o,c=>{c.src=o,t[o]=c,i[o].forEach(u=>u(c)),delete i[o]}))}return function(o,a,{lang:l,fonts:c=[],style:u="normal",weight:d="normal",unicodeFontsURL:f}={}){const m=new Uint8Array(o.length),v=[];o.length||_();const y=new Map,x=[];if(u!=="italic"&&(u="normal"),typeof d!="number"&&(d=d==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(b=>!b.lang||b.lang.test(l)).reverse(),c.length){let P=0;(function R(I=0){for(let T=I,O=o.length;T<O;T++){const U=o.codePointAt(T);if(P===1&&v[m[T-1]].supportsCodePoint(U)||T>0&&/\s/.test(o[T]))m[T]=m[T-1],P===2&&(x[x.length-1][1]=T);else for(let j=m[T],W=c.length;j<=W;j++)if(j===W){const ee=P===2?x[x.length-1]:x[x.length]=[T,T];ee[1]=T,P=2}else{m[T]=j;const{src:ee,unicodeRange:K}=c[j];if(!K||S(U,K)){const ne=t[ee];if(!ne){s(ee,()=>{R(T)});return}if(ne.supportsCodePoint(U)){let k=y.get(ne);typeof k!="number"&&(k=v.length,v.push(ne),y.set(ne,k)),m[T]=k,P=1;break}}}U>65535&&T+1<O&&(m[T+1]=m[T],T++,P===2&&(x[x.length-1][1]=T))}g()})()}else x.push([0,o.length-1]),g();function g(){if(x.length){const b=x.map(E=>o.substring(E[0],E[1]+1)).join(`
`);e.getFontsForString(b,{lang:l||void 0,style:u,weight:d,dataUrl:f}).then(({fontUrls:E,chars:C})=>{const P=v.length;let R=0;x.forEach(T=>{for(let O=0,U=T[1]-T[0];O<=U;O++)m[T[0]+O]=C[R++]+P;R++});let I=0;E.forEach((T,O)=>{s(T,U=>{v[O+P]=U,++I===E.length&&_()})})})}else _()}function _(){a({chars:m,fonts:v})}function S(b,E){for(let C=0;C<E.length;C++){const[P,R=P]=E[C];if(P<=b&&b<=R)return!0}return!1}}}const Ule=Hf({name:"FontResolver",dependencies:[Ole,kle,Nle],init(n,e,t){return n(e,t())}});function Fle(n,e){const i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",s=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:v,lang:y,fonts:x,style:g,weight:_,preResolvedFonts:S,unicodeFontsURL:b},E){const C=({chars:P,fonts:R})=>{let I,T;const O=[];for(let U=0;U<P.length;U++)P[U]!==T?(T=P[U],O.push(I={start:U,end:U,fontObj:R[P[U]]})):I.end=U;E(O)};S?C(S):n(v,C,{lang:y,fonts:x,style:g,weight:_,unicodeFontsURL:b})}function a({text:v="",font:y,lang:x,sdfGlyphSize:g=64,fontSize:_=400,fontWeight:S=1,fontStyle:b="normal",letterSpacing:E=0,lineHeight:C="normal",maxWidth:P=1/0,direction:R,textAlign:I="left",textIndent:T=0,whiteSpace:O="normal",overflowWrap:U="normal",anchorX:j=0,anchorY:W=0,metricsOnly:ee=!1,unicodeFontsURL:K,preResolvedFonts:ne=null,includeCaretPositions:k=!1,chunkedBoundsSize:B=8192,colorRanges:H=null},F){const Y=d(),ie={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,E=+E,P=+P,C=C||"normal",T=+T,o({text:v,lang:x,style:b,weight:S,fonts:typeof y=="string"?[{src:y}]:y,unicodeFontsURL:K,preResolvedFonts:ne},$=>{ie.fontLoad=d()-Y;const te=isFinite(P);let oe=null,se=null,ve=null,Ue=null,Ne=null,Oe=null,Pe=null,We=null,G=0,Re=0,we=O!=="nowrap";const De=new Map,ae=d();let Ae=T,ye=0,ue=new f;const je=[ue];$.forEach(ge=>{const{fontObj:fe}=ge,{ascender:ze,descender:Be,unitsPerEm:Xe,lineGap:Ye,capHeight:be,xHeight:Ve}=fe;let He=De.get(fe);if(!He){const xe=_/Xe,Te=C==="normal"?(ze-Be+Ye)*xe:C*_,$e=(Te-(ze-Be)*xe)/2,ke=Math.min(Te,(ze-Be)*xe),Se=(ze+Be)/2*xe+ke/2;He={index:De.size,src:fe.src,fontObj:fe,fontSizeMult:xe,unitsPerEm:Xe,ascender:ze*xe,descender:Be*xe,capHeight:be*xe,xHeight:Ve*xe,lineHeight:Te,baseline:-$e-ze*xe,caretTop:Se,caretBottom:Se-ke},De.set(fe,He)}const{fontSizeMult:Q}=He,de=v.slice(ge.start,ge.end+1);let Ee,Z;fe.forEachGlyph(de,_,E,(xe,Te,$e,ke)=>{Te+=ye,ke+=ge.start,Ee=Te,Z=xe;const Se=v.charAt(ke),Ke=xe.advanceWidth*Q,nt=ue.count;let rt;if("isEmpty"in xe||(xe.isWhitespace=!!Se&&new RegExp(r).test(Se),xe.canBreakAfter=!!Se&&s.test(Se),xe.isEmpty=xe.xMin===xe.xMax||xe.yMin===xe.yMax||i.test(Se)),!xe.isWhitespace&&!xe.isEmpty&&Re++,we&&te&&!xe.isWhitespace&&Te+Ke+Ae>P&&nt){if(ue.glyphAt(nt-1).glyphObj.canBreakAfter)rt=new f,Ae=-Te;else for(let Yt=nt;Yt--;)if(Yt===0&&U==="break-word"){rt=new f,Ae=-Te;break}else if(ue.glyphAt(Yt).glyphObj.canBreakAfter){rt=ue.splitAt(Yt+1);const Zt=rt.glyphAt(0).x;Ae-=Zt;for(let mn=rt.count;mn--;)rt.glyphAt(mn).x-=Zt;break}rt&&(ue.isSoftWrapped=!0,ue=rt,je.push(ue),G=P)}let gt=ue.glyphAt(ue.count);gt.glyphObj=xe,gt.x=Te+Ae,gt.y=$e,gt.width=Ke,gt.charIndex=ke,gt.fontData=He,Se===`
`&&(ue=new f,je.push(ue),Ae=-(Te+Ke+E*_)+T)}),ye=Ee+Z.advanceWidth*Q+E*_});let V=0;je.forEach(ge=>{let fe=!0;for(let ze=ge.count;ze--;){const Be=ge.glyphAt(ze);fe&&!Be.glyphObj.isWhitespace&&(ge.width=Be.x+Be.width,ge.width>G&&(G=ge.width),fe=!1);let{lineHeight:Xe,capHeight:Ye,xHeight:be,baseline:Ve}=Be.fontData;Xe>ge.lineHeight&&(ge.lineHeight=Xe);const He=Ve-ge.baseline;He<0&&(ge.baseline+=He,ge.cap+=He,ge.ex+=He),ge.cap=Math.max(ge.cap,ge.baseline+Ye),ge.ex=Math.max(ge.ex,ge.baseline+be)}ge.baseline-=V,ge.cap-=V,ge.ex-=V,V+=ge.lineHeight});let N=0,re=0;if(j&&(typeof j=="number"?N=-j:typeof j=="string"&&(N=-G*(j==="left"?0:j==="center"?.5:j==="right"?1:c(j)))),W&&(typeof W=="number"?re=-W:typeof W=="string"&&(re=W==="top"?0:W==="top-baseline"?-je[0].baseline:W==="top-cap"?-je[0].cap:W==="top-ex"?-je[0].ex:W==="middle"?V/2:W==="bottom"?V:W==="bottom-baseline"?-je[je.length-1].baseline:c(W)*V)),!ee){const ge=e.getEmbeddingLevels(v,R);oe=new Uint16Array(Re),se=new Uint8Array(Re),ve=new Float32Array(Re*2),Ue={},Pe=[1/0,1/0,-1/0,-1/0],We=[],k&&(Oe=new Float32Array(v.length*4)),H&&(Ne=new Uint8Array(Re*3));let fe=0,ze=-1,Be=-1,Xe,Ye;if(je.forEach((be,Ve)=>{let{count:He,width:Q}=be;if(He>0){let de=0;for(let ke=He;ke--&&be.glyphAt(ke).glyphObj.isWhitespace;)de++;let Ee=0,Z=0;if(I==="center")Ee=(G-Q)/2;else if(I==="right")Ee=G-Q;else if(I==="justify"&&be.isSoftWrapped){let ke=0;for(let Se=He-de;Se--;)be.glyphAt(Se).glyphObj.isWhitespace&&ke++;Z=(G-Q)/ke}if(Z||Ee){let ke=0;for(let Se=0;Se<He;Se++){let Ke=be.glyphAt(Se);const nt=Ke.glyphObj;Ke.x+=Ee+ke,Z!==0&&nt.isWhitespace&&Se<He-de&&(ke+=Z,Ke.width+=Z)}}const xe=e.getReorderSegments(v,ge,be.glyphAt(0).charIndex,be.glyphAt(be.count-1).charIndex);for(let ke=0;ke<xe.length;ke++){const[Se,Ke]=xe[ke];let nt=1/0,rt=-1/0;for(let gt=0;gt<He;gt++)if(be.glyphAt(gt).charIndex>=Se){let Yt=gt,Zt=gt;for(;Zt<He;Zt++){let mn=be.glyphAt(Zt);if(mn.charIndex>Ke)break;Zt<He-de&&(nt=Math.min(nt,mn.x),rt=Math.max(rt,mn.x+mn.width))}for(let mn=Yt;mn<Zt;mn++){const Ii=be.glyphAt(mn);Ii.x=rt-(Ii.x+Ii.width-nt)}break}}let Te;const $e=ke=>Te=ke;for(let ke=0;ke<He;ke++){const Se=be.glyphAt(ke);Te=Se.glyphObj;const Ke=Te.index,nt=ge.levels[Se.charIndex]&1;if(nt){const rt=e.getMirroredCharacter(v[Se.charIndex]);rt&&Se.fontData.fontObj.forEachGlyph(rt,0,0,$e)}if(k){const{charIndex:rt,fontData:gt}=Se,Yt=Se.x+N,Zt=Se.x+Se.width+N;Oe[rt*4]=nt?Zt:Yt,Oe[rt*4+1]=nt?Yt:Zt,Oe[rt*4+2]=be.baseline+gt.caretBottom+re,Oe[rt*4+3]=be.baseline+gt.caretTop+re;const mn=rt-ze;mn>1&&u(Oe,ze,mn),ze=rt}if(H){const{charIndex:rt}=Se;for(;rt>Be;)Be++,H.hasOwnProperty(Be)&&(Ye=H[Be])}if(!Te.isWhitespace&&!Te.isEmpty){const rt=fe++,{fontSizeMult:gt,src:Yt,index:Zt}=Se.fontData,mn=Ue[Yt]||(Ue[Yt]={});mn[Ke]||(mn[Ke]={path:Te.path,pathBounds:[Te.xMin,Te.yMin,Te.xMax,Te.yMax]});const Ii=Se.x+N,ti=Se.y+be.baseline+re;ve[rt*2]=Ii,ve[rt*2+1]=ti;const wi=Ii+Te.xMin*gt,Fr=ti+Te.yMin*gt,Di=Ii+Te.xMax*gt,Li=ti+Te.yMax*gt;wi<Pe[0]&&(Pe[0]=wi),Fr<Pe[1]&&(Pe[1]=Fr),Di>Pe[2]&&(Pe[2]=Di),Li>Pe[3]&&(Pe[3]=Li),rt%B===0&&(Xe={start:rt,end:rt,rect:[1/0,1/0,-1/0,-1/0]},We.push(Xe)),Xe.end++;const jn=Xe.rect;if(wi<jn[0]&&(jn[0]=wi),Fr<jn[1]&&(jn[1]=Fr),Di>jn[2]&&(jn[2]=Di),Li>jn[3]&&(jn[3]=Li),oe[rt]=Ke,se[rt]=Zt,H){const xr=rt*3;Ne[xr]=Ye>>16&255,Ne[xr+1]=Ye>>8&255,Ne[xr+2]=Ye&255}}}}}),Oe){const be=v.length-ze;be>1&&u(Oe,ze,be)}}const _e=[];De.forEach(({index:ge,src:fe,unitsPerEm:ze,ascender:Be,descender:Xe,lineHeight:Ye,capHeight:be,xHeight:Ve})=>{_e[ge]={src:fe,unitsPerEm:ze,ascender:Be,descender:Xe,lineHeight:Ye,capHeight:be,xHeight:Ve}}),ie.typesetting=d()-ae,F({glyphIds:oe,glyphFontIndices:se,glyphPositions:ve,glyphData:Ue,fontData:_e,caretPositions:Oe,glyphColors:Ne,chunkedBounds:We,fontSize:_,topBaseline:re+je[0].baseline,blockBounds:[N,re-V,N+G,re],visibleBounds:Pe,timings:ie})})}function l(v,y){a({...v,metricsOnly:!0},x=>{const[g,_,S,b]=x.blockBounds;y({width:S-g,height:b-_})})}function c(v){let y=v.match(/^([\d.]+)%$/),x=y?parseFloat(y[1]):NaN;return isNaN(x)?0:x/100}function u(v,y,x){const g=v[y*4],_=v[y*4+1],S=v[y*4+2],b=v[y*4+3],E=(_-g)/x;for(let C=0;C<x;C++){const P=(y+C)*4;v[P]=g+E*C,v[P+1]=g+E*(C+1),v[P+2]=S,v[P+3]=b}}function d(){return(self.performance||Date).now()}function f(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return f.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(v){let y=f.flyweight;return y.data=this.data,y.index=v,y},splitAt(v){let y=new f;return y.data=this.data.splice(v*m.length),y}},f.flyweight=m.reduce((v,y,x,g)=>(Object.defineProperty(v,y,{get(){return this.data[this.index*m.length+x]},set(_){this.data[this.index*m.length+x]=_}}),v),{data:null,index:0}),{typeset:a,measure:l}}const tu=()=>(self.performance||Date).now(),E1=fB();let ED;function zle(n,e,t,i,r,s,o,a,l,c,u=!0){return u?Vle(n,e,t,i,r,s,o,a,l,c).then(null,d=>(ED||(console.warn("WebGL SDF generation failed, falling back to JS",d),ED=!0),CD(n,e,t,i,r,s,o,a,l,c))):CD(n,e,t,i,r,s,o,a,l,c)}const Dy=[],Ble=5;let kM=0;function pB(){const n=tu();for(;Dy.length&&tu()-n<Ble;)Dy.shift()();kM=Dy.length?setTimeout(pB,0):0}const Vle=(...n)=>new Promise((e,t)=>{Dy.push(()=>{const i=tu();try{E1.webgl.generateIntoCanvas(...n),e({timing:tu()-i})}catch(r){t(r)}}),kM||(kM=setTimeout(pB,0))}),Hle=4,Gle=2e3,TD={};let Wle=0;function CD(n,e,t,i,r,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+Wle++%Hle;let d=TD[u];return d||(d=TD[u]={workerModule:Hf({name:u,workerId:u,dependencies:[fB,tu],init(f,m){const v=f().javascript.generate;return function(...y){const x=m();return{textureData:v(...y),timing:m()-x}}},getTransferables(f){return[f.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(n,e,t,i,r,s).then(({textureData:f,timing:m})=>{const v=tu(),y=new Uint8Array(f.length*4);for(let x=0;x<f.length;x++)y[x*4+c]=f[x];return E1.webglUtils.renderImageData(o,y,a,l,n,e,1<<3-c),m+=tu()-v,--d.requests===0&&(d.idleTimer=setTimeout(()=>{wle(u)},Gle)),{timing:m}})}function jle(n){n._warm||(E1.webgl.isSupported(n),n._warm=!0)}const Xle=E1.webglUtils.resizeWebGLCanvasWithoutClearing,pd={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Yle=new at;function dd(){return(self.performance||Date).now()}const AD=Object.create(null);function mB(n,e){n=$le({},n);const t=dd(),{defaultFontURL:i}=pd,r=[];if(i&&r.push({label:"default",src:PD(i)}),n.font&&r.push({label:"user",src:PD(n.font)}),n.font=r,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||pd.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||pd.unicodeFontsURL,n.colorRanges!=null){let m={};for(let v in n.colorRanges)if(n.colorRanges.hasOwnProperty(v)){let y=n.colorRanges[v];typeof y!="number"&&(y=Yle.set(y).getHex()),m[v]=y}n.colorRanges=m}Object.freeze(n);const{textureWidth:s,sdfExponent:o}=pd,{sdfGlyphSize:a}=n,l=s/a*4;let c=AD[a];if(!c){const m=document.createElement("canvas");m.width=s,m.height=a*256/l,c=AD[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:m,sdfTexture:new An(m,void 0,void 0,void 0,Wn,Wn),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,qle(c)}const{sdfTexture:u,sdfCanvas:d}=c;yB(n).then(m=>{const{glyphIds:v,glyphFontIndices:y,fontData:x,glyphPositions:g,fontSize:_,timings:S}=m,b=[],E=new Float32Array(v.length*4);let C=0,P=0;const R=dd(),I=x.map(W=>{let ee=c.glyphsByFont.get(W.src);return ee||c.glyphsByFont.set(W.src,ee=new Map),ee});v.forEach((W,ee)=>{const K=y[ee],{src:ne,unitsPerEm:k}=x[K];let B=I[K].get(W);if(!B){const{path:$,pathBounds:te}=m.glyphData[ne][W],oe=Math.max(te[2]-te[0],te[3]-te[1])/a*(pd.sdfMargin*a+.5),se=c.glyphCount++,ve=[te[0]-oe,te[1]-oe,te[2]+oe,te[3]+oe];I[K].set(W,B={path:$,atlasIndex:se,sdfViewBox:ve}),b.push(B)}const{sdfViewBox:H}=B,F=g[P++],Y=g[P++],ie=_/k;E[C++]=F+H[0]*ie,E[C++]=Y+H[1]*ie,E[C++]=F+H[2]*ie,E[C++]=Y+H[3]*ie,v[ee]=B.atlasIndex}),S.quads=(S.quads||0)+(dd()-R);const T=dd();S.sdf={};const O=d.height,U=Math.ceil(c.glyphCount/l),j=Math.pow(2,Math.ceil(Math.log2(U*a)));j>O&&(console.info(`Increasing SDF texture size ${O}->${j}`),Xle(d,s,j),u.dispose()),Promise.all(b.map(W=>gB(W,c,n.gpuAccelerateSDF).then(({timing:ee})=>{S.sdf[W.atlasIndex]=ee}))).then(()=>{b.length&&!c.contextLost&&(vB(c),u.needsUpdate=!0),S.sdfTotal=dd()-T,S.total=dd()-t,e(Object.freeze({parameters:n,sdfTexture:u,sdfGlyphSize:a,sdfExponent:o,glyphBounds:E,glyphAtlasIndices:v,glyphColors:m.glyphColors,caretPositions:m.caretPositions,chunkedBounds:m.chunkedBounds,ascender:m.ascender,descender:m.descender,lineHeight:m.lineHeight,capHeight:m.capHeight,xHeight:m.xHeight,topBaseline:m.topBaseline,blockBounds:m.blockBounds,visibleBounds:m.visibleBounds,timings:m.timings}))})}),Promise.resolve().then(()=>{c.contextLost||jle(d)})}function gB({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:i,sdfCanvas:r,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=pd,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),d=u%(a/i)*i,f=Math.floor(u/(a/i))*i,m=e%4;return zle(i,i,n,t,c,l,r,d,f,m,o)}function qle(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const i=[];n.glyphsByFont.forEach(r=>{r.forEach(s=>{i.push(gB(s,n,!0))})}),Promise.all(i).then(()=>{vB(n),n.sdfTexture.needsUpdate=!0})})}function Kle({font:n,characters:e,sdfGlyphSize:t},i){let r=Array.isArray(e)?e.join(`
`):""+e;mB({font:n,sdfGlyphSize:t,text:r},i)}function $le(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let ry;function PD(n){return ry||(ry=typeof document>"u"?{}:document.createElement("a")),ry.href=n,ry.href}function vB(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:i,height:r}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==i*r*4)&&(o=new Uint8Array(i*r*4),t.image={width:i,height:r,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,o)}}const Zle=Hf({name:"Typesetter",dependencies:[Fle,Ule,ble],init(n,e,t){return n(e,t())}}),yB=Hf({name:"Typesetter",dependencies:[Zle],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}});yB.onMainThread;const RD={};function Qle(n){let e=RD[n];return e||(e=RD[n]=new ka(1,1,n,n).translate(.5,.5,0)),e}const Jle="aTroikaGlyphBounds",ID="aTroikaGlyphIndex",ece="aTroikaGlyphColor";class tce extends h2{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new xi,this.boundingBox=new yi}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Qle(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=t.attributes[i].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,r,s){this.updateAttributeData(Jle,e,4),this.updateAttributeData(ID,t,1),this.updateAttributeData(ece,s,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:i}=this;if(t){const{PI:r,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=r/2,d=r*2,f=Math.abs(t),m=e[0]/f,v=e[2]/f,y=s((m+u)/d)!==s((v+u)/d)?-f:o(l(m)*f,l(v)*f),x=s((m-u)/d)!==s((v-u)/d)?f:a(l(m)*f,l(v)*f),g=s((m+r)/d)!==s((v+r)/d)?f*2:a(f-c(m)*f,f-c(v)*f);i.min.set(y,e[1],t<0?-g:0),i.max.set(x,e[3],t<0?0:g)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(ID).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){t=i[r].end;let s=i[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,i){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new mu(t,i)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const nce=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,ice=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,rce=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,sce=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function oce(n){const e=LM(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Fe},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Kt(0,0,0,0)},uTroikaClipRect:{value:new Kt(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Fe},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new at},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new At},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:nce,vertexTransform:ice,fragmentDefs:rce,fragmentColorTransform:sce,customRewriter({vertexShader:t,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(hB,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:i}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const M2=new La({color:16777215,side:Zs,transparent:!0}),DD=8421504,LD=new Mt,sy=new q,RS=new q,Bh=[],ace=new q,IS="+x+y";function kD(n){return Array.isArray(n)?n[0]:n}let xB=()=>{const n=new Tn(new ka(1,1),M2);return xB=()=>n,n},_B=()=>{const n=new Tn(new ka(1,1,32,1),M2);return _B=()=>n,n};const lce={type:"syncstart"},cce={type:"synccomplete"},wB=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],uce=wB.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let SB=class extends Tn{constructor(){const e=new tce;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=DD,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=IS,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(lce),mB({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(cce),e&&e()})))}onBeforeRender(e,t,i,r,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return oce(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=M2.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),e.dispose()})),this.hasOutline()){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return kD(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return kD(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:a,blockBounds:l}=r;i.uTroikaSDFTexture.value=a,i.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(l),i.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let c=0,u=0,d=0,f,m,v,y=0,x=0;if(t){let{outlineWidth:_,outlineOffsetX:S,outlineOffsetY:b,outlineBlur:E,outlineOpacity:C}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(E)||0),f=C,y=this._parsePercent(S)||0,x=this._parsePercent(b)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(v=this.strokeColor,i.uTroikaStrokeColor.value.set(v??DD),m=this.strokeOpacity,m==null&&(m=1)),f=this.fillOpacity;i.uTroikaEdgeOffset.value=c,i.uTroikaPositionOffset.value.set(y,x),i.uTroikaBlurRadius.value=u,i.uTroikaStrokeWidth.value=d,i.uTroikaStrokeOpacity.value=m,i.uTroikaFillOpacity.value=f??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)i.uTroikaClipRect.value.fromArray(g);else{const _=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new at;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||IS;if(o!==e._orientation){let a=i.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==IS&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,d,f]=l;sy.set(0,0,0)[u]=c==="-"?1:-1,RS.set(0,0,0)[f]=d==="-"?-1:1,LD.lookAt(ace,sy.cross(RS),RS),a.setFromMatrix4(LD)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),i=t?parseFloat(t[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Fe){t.copy(e);const i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new Fe){return sy.copy(e),this.localPositionToTextCoords(this.worldToLocal(sy),t)}raycast(e,t){const{textRenderInfo:i,curveRadius:r}=this;if(i){const s=i.blockBounds,o=r?_B():xB(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let d=s[0]+c.getX(u)*(s[2]-s[0]);const f=s[1]+c.getY(u)*(s[3]-s[1]);let m=0;r&&(m=r-Math.cos(d/r)*r,d=Math.sin(d/r)*r),l.setXYZ(u,d,f,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,Bh.length=0,o.raycast(e,Bh);for(let u=0;u<Bh.length;u++)Bh[u].object=this,t.push(Bh[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,uce.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};wB.forEach(n=>{const e="_private_"+n;Object.defineProperty(SB.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new yi;new at;const dce=z.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:s,characters:o,onSync:a,...l},c)=>{const u=oa(({invalidate:v})=>v),[d]=z.useState(()=>new SB),[f,m]=z.useMemo(()=>{const v=[];let y="";return z.Children.forEach(s,x=>{typeof x=="string"||typeof x=="number"?y+=x:v.push(x)}),[v,y]},[s]);return _ae(()=>new Promise(v=>Kle({font:i,characters:o},v)),["troika-text",i,o]),z.useLayoutEffect(()=>void d.sync(()=>{u(),a&&a(d)})),z.useEffect(()=>()=>d.dispose(),[d]),z.createElement("primitive",ux({object:d,ref:c,font:i,text:m,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},l),f)}),fce=z.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=oa(C=>C.invalidate),f=oa(C=>C.camera),m=oa(C=>C.gl),v=oa(C=>C.events),y=oa(C=>C.setEvents),x=oa(C=>C.set),g=oa(C=>C.get),_=oa(C=>C.performance),S=e||f,b=i||v.connected||m.domElement,E=z.useMemo(()=>new gle(S),[S]);return S2(()=>{E.enabled&&E.update()},-1),z.useEffect(()=>(s&&E.connect(s===!0?b:s),E.connect(b),()=>void E.dispose()),[s,b,t,E,d]),z.useEffect(()=>{const C=I=>{d(),t&&_.regress(),o&&o(I)},P=I=>{a&&a(I)},R=I=>{l&&l(I)};return E.addEventListener("change",C),E.addEventListener("start",P),E.addEventListener("end",R),()=>{E.removeEventListener("start",P),E.removeEventListener("end",R),E.removeEventListener("change",C)}},[o,a,l,E,d,y]),z.useEffect(()=>{if(n){const C=g().controls;return x({controls:E}),()=>x({controls:C})}},[n,E]),z.createElement("primitive",ux({ref:u,object:E,enableDamping:r},c))}),hce=z.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const c=z.useRef(null);z.useImperativeHandle(l,()=>c.current,[]);const u=z.useRef(Math.random()*1e4);return S2(d=>{var f,m;if(!e||t===0)return;o&&d.invalidate();const v=u.current+d.clock.elapsedTime;c.current.rotation.x=Math.cos(v/4*t)/8*i,c.current.rotation.y=Math.sin(v/4*t)/8*i,c.current.rotation.z=Math.sin(v/4*t)/20*i;let y=Math.sin(v/4*t)/10;y=kz.mapLinear(y,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(m=s==null?void 0:s[1])!==null&&m!==void 0?m:.1),c.current.position.y=y*r,c.current.updateMatrix()}),z.createElement("group",a,z.createElement("group",{ref:c,matrixAutoUpdate:!1},n))}),pce=({position:n,text:e,color:t})=>{const i=z.useRef(null);return S2(r=>{i.current&&(i.current.rotation.y=Math.sin(r.clock.elapsedTime+n[0])*.2,i.current.rotation.x=Math.cos(r.clock.elapsedTime+n[1])*.1)}),D.jsx(hce,{speed:1,rotationIntensity:.5,floatIntensity:.5,children:D.jsxs("mesh",{ref:i,position:n,children:[D.jsx("sphereGeometry",{args:[.5,32,32]}),D.jsx("meshStandardMaterial",{color:t,transparent:!0,opacity:.8}),D.jsx(dce,{position:[0,0,.6],fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",children:e})]})})},mce=()=>{const n=[{position:[-2,1,0],text:"⚛️",color:"#61dafb"},{position:[2,-1,0],text:"💻",color:"#9333ea"},{position:[0,2,-1],text:"🚀",color:"#3b82f6"},{position:[-1,-2,1],text:"✨",color:"#eab308"}];return D.jsxs(lle,{camera:{position:[0,0,5],fov:60},children:[D.jsx("ambientLight",{intensity:.5}),D.jsx("pointLight",{position:[10,10,10],intensity:1}),D.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#9333ea"}),n.map((e,t)=>D.jsx(pce,{position:e.position,text:e.text,color:e.color},t)),D.jsx(fce,{enableZoom:!1,enablePan:!1})]})},gce=kN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ns=z.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?Hp:"button";return D.jsx(o,{className:zo(gce({variant:e,size:t,className:n})),ref:s,...r})});ns.displayName="Button";const ND=()=>D.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center",children:[D.jsx(Da,{}),D.jsx(QQ,{}),D.jsxs("div",{className:"container mx-auto px-6 py-20 relative z-10",children:[D.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[D.jsxs(it.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-8",children:[D.jsxs(it.h1,{className:"text-6xl lg:text-8xl font-bold",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[D.jsx("span",{className:"gradient-text",children:"Ashley"}),D.jsx("br",{}),D.jsx("span",{className:"text-foreground",children:"Josco"})]}),D.jsx(it.p,{className:"text-xl lg:text-2xl text-muted-foreground max-w-lg leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Aspiring Data Scientist & AI Enthusiast leveraging machine learning and data analytics to solve complex problems and drive data-driven insights."}),D.jsxs(it.div,{className:"flex flex-col sm:flex-row gap-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[D.jsx(ns,{asChild:!0,className:"group relative overflow-hidden",children:D.jsxs(Yd,{to:"/contact",className:"flex items-center space-x-2",children:[D.jsx(OE,{size:20}),D.jsx("span",{children:"Get In Touch"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})}),D.jsx(ns,{variant:"outline",asChild:!0,className:"group",children:D.jsxs("a",{href:"https://drive.google.com/file/d/1lgTfuS6K0KAtanh_O5Z8UipNhnq4HGMI/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2",children:[D.jsx(RH,{size:20}),D.jsx("span",{children:"Download Resume"})]})})]}),D.jsxs(it.div,{className:"flex space-x-6 text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-glow"}),D.jsx("span",{children:"B.Tech AI & Data Science"})]}),D.jsx("div",{className:"flex items-center space-x-2"})]})]}),D.jsxs(it.div,{className:"h-96 lg:h-[500px] relative",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.4},children:[D.jsx("div",{className:"absolute inset-0 bg-gradient-primary rounded-3xl opacity-10 blur-3xl"}),D.jsx("div",{className:"relative z-10 h-full rounded-2xl overflow-hidden border border-card-border bg-card/50 backdrop-blur-sm",children:D.jsx(mce,{})})]})]}),D.jsxs(it.div,{className:"mt-32 text-center",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:[D.jsx("h2",{className:"text-4xl lg:text-6xl font-bold mb-8",children:D.jsx("span",{className:"gradient-text",children:"About Me"})}),D.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 text-center",children:[D.jsx(it.p,{className:"text-lg text-muted-foreground leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"I am a passionate and driven B.Tech student in Artificial Intelligence & Data Science at SRM TRP Engineering College. My fascination with the power of data has led me to pursue a career where I can apply my expertise in machine learning, data analytics, and visualization to uncover meaningful insights and solve real-world challenges."}),D.jsx(it.p,{className:"text-lg text-muted-foreground leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"I believe in a meticulous and analytical approach to problem-solving. Whether it's developing predictive models or performing exploratory data analysis, I am committed to delivering accurate and impactful results. I am constantly learning and exploring new technologies to stay at the forefront of the ever-evolving field of data science."}),D.jsx(it.p,{className:"text-lg text-muted-foreground leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"I am actively seeking opportunities in data science, AI, or business intelligence where I can contribute my skills in predictive modeling, statistical analysis, and problem-solving to a dynamic team."})]})]})]}),D.jsx(it.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:D.jsx(EH,{className:"text-muted-foreground",size:24})})]}),vce=()=>D.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center",children:[D.jsx(Da,{}),D.jsx("div",{className:"container mx-auto px-6 relative z-10",children:D.jsxs(it.div,{className:"text-center max-w-4xl mx-auto",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsx(it.div,{className:"mb-8",animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:D.jsx(GH,{className:"mx-auto text-primary",size:64})}),D.jsxs(it.h1,{className:"text-5xl lg:text-7xl font-bold mb-8",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},children:["Ready to Build Something",D.jsx("br",{}),D.jsx("span",{className:"gradient-text",children:"Amazing Together?"})]}),D.jsx(it.p,{className:"text-xl lg:text-2xl text-muted-foreground mb-12 max-w-2xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Let's transform your ideas into exceptional digital experiences that captivate users and drive results."}),D.jsxs(it.div,{className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[D.jsx(it.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:D.jsx(ns,{asChild:!0,size:"lg",className:"group relative overflow-hidden px-8 py-4 text-lg",children:D.jsxs(Yd,{to:"/contact",className:"flex items-center space-x-3",children:[D.jsx(zN,{size:24}),D.jsx("span",{children:"Contact Me"}),D.jsx(pP,{size:20,className:"group-hover:translate-x-1 transition-transform"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-glow opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})})}),D.jsx(it.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:D.jsx(ns,{variant:"outline",asChild:!0,size:"lg",className:"group px-8 py-4 text-lg border-primary/50 hover:border-primary",children:D.jsxs(Yd,{to:"/projects",className:"flex items-center space-x-3",children:[D.jsx("span",{children:"View My Work"}),D.jsx(pP,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})})]}),D.jsxs(it.div,{className:"grid md:grid-cols-3 gap-8 mt-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[D.jsx(it.div,{className:"group",whileHover:{y:-5},children:D.jsxs("div",{className:"interactive-card p-8 text-center h-full",children:[D.jsx("div",{className:"text-4xl mb-4 group-hover:animate-pulse-glow",children:"💼"}),D.jsx("h3",{className:"text-xl font-bold mb-2 text-primary",children:"Freelance Projects"}),D.jsx("p",{className:"text-muted-foreground",children:"Custom web applications tailored to your specific needs and requirements."})]})}),D.jsx(it.div,{className:"group",whileHover:{y:-5},children:D.jsxs("div",{className:"interactive-card p-8 text-center h-full",children:[D.jsx("div",{className:"text-4xl mb-4 group-hover:animate-pulse-glow",children:"🤝"}),D.jsx("h3",{className:"text-xl font-bold mb-2 text-secondary",children:"Full-time Opportunities"}),D.jsx("p",{className:"text-muted-foreground",children:"Open to exciting full-time positions with innovative companies and teams."})]})}),D.jsx(it.div,{className:"group",whileHover:{y:-5},children:D.jsxs("div",{className:"interactive-card p-8 text-center h-full",children:[D.jsx("div",{className:"text-4xl mb-4 group-hover:animate-pulse-glow",children:"🎯"}),D.jsx("h3",{className:"text-xl font-bold mb-2 text-accent",children:"Consulting"}),D.jsx("p",{className:"text-muted-foreground",children:"Strategic technical consulting to help optimize your development processes."})]})})]})]})})]}),yce=()=>{const n=[{id:1,title:"AI-Based CCTV Network for Crowd Management",description:"Built an AI-powered system for real-time crowd density analysis. This system improved crowd detection accuracy by 30% using computer vision and machine learning algorithms.",image:"🎥",tech:["Python","OpenCV","TensorFlow","YOLO"],githubUrl:"https://github.com/ashley-1318/AI-Crowd-Management",featured:!0},{id:2,title:"Wearable Sleep Monitoring Device",description:"Designed and conceptualized a wristwatch for monitoring sleep patterns and detecting sleep apnea. Integrates biometric sensors with AI-powered analysis.",image:"⌚",tech:["IoT Sensors","Machine Learning","Python","Data Analytics"],githubUrl:"https://github.com/ashley-1318/Wearable-Sleep-Monitoring-and-Therapeutic-Device",featured:!0},{id:3,title:"Handwritten OCR System",description:"Developed an AI-driven text recognition system capable of converting handwritten text into digital format. Presented at ICEACS-24 conference.",image:"📝",tech:["Python","TensorFlow","OpenCV","Neural Networks"],githubUrl:"https://github.com/ashley-1318/Handwritten-Optical-Character-Recognition-OCR-system.",featured:!0},{id:4,title:"AI-Based Electricity Demand and Peak Load Forecasting for the Tamil Nadu Power Grid",description:"Developed an advanced AI system for predicting electricity demand and peak load forecasting specifically for Tamil Nadu's power grid. Implemented machine learning algorithms to optimize energy distribution and improve grid efficiency.",image:"⚡",tech:["Python","Machine Learning","Time Series Analysis","Power Systems"],githubUrl:"https://github.com/ashley-1318/AI-Electricity-Demand-Forecast",featured:!0},{id:5,title:"Smart Medication Dispensing System",description:"Patent-pending innovation for automated drug dispensing with AI-powered prescription scanning, biometric authentication, and inventory management.",image:"💊",tech:["AI/ML","Biometric Systems","RFID","IoT"],liveUrl:"#",githubUrl:"#",featured:!1},{id:6,title:"Data Analytics Dashboard",description:"Interactive dashboard for exploratory data analysis with multiple visualization options and statistical insights for content trend analysis.",image:"📊",tech:["Python","Tableau","Power BI","Data Visualization"],liveUrl:"#",githubUrl:"#",featured:!1}];return D.jsxs("div",{className:"min-h-screen relative overflow-hidden pt-20",children:[D.jsx(Da,{}),D.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[D.jsxs(it.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:["Academic & Personal ",D.jsx("span",{className:"gradient-text",children:"Projects"})]}),D.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Innovative projects spanning AI, machine learning, IoT, and healthcare technology solutions."})]}),D.jsxs(it.div,{className:"mb-20",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[D.jsx("h2",{className:"text-3xl font-bold mb-8 text-primary",children:"Featured Projects"}),D.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:n.filter(e=>e.featured).map((e,t)=>D.jsx(it.div,{className:"group relative",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:t*.1},whileHover:{y:-10},children:D.jsxs("div",{className:"interactive-card p-8 h-full",children:[D.jsxs("div",{className:"flex items-start justify-between mb-6",children:[D.jsx("div",{className:"text-6xl group-hover:animate-pulse-glow",children:e.image}),D.jsxs("div",{className:"flex space-x-2",children:[D.jsx(ns,{variant:"outline",size:"sm",asChild:!0,children:D.jsx("a",{href:e.liveUrl,className:"flex items-center space-x-1",children:D.jsx(i0,{size:16})})}),D.jsx(ns,{variant:"outline",size:"sm",asChild:!0,children:D.jsx("a",{href:e.githubUrl,className:"flex items-center space-x-1",children:D.jsx(r0,{size:16})})})]})]}),D.jsx("h3",{className:"text-2xl font-bold mb-4 group-hover:text-primary transition-colors",children:e.title}),D.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:e.description}),D.jsx("div",{className:"flex flex-wrap gap-2",children:e.tech.map(i=>D.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-sm font-medium border border-card-border",children:i},i))})]})},e.id))})]}),D.jsxs(it.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:[D.jsx("h2",{className:"text-3xl font-bold mb-8 text-secondary",children:"All Projects"}),D.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e,t)=>D.jsx(it.div,{className:"group",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},whileHover:{y:-5,scale:1.02},children:D.jsxs("div",{className:"interactive-card p-6 h-full",children:[D.jsx("div",{className:"text-4xl mb-4 group-hover:animate-pulse-glow",children:e.image}),D.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-primary transition-colors",children:e.title}),D.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-3",children:e.description}),D.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:e.tech.slice(0,3).map(i=>D.jsx("span",{className:"px-2 py-1 bg-muted rounded text-xs font-medium",children:i},i))}),D.jsxs("div",{className:"flex space-x-2",children:[D.jsx(ns,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:D.jsxs("a",{href:e.liveUrl,className:"flex items-center justify-center space-x-1",children:[D.jsx(zH,{size:14}),D.jsx("span",{children:"Demo"})]})}),D.jsx(ns,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:D.jsxs("a",{href:e.githubUrl,className:"flex items-center justify-center space-x-1",children:[D.jsx(r0,{size:14}),D.jsx("span",{children:"Code"})]})})]})]})},e.id))})]})]})]})},xce=()=>{const n=[{icon:UN,title:"Programming Languages",color:"text-primary",skills:[{name:"Python",level:95},{name:"Java",level:85},{name:"SQL",level:90},{name:"R",level:75},{name:"C",level:80}]},{icon:PH,title:"Machine Learning & AI",color:"text-secondary",skills:[{name:"Scikit-learn",level:90},{name:"TensorFlow",level:85},{name:"Supervised Learning",level:90},{name:"Unsupervised Learning",level:85},{name:"Natural Language Processing (NLP)",level:80}]},{icon:IH,title:"Tools & Frameworks",color:"text-accent",skills:[{name:"Pandas",level:95},{name:"Tableau",level:90},{name:"Power BI",level:85},{name:"Apache Hadoop",level:75},{name:"AWS",level:80}]},{icon:HH,title:"Version Control",color:"text-primary-glow",skills:[{name:"GitHub",level:95},{name:"GitLab",level:85},{name:"Git",level:95}]},{icon:zN,title:"Problem-Solving",color:"text-secondary-glow",skills:[{name:"Analytical Thinking",level:95},{name:"Critical Thinking",level:90},{name:"Decision-Making",level:85},{name:"Troubleshooting",level:90},{name:"Debugging",level:85}]},{icon:AH,title:"Data Analysis",color:"text-accent-glow",skills:[{name:"Data Visualization",level:90},{name:"Statistical Analysis",level:85},{name:"Predictive Modeling",level:85},{name:"Data Cleaning",level:90},{name:"EDA",level:90}]}];return D.jsxs("div",{className:"min-h-screen relative overflow-hidden pt-20",children:[D.jsx(Da,{}),D.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[D.jsxs(it.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:["Technical ",D.jsx("span",{className:"gradient-text",children:"Skills"})]}),D.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"My expertise across programming languages, machine learning, data analysis tools, and problem-solving methodologies."})]}),D.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>{const i=e.icon;return D.jsxs(it.div,{className:"interactive-card p-8",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},whileHover:{y:-10},children:[D.jsxs("div",{className:"flex items-center mb-6",children:[D.jsx(i,{className:`${e.color} mr-3`,size:32}),D.jsx("h3",{className:"text-xl font-bold",children:e.title})]}),D.jsx("div",{className:"space-y-4",children:e.skills.map((r,s)=>D.jsxs(it.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.1+s*.05},children:[D.jsxs("div",{className:"flex justify-between items-center mb-2",children:[D.jsx("span",{className:"font-medium",children:r.name}),D.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.level,"%"]})]}),D.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:D.jsx(it.div,{className:"h-full bg-gradient-primary rounded-full",initial:{width:0},animate:{width:`${r.level}%`},transition:{duration:1,delay:t*.1+s*.05+.5,ease:"easeOut"}})})]},r.name))})]},e.title)})}),D.jsxs(it.div,{className:"mt-20 grid md:grid-cols-4 gap-8",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[D.jsxs("div",{className:"text-center",children:[D.jsx(it.div,{className:"text-4xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1},children:"3+"}),D.jsx("p",{className:"text-muted-foreground",children:"Years of Learning"})]}),D.jsxs("div",{className:"text-center",children:[D.jsx(it.div,{className:"text-4xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1.1},children:"5+"}),D.jsx("p",{className:"text-muted-foreground",children:"Projects Completed"})]}),D.jsxs("div",{className:"text-center",children:[D.jsx(it.div,{className:"text-4xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1.2},children:"15+"}),D.jsx("p",{className:"text-muted-foreground",children:"Technologies Learned"})]}),D.jsxs("div",{className:"text-center",children:[D.jsx(it.div,{className:"text-4xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1.3},children:"10+"}),D.jsx("p",{className:"text-muted-foreground",children:"Certifications Earned"})]})]})]})]})},Kh=z.forwardRef(({className:n,type:e,...t},i)=>D.jsx("input",{type:e,className:zo("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));Kh.displayName="Input";const bB=z.forwardRef(({className:n,...e},t)=>D.jsx("textarea",{className:zo("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));bB.displayName="Textarea";const _ce=()=>{const[n,e]=z.useState(!1),{toast:t}=rN(),i=async o=>{o.preventDefault(),e(!0),setTimeout(()=>{e(!1),t({title:"Message sent successfully!",description:"Thank you for reaching out. I'll get back to you soon."})},2e3)},r=[{icon:OE,label:"Email",value:"ashleyjosco18@gmail.com",href:"mailto:ashleyjosco18@gmail.com"},{icon:FH,label:"Phone",value:"9043840276",href:"tel:9043840276"},{icon:NH,label:"LinkedIn",value:"www.linkedin.com/in/ashley-josco-c",href:"https://www.linkedin.com/in/ashley-josco-c"}],s=[{icon:r0,href:"https://github.com/ashley-1318",label:"GitHub"},{icon:kH,href:"https://www.linkedin.com/in/ashley-josco-c",label:"LinkedIn"}];return D.jsxs("div",{className:"min-h-screen relative overflow-hidden pt-20",children:[D.jsx(Da,{}),D.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[D.jsxs(it.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:["Get In ",D.jsx("span",{className:"gradient-text",children:"Touch"})]}),D.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"I'm always open to discussing new opportunities and collaborations. Feel free to reach out!"})]}),D.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[D.jsxs(it.div,{className:"interactive-card p-8",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:[D.jsx("h2",{className:"text-2xl font-bold mb-6 text-primary",children:"Send a Message"}),D.jsxs("form",{onSubmit:i,className:"space-y-6",children:[D.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),D.jsx(Kh,{placeholder:"John",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),D.jsx(Kh,{placeholder:"Doe",required:!0})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),D.jsx(Kh,{type:"email",placeholder:"john@example.com",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subject"}),D.jsx(Kh,{placeholder:"Project Discussion",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message"}),D.jsx(bB,{placeholder:"Tell me about your project...",rows:6,required:!0})]}),D.jsxs(ns,{type:"submit",disabled:n,className:"w-full group relative overflow-hidden",children:[D.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[D.jsx(BH,{size:20}),D.jsx("span",{children:n?"Sending...":"Send Message"})]}),!n&&D.jsx("div",{className:"absolute inset-0 bg-gradient-glow opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})]})]}),D.jsxs(it.div,{className:"space-y-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},children:[D.jsxs("div",{className:"interactive-card p-8",children:[D.jsx("h2",{className:"text-2xl font-bold mb-6 text-secondary",children:"Contact Information"}),D.jsx("div",{className:"space-y-4",children:r.map(o=>{const a=o.icon;return D.jsxs(it.a,{href:o.href,className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-muted transition-colors group",whileHover:{x:10},children:[D.jsx(a,{className:"text-primary group-hover:text-secondary transition-colors",size:24}),D.jsxs("div",{children:[D.jsx("p",{className:"font-medium",children:o.label}),D.jsx("p",{className:"text-muted-foreground",children:o.value})]})]},o.label)})})]}),D.jsxs("div",{className:"interactive-card p-8",children:[D.jsx("h2",{className:"text-2xl font-bold mb-6 text-accent",children:"Follow Me"}),D.jsx("div",{className:"grid grid-cols-5 gap-4",children:s.map((o,a)=>{const l=o.icon;return D.jsxs(it.a,{href:o.href,className:"group relative p-3 bg-muted rounded-lg hover:bg-primary transition-all duration-300 flex items-center justify-center",whileHover:{scale:1.1,y:-5},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:[D.jsx(l,{className:"group-hover:text-primary-foreground transition-colors",size:20}),D.jsx("div",{className:"absolute -inset-1 bg-gradient-primary opacity-0 group-hover:opacity-20 rounded-lg blur transition-opacity duration-300"})]},o.label)})})]})]})]})]})]})},wce=()=>{const n=[{company:"Expoys Data Labs",role:"Diabetes Prediction Using Machine Learning",period:"2024",description:"Developed a predictive model for early-stage diabetes detection. Utilized ML algorithms for risk assessment and generated actionable insights.",achievements:["Built machine learning models for diabetes risk prediction","Implemented data preprocessing and feature engineering","Generated actionable insights for healthcare professionals","Improved early detection accuracy through advanced algorithms"]},{company:"NoviTech R&D Private Limited",role:"Full Stack Development Intern",period:"2024",description:"Gained practical experience in both frontend and backend technologies. Contributed to real-world projects under the mentorship of industry professionals.",achievements:["Developed full-stack web applications using modern technologies","Collaborated with senior developers on production projects","Gained hands-on experience in both frontend and backend development","Contributed to real-world software solutions"]},{company:"Accenture North America",role:"Data Analyst Virtual Internship",period:"2024",description:"Analyzed 7 datasets to identify key content trends. Applied data cleaning, exploratory data analysis (EDA), and data visualization techniques to present findings.",achievements:["Analyzed 7 comprehensive datasets for content trend identification","Performed advanced data cleaning and preprocessing","Conducted exploratory data analysis (EDA) on large datasets","Created compelling data visualizations to communicate insights"]}];return D.jsxs("div",{className:"min-h-screen relative overflow-hidden pt-20",children:[D.jsx(Da,{}),D.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[D.jsxs(it.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:["Internships ",D.jsx("span",{className:"gradient-text",children:"Experience"})]}),D.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"My journey through internships and projects that shaped my expertise in data science and AI."})]}),D.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:n.map((e,t)=>D.jsxs(it.div,{className:"interactive-card p-8",initial:{opacity:0,x:t%2===0?-50:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:t*.2},whileHover:{y:-5},children:[D.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[D.jsxs("div",{className:"flex items-start space-x-4",children:[D.jsx("div",{className:"mt-1",children:D.jsx(ON,{className:"text-primary",size:24})}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:e.role}),D.jsx("h4",{className:"text-xl text-primary font-semibold mb-2",children:e.company})]})]}),D.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[D.jsx(TH,{size:16}),D.jsx("span",{children:e.period})]})]}),D.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:e.description}),D.jsxs("div",{className:"space-y-3",children:[D.jsx("h5",{className:"font-semibold text-foreground",children:"Key Achievements:"}),D.jsx("ul",{className:"space-y-2",children:e.achievements.map((i,r)=>D.jsxs(it.li,{className:"flex items-start space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.2+r*.1+.4},children:[D.jsx("div",{className:"w-2 h-2 bg-gradient-primary rounded-full mt-2 flex-shrink-0"}),D.jsx("span",{className:"text-muted-foreground",children:i})]},r))})]})]},e.company))})]})]})},Sce=()=>{const n=[{title:"Python for Data Science",issuer:"Great Learning",year:"2024",description:"Comprehensive course covering Python programming fundamentals for data science applications.",skills:["Python Programming","Data Structures","NumPy","Pandas"]},{title:"Exploratory Data Analysis",issuer:"Infosys Springboard",year:"2024",description:"Advanced techniques for exploring and understanding datasets through statistical analysis.",skills:["Data Exploration","Statistical Analysis","Data Visualization","Pattern Recognition"]},{title:"Data Analytics & Visualization",issuer:"Accenture",year:"2024",description:"Practical skills in analyzing large datasets and creating compelling visualizations.",skills:["Data Analytics","Tableau","Power BI","Dashboard Creation"]},{title:"Cybersecurity Analyst Simulation",issuer:"Tata",year:"2024",description:"Hands-on experience in cybersecurity analysis and threat detection methodologies.",skills:["Threat Analysis","Security Assessment","Risk Management","Incident Response"]},{title:"Journey to Cloud Course",issuer:"IBM SkillBuild",year:"2024",description:"Comprehensive introduction to cloud computing concepts and IBM Cloud services.",skills:["Cloud Computing","IBM Cloud","DevOps","Infrastructure Management"]},{title:"AI/ML Bootcamp",issuer:"GeeksforGeeks - SRM Institute of Science and Technology Trichy",year:"2024",description:"Intensive bootcamp covering artificial intelligence and machine learning fundamentals.",skills:["Machine Learning","Deep Learning","Neural Networks","AI Algorithms"]}];return D.jsxs("div",{className:"min-h-screen relative overflow-hidden pt-20",children:[D.jsx(Da,{}),D.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[D.jsxs(it.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:["Certifications & ",D.jsx("span",{className:"gradient-text",children:"Achievements"})]}),D.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Continuous learning journey through professional certifications and specialized training programs."})]}),D.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>D.jsxs(it.div,{className:"interactive-card p-6 h-full flex flex-col",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:t*.1},whileHover:{y:-10},children:[D.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[D.jsx("div",{className:"mt-1",children:D.jsx(NE,{className:"text-primary",size:28})}),D.jsxs("div",{className:"flex-1",children:[D.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:e.title}),D.jsx("p",{className:"text-primary font-semibold",children:e.issuer}),D.jsx("p",{className:"text-sm text-muted-foreground",children:e.year})]})]}),D.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed flex-1",children:e.description}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("h5",{className:"font-semibold text-foreground mb-3",children:"Skills Gained:"}),D.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((i,r)=>D.jsx(it.span,{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:t*.1+r*.05+.5},children:i},r))})]}),D.jsxs(ns,{variant:"outline",className:"w-full group",children:[D.jsx("span",{children:"View Certificate"}),D.jsx(i0,{size:16,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})]})]},e.title))}),D.jsx(it.div,{className:"mt-20 text-center",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:D.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[D.jsxs("div",{className:"interactive-card p-6",children:[D.jsx(it.div,{className:"text-3xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1},children:"6+"}),D.jsx("p",{className:"text-muted-foreground",children:"Professional Certifications"})]}),D.jsxs("div",{className:"interactive-card p-6",children:[D.jsx(it.div,{className:"text-3xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1.1},children:"20+"}),D.jsx("p",{className:"text-muted-foreground",children:"Skills Acquired"})]})]})})]})]})},bce=()=>{const n=[{icon:LH,title:"AI-Powered Innovation",description:"Leverages artificial intelligence for intelligent medication management and automated dispensing decisions."},{icon:VH,title:"Biometric Security",description:"Advanced biometric and RFID authentication ensures secure access and prevents unauthorized medication access."},{icon:XH,title:"Healthcare Accessibility",description:"Designed to improve medication accessibility and reduce human error in healthcare delivery systems."},{icon:gP,title:"Smart Inventory",description:"Real-time inventory management with automated restocking alerts and medication tracking capabilities."}];return D.jsxs("div",{className:"min-h-screen relative overflow-hidden pt-20",children:[D.jsx(Da,{}),D.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[D.jsxs(it.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:["Patent ",D.jsx("span",{className:"gradient-text",children:"Innovation"})]}),D.jsx("div",{className:"flex justify-center mb-4",children:D.jsxs("a",{href:"https://github.com/ashley-1318/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded bg-gray-900 hover:bg-gray-800 text-white transition",title:"View on GitHub",children:[D.jsx(r0,{size:20}),D.jsx("span",{className:"hidden sm:inline",children:"View on GitHub"})]})}),D.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Pioneering healthcare technology through innovative AI-based solutions for medication management."})]}),D.jsx(it.div,{className:"max-w-4xl mx-auto mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:D.jsxs("div",{className:"interactive-card p-8 lg:p-12",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx(it.div,{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-primary rounded-full mb-6",whileHover:{scale:1.1,rotate:5},transition:{duration:.3},children:D.jsx(gP,{className:"text-white",size:40})}),D.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"AI-Based Smart Medication Dispensing System"}),D.jsxs("div",{className:"flex justify-center items-center space-x-6 text-muted-foreground mb-6",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("span",{className:"font-semibold",children:"Application No:"}),D.jsx("span",{className:"font-mono text-primary",children:"202541041230"})]}),D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("span",{className:"font-semibold",children:"Status:"}),D.jsx("span",{className:"text-secondary",children:"Filed"})]})]})]}),D.jsx("div",{className:"prose prose-lg max-w-none text-center",children:D.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Developed and filed a patent for an innovative AI-powered automated drug dispensing system. This system is designed to streamline medication delivery through prescription scanning, biometric/RFID authentication, and real-time inventory management. The primary goals are to improve accuracy, reduce human error, and enhance accessibility in healthcare services."})})]})}),D.jsx(it.div,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:n.map((e,t)=>{const i=e.icon;return D.jsxs(it.div,{className:"interactive-card p-6 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6+t*.1},whileHover:{y:-10},children:[D.jsx("div",{className:"flex justify-center mb-4",children:D.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center",children:D.jsx(i,{className:"text-white",size:24})})}),D.jsx("h3",{className:"text-lg font-bold mb-3",children:e.title}),D.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]},e.title)})}),D.jsxs(it.div,{className:"text-center",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[D.jsxs("h3",{className:"text-3xl font-bold mb-8",children:["Innovation ",D.jsx("span",{className:"gradient-text",children:"Impact"})]}),D.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[D.jsxs("div",{className:"interactive-card p-6",children:[D.jsx(it.div,{className:"text-3xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1},children:"95%"}),D.jsx("p",{className:"text-muted-foreground",children:"Error Reduction"})]}),D.jsxs("div",{className:"interactive-card p-6",children:[D.jsx(it.div,{className:"text-3xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1.1},children:"24/7"}),D.jsx("p",{className:"text-muted-foreground",children:"Automated Access"})]}),D.jsxs("div",{className:"interactive-card p-6",children:[D.jsx(it.div,{className:"text-3xl font-bold gradient-text mb-2",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:1.2},children:"100%"}),D.jsx("p",{className:"text-muted-foreground",children:"Secure Authentication"})]})]})]})]})]})},Mce=()=>{const[n,e]=z.useState({totalSolved:0,easySolved:0,mediumSolved:0,hardSolved:0,ranking:0,loading:!0}),t="https://leetcode.com/u/AshleyJosco18/";z.useEffect(()=>{setTimeout(()=>{e({totalSolved:50,easySolved:35,mediumSolved:10,hardSolved:4,ranking:2264287,loading:!1})},500)},[]);const i=[{icon:Pb,title:"Consistency Streak",description:"Regular problem-solving practice demonstrates dedication to algorithmic thinking.",color:"text-yellow-500"},{icon:vP,title:"Problem Diversity",description:"Tackled problems across various difficulty levels and data structure categories.",color:"text-blue-500"},{icon:yP,title:"Continuous Growth",description:"Steady improvement in problem-solving skills and algorithmic knowledge.",color:"text-green-500"},{icon:mP,title:"Quality Solutions",description:"Focus on writing clean, efficient, and well-optimized code solutions.",color:"text-purple-500"}],r=[{name:"Arrays & Strings",level:85},{name:"Dynamic Programming",level:70},{name:"Trees & Graphs",level:75},{name:"Hash Tables",level:80},{name:"Two Pointers",level:78},{name:"Sliding Window",level:72},{name:"Binary Search",level:68},{name:"Backtracking",level:65}];return D.jsxs("div",{className:"min-h-screen relative overflow-hidden pt-20",children:[D.jsx(Da,{}),D.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[D.jsxs(it.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[D.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:["LeetCode ",D.jsx("span",{className:"gradient-text",children:"Journey"})]}),D.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-6",children:"Continuous growth through algorithmic problem-solving and competitive programming."}),D.jsx(ns,{asChild:!0,size:"lg",className:"shadow-glow",children:D.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2",children:[D.jsx(CH,{size:20}),"View LeetCode Profile",D.jsx(i0,{size:16})]})})]}),D.jsx(it.div,{className:"max-w-5xl mx-auto mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:D.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[D.jsxs(it.div,{className:"interactive-card p-6 text-center",whileHover:{y:-10},children:[D.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-primary rounded-full mb-4",children:D.jsx(Pb,{className:"text-white",size:32})}),D.jsx("h3",{className:"text-4xl font-bold mb-2 gradient-text",children:n.loading?"...":n.totalSolved}),D.jsx("p",{className:"text-muted-foreground",children:"Total Problems Solved"})]}),D.jsxs(it.div,{className:"interactive-card p-6 text-center",whileHover:{y:-10},children:[D.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-500/20 rounded-full mb-4",children:D.jsx(mP,{className:"text-green-500",size:32})}),D.jsx("h3",{className:"text-4xl font-bold mb-2 text-green-500",children:n.loading?"...":n.easySolved}),D.jsx("p",{className:"text-muted-foreground",children:"Easy Problems"})]}),D.jsxs(it.div,{className:"interactive-card p-6 text-center",whileHover:{y:-10},children:[D.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-yellow-500/20 rounded-full mb-4",children:D.jsx(vP,{className:"text-yellow-500",size:32})}),D.jsx("h3",{className:"text-4xl font-bold mb-2 text-yellow-500",children:n.loading?"...":n.mediumSolved}),D.jsx("p",{className:"text-muted-foreground",children:"Medium Problems"})]}),D.jsxs(it.div,{className:"interactive-card p-6 text-center",whileHover:{y:-10},children:[D.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-500/20 rounded-full mb-4",children:D.jsx(yP,{className:"text-red-500",size:32})}),D.jsx("h3",{className:"text-4xl font-bold mb-2 text-red-500",children:n.loading?"...":n.hardSolved}),D.jsx("p",{className:"text-muted-foreground",children:"Hard Problems"})]})]})}),D.jsxs(it.div,{className:"max-w-6xl mx-auto mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:[D.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold text-center mb-12",children:["Key ",D.jsx("span",{className:"gradient-text",children:"Achievements"})]}),D.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:i.map((s,o)=>{const a=s.icon;return D.jsx(it.div,{className:"interactive-card p-6",initial:{opacity:0,x:o%2===0?-50:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:o*.1},whileHover:{y:-5},children:D.jsxs("div",{className:"flex items-start space-x-4",children:[D.jsx("div",{className:`mt-1 ${s.color}`,children:D.jsx(a,{size:32})}),D.jsxs("div",{className:"flex-1",children:[D.jsx("h3",{className:"text-xl font-bold mb-2",children:s.title}),D.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})]})]})},s.title)})})]}),D.jsxs(it.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[D.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold text-center mb-12",children:["Problem-Solving ",D.jsx("span",{className:"gradient-text",children:"Skills"})]}),D.jsx("div",{className:"interactive-card p-8",children:D.jsx("div",{className:"space-y-6",children:r.map((s,o)=>D.jsxs(it.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.7+o*.05},children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsx("span",{className:"font-semibold text-foreground",children:s.name}),D.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.level,"%"]})]}),D.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:D.jsx(it.div,{className:"h-full bg-gradient-primary rounded-full",initial:{width:0},animate:{width:`${s.level}%`},transition:{duration:1,delay:.8+o*.05}})})]},s.name))})})]}),D.jsxs(it.div,{className:"text-center mt-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:[D.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Want to see my problem-solving approach in action?"}),D.jsx(ns,{asChild:!0,size:"lg",variant:"outline",className:"shadow-glow",children:D.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2",children:[D.jsx(NE,{size:20}),"Explore My Solutions",D.jsx(i0,{size:16})]})})]})]})]})},Ece=()=>{const n=kf();return z.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),D.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:D.jsxs("div",{className:"text-center",children:[D.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),D.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),D.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Tce=new JW,Cce=()=>D.jsx(tj,{client:Tce,children:D.jsx(RW,{children:D.jsxs("div",{className:"dark",children:[D.jsx(A8,{}),D.jsx(iG,{}),D.jsxs(Zj,{children:[D.jsx(Lq,{}),D.jsxs(Wj,{children:[D.jsx(or,{path:"/",element:D.jsx(ND,{})}),D.jsx(or,{path:"/about",element:D.jsx(ND,{})}),D.jsx(or,{path:"/cta",element:D.jsx(vce,{})}),D.jsx(or,{path:"/projects",element:D.jsx(yce,{})}),D.jsx(or,{path:"/skills",element:D.jsx(xce,{})}),D.jsx(or,{path:"/experience",element:D.jsx(wce,{})}),D.jsx(or,{path:"/certifications",element:D.jsx(Sce,{})}),D.jsx(or,{path:"/patent",element:D.jsx(bce,{})}),D.jsx(or,{path:"/leetcode",element:D.jsx(Mce,{})}),D.jsx(or,{path:"/articles",element:D.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:D.jsx("h1",{className:"text-4xl",children:"Articles Page Coming Soon"})})}),D.jsx(or,{path:"/profiles",element:D.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:D.jsx("h1",{className:"text-4xl",children:"Coding Profiles Coming Soon"})})}),D.jsx(or,{path:"/resume",element:D.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:D.jsx("h1",{className:"text-4xl",children:"Resume Page Coming Soon"})})}),D.jsx(or,{path:"/contact",element:D.jsx(_ce,{})}),D.jsx(or,{path:"*",element:D.jsx(Ece,{})})]})]})]})})});iN(document.getElementById("root")).render(D.jsx(Cce,{}));
